"use strict";(self.webpackChunkweb_front_2023=self.webpackChunkweb_front_2023||[]).push([[179],{3692:(Ht,je,Q)=>{Q.d(je,{Ot:()=>Ee,ZF:()=>yt,hX:()=>Me,z6:()=>re});var b=Q(259),R=Q(5675),ae=Q(4242);class Ee{constructor(qe){return qe}}class re{constructor(){return(0,b.C6)()}}const Ce=new R.OlP("angularfire2._apps"),ye={provide:Ee,useFactory:function Ne(dt){return dt&&1===dt.length?dt[0]:new Ee((0,b.Mq)())},deps:[[new R.FiY,Ce]]},X={provide:re,deps:[[new R.FiY,Ce]]};function Y(dt){return(qe,we)=>{const Ke=qe.runOutsideAngular(()=>dt(we));return new Ee(Ke)}}let le=(()=>{class dt{constructor(we){(0,b.KN)("angularfire",ae.q4.full,"core"),(0,b.KN)("angularfire",ae.q4.full,"app"),(0,b.KN)("angular",R.q4F.full,we.toString())}}return dt.\u0275fac=function(we){return new(we||dt)(R.LFG(R.Lbi))},dt.\u0275mod=R.oAB({type:dt}),dt.\u0275inj=R.cJS({providers:[ye,X]}),dt})();function Me(dt,...qe){return{ngModule:le,providers:[{provide:Ce,useFactory:Y(dt),multi:!0,deps:[R.R0b,R.zs3,ae.HU,...qe]}]}}const yt=(0,ae.u3)(b.ZF,!0)},81:(Ht,je,Q)=>{Q.d(je,{gg:()=>Gw,hJ:()=>jS,BS:()=>$S,ad:()=>HS,Xo:()=>GS,Cm:()=>BS,IO:()=>zS});var b=Q(4242),R=Q(5675),ae=Q(3692),Ee=Q(259),re=Q(5861),me=Q(2090),Ne=Q(9681),Ce=Q(1877);function le(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]])}return t}var Bn=Q(4859);const Br=function dr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yi=new me.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ir=new Ce.Yd("@firebase/auth");function vn(n,...e){ir.logLevel<=Ce.in.ERROR&&ir.error(`Auth (${Ne.Jn}): ${n}`,...e)}function Ct(n,...e){throw xt(n,...e)}function rn(n,...e){return xt(n,...e)}function xt(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return yi.create(n,...e)}function Ye(n,e,...t){if(!n)throw xt(e,...t)}function In(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vn(e),new Error(e)}function fn(n,e){n||In(e)}const pn=new Map;function pt(n){fn(n instanceof Function,"Expected a class definition");let e=pn.get(n);return e?(fn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pn.set(n,e),e)}function En(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class wn{constructor(e,t){this.shortDelay=e,this.longDelay=t,fn(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,me.uI)()||(0,me.b$)()}get(){return function Zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ln(){return"http:"===En()||"https:"===En()}()||(0,me.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class tn{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ui={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yn=new wn(3e4,6e4);function Pe(n,e,t,r){return ue.apply(this,arguments)}function ue(){return(ue=(0,re.Z)(function*(n,e,t,r,a={}){return ne(n,a,(0,re.Z)(function*(){let l={},f={};r&&("GET"===e?f=r:l={body:JSON.stringify(r)});const w=(0,me.xO)(Object.assign({key:n.config.apiKey},f)).slice(1),x=yield n._getAdditionalHeaders();return x["Content-Type"]="application/json",n.languageCode&&(x["X-Firebase-Locale"]=n.languageCode),tn.fetch()(Z(n,n.config.apiHost,t,w),Object.assign({method:e,headers:x,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function ne(n,e,t){return ie.apply(this,arguments)}function ie(){return(ie=(0,re.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ui),e);try{const a=new oe(n),l=yield Promise.race([t(),a.promise]);a.clearNetworkTimeout();const f=yield l.json();if("needConfirmation"in f)throw Se(n,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const w=l.ok?f.errorMessage:f.error.message,[x,k]=w.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===x)throw Se(n,"credential-already-in-use",f);if("EMAIL_EXISTS"===x)throw Se(n,"email-already-in-use",f);if("USER_DISABLED"===x)throw Se(n,"user-disabled",f);const B=r[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(k)throw function _i(n,e,t){const r=Object.assign(Object.assign({},Br()),{[e]:t});return new me.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,B,k);Ct(n,B)}}catch(a){if(a instanceof me.ZR)throw a;Ct(n,"network-request-failed")}})).apply(this,arguments)}function Z(n,e,t,r){const a=`${e}${t}?${r}`;return n.config.emulator?function Vt(n,e){fn(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,a):`${n.config.apiScheme}://${a}`}class oe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),Yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Se(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=rn(n,e,r);return a.customData._tokenResponse=t,a}function et(){return(et=(0,re.Z)(function*(n,e){return Pe(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function W(){return(W=(0,re.Z)(function*(n,e){return Pe(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function he(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function at(){return(at=(0,re.Z)(function*(n,e=!1){const t=(0,me.m9)(n),r=yield t.getIdToken(e),a=an(r);Ye(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l="object"==typeof a.firebase?a.firebase:void 0,f=l?.sign_in_provider;return{claims:a,token:r,authTime:he(ot(a.auth_time)),issuedAtTime:he(ot(a.iat)),expirationTime:he(ot(a.exp)),signInProvider:f||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(n){return 1e3*Number(n)}function an(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return vn("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,me.tV)(t);return a?JSON.parse(a):(vn("Failed to decode base64 JWT payload"),null)}catch(a){return vn("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Tn(n,e){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,re.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof me.ZR&&function Xs({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Js{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const a=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,re.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,re.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class Ar{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=he(this.lastLoginAt),this.creationTime=he(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xi(n){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,re.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),a=yield Tn(n,function se(n,e){return W.apply(this,arguments)}(t,{idToken:r}));Ye(a?.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const f=null!==(e=l.providerUserInfo)&&void 0!==e&&e.length?function sr(n){return n.map(e=>{var{providerId:t}=e,r=le(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(l.providerUserInfo):[],w=function on(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}(n.providerData,f),B=!!n.isAnonymous&&!(n.email&&l.passwordHash||w?.length),ee={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:w,metadata:new Ar(l.createdAt,l.lastLoginAt),isAnonymous:B};Object.assign(n,ee)}),Ji.apply(this,arguments)}function Mr(){return(Mr=(0,re.Z)(function*(n){const e=(0,me.m9)(n);yield Xi(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Qn(){return(Qn=(0,re.Z)(function*(n,e){const t=yield ne(n,{},(0,re.Z)(function*(){const r=(0,me.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,f=Z(n,a,"/v1/token",`key=${l}`),w=yield n._getAdditionalHeaders();return w["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(f,{method:"POST",headers:w,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class $n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Yi(n){const e=an(n);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,re.Z)(function*(){return Ye(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,re.Z)(function*(){const{accessToken:a,refreshToken:l,expiresIn:f}=yield function _r(n,e){return Qn.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(a,l,Number(f))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,f=new $n;return r&&(Ye("string"==typeof r,"internal-error",{appName:e}),f.refreshToken=r),a&&(Ye("string"==typeof a,"internal-error",{appName:e}),f.accessToken=a),l&&(Ye("number"==typeof l,"internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $n,this.toJSON())}_performRefresh(){return In("not implemented")}}function ni(n,e){Ye("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class gs{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=le(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Js(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ar(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,re.Z)(function*(){const r=yield Tn(t,t.stsTokenManager.getToken(t.auth,e));return Ye(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function st(n){return at.apply(this,arguments)}(this,e)}reload(){return function Hr(n){return Mr.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,re.Z)(function*(){let a=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),a=!0),t&&(yield Xi(r)),yield r.auth._persistUserIfCurrent(r),a&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,re.Z)(function*(){const t=yield e.getIdToken();return yield Tn(e,function pe(n,e){return et.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,f,w,x,k,B;const ee=null!==(r=t.displayName)&&void 0!==r?r:void 0,_e=null!==(a=t.email)&&void 0!==a?a:void 0,Le=null!==(l=t.phoneNumber)&&void 0!==l?l:void 0,Ge=null!==(f=t.photoURL)&&void 0!==f?f:void 0,ft=null!==(w=t.tenantId)&&void 0!==w?w:void 0,Rt=null!==(x=t._redirectEventId)&&void 0!==x?x:void 0,qn=null!==(k=t.createdAt)&&void 0!==k?k:void 0,ti=null!==(B=t.lastLoginAt)&&void 0!==B?B:void 0,{uid:rr,emailVerified:ps,isAnonymous:Dr,providerData:nr,stsTokenManager:Rs}=t;Ye(rr&&Rs,e,"internal-error");const hf=$n.fromJSON(this.name,Rs);Ye("string"==typeof rr,e,"internal-error"),ni(ee,e.name),ni(_e,e.name),Ye("boolean"==typeof ps,e,"internal-error"),Ye("boolean"==typeof Dr,e,"internal-error"),ni(Le,e.name),ni(Ge,e.name),ni(ft,e.name),ni(Rt,e.name),ni(qn,e.name),ni(ti,e.name);const DD=new gs({uid:rr,auth:e,email:_e,emailVerified:ps,displayName:ee,isAnonymous:Dr,photoURL:Ge,phoneNumber:Le,tenantId:ft,stsTokenManager:hf,createdAt:qn,lastLoginAt:ti});return nr&&Array.isArray(nr)&&(DD.providerData=nr.map(qS=>Object.assign({},qS))),Rt&&(DD._redirectEventId=Rt),DD}static _fromIdTokenResponse(e,t,r=!1){return(0,re.Z)(function*(){const a=new $n;a.updateFromServerResponse(t);const l=new gs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return yield Xi(l),l})()}}const ri=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,re.Z)(function*(){return!0})()}_set(t,r){var a=this;return(0,re.Z)(function*(){a.storage[t]=r})()}_get(t){var r=this;return(0,re.Z)(function*(){const a=r.storage[t];return void 0===a?null:a})()}_remove(t){var r=this;return(0,re.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function ht(n,e,t){return`firebase:${n}:${e}:${t}`}class qt{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=ht(this.userKey,a.apiKey,l),this.fullPersistenceKey=ht("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,re.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?gs._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,re.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,re.Z)(function*(){if(!t.length)return new qt(pt(ri),e,r);const a=(yield Promise.all(t.map(function(){var k=(0,re.Z)(function*(B){if(yield B._isAvailable())return B});return function(B){return k.apply(this,arguments)}}()))).filter(k=>k);let l=a[0]||pt(ri);const f=ht(r,e.config.apiKey,e.name);let w=null;for(const k of t)try{const B=yield k._get(f);if(B){const ee=gs._fromJSON(e,B);k!==l&&(w=ee),l=k;break}}catch{}const x=a.filter(k=>k._shouldAllowMigration);return l._shouldAllowMigration&&x.length?(l=x[0],w&&(yield l._set(f,w.toJSON())),yield Promise.all(t.map(function(){var k=(0,re.Z)(function*(B){if(B!==l)try{yield B._remove(f)}catch{}});return function(B){return k.apply(this,arguments)}}())),new qt(l,e,r)):new qt(l,e,r)})()}}function un(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function zr(n=(0,me.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function Gr(n=(0,me.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function vi(n=(0,me.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function Ai(n=(0,me.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function ii(n=(0,me.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function Rn(n=(0,me.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function Xn(n=(0,me.z$)()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Ei(n,e=[]){let t;switch(n){case"Browser":t=un((0,me.z$)());break;case"Worker":t=`${un((0,me.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ne.Jn}/${r}`}class Os{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((f,w)=>{try{f(e(l))}catch(x){w(x)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,re.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const a of t.queue)yield a(e),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}})()}}class wi{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=pt(t)),this._initializationPromise=this.queue((0,re.Z)(function*(){var a,l;if(!r._deleted&&(r.persistenceManager=yield qt.create(r,e),!r._deleted)){if(null!==(a=r._popupRedirectResolver)&&void 0!==a&&a._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(l=r.currentUser)||void 0===l?void 0:l.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,re.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,re.Z)(function*(){var r;const a=yield t.assertedPersistence.getCurrentUser();let l=a,f=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const w=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,x=l?._redirectEventId,k=yield t.tryRedirectSignIn(e);(!w||w===x)&&k?.user&&(l=k.user,f=!0)}if(!l)return t.directlySetCurrentUser(null);if(!l._redirectEventId){if(f)try{yield t.beforeStateQueue.runMiddleware(l)}catch(w){l=a,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(w))}return l?t.reloadAndSetCurrentUserOrClear(l):t.directlySetCurrentUser(null)}return Ye(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===l._redirectEventId?t.directlySetCurrentUser(l):t.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(e){var t=this;return(0,re.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,re.Z)(function*(){try{yield Xi(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Si(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,re.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,re.Z)(function*(){const r=e?(0,me.m9)(e):null;return r&&Ye(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,re.Z)(function*(){if(!r._deleted)return e&&Ye(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,re.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,re.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,re.Z)(function*(){yield t.assertedPersistence.setPersistence(pt(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new me.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,re.Z)(function*(){const a=yield r.getOrInitRedirectPersistenceManager(t);return null===e?a.removeCurrentUser():a.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,re.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&pt(e)||t._popupRedirectResolver;Ye(r,t,"argument-error"),t.redirectPersistenceManager=yield qt.create(t,[pt(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,re.Z)(function*(){var r,a;return t._isInitialized&&(yield t.queue((0,re.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,re.Z)(function*(){if(e===t.currentUser)return t.queue((0,re.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l="function"==typeof t?t:t.next.bind(t),f=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(f,this,"internal-error"),f.then(()=>l(this.currentUser)),"function"==typeof t?e.addObserver(t,r,a):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,re.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,re.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const a=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return a&&(r["X-Firebase-Client"]=a),r})()}}class Mi{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,me.ne)(t=>this.observer=t)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function sa(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new wn(3e4,6e4),new wn(2e3,1e4),new wn(3e4,6e4),new wn(5e3,15e3);var w_="@firebase/auth";class eb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,re.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,me.Pz)("authIdTokenMaxAge"),function nb(n){(0,Ne.Xd)(new Bn.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),{apiKey:l,authDomain:f}=r.options;return((w,x)=>{Ye(l&&!l.includes(":"),"invalid-api-key",{appName:w.name}),Ye(!f?.includes(":"),"argument-error",{appName:w.name});const k={apiKey:l,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ei(n)},B=new wi(w,x,k);return function hr(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(pt);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(B,t),B})(r,a)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Ne.Xd)(new Bn.wA("auth-internal",e=>{const t=function Dn(n){return(0,me.m9)(n)}(e.getProvider("auth").getImmediate());return new eb(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.KN)(w_,"0.21.3",function tb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ne.KN)(w_,"0.21.3","esm2017")}("Browser");class Ig{constructor(){return(0,b.vb)("auth")}}const Ml=new Map,Mg={activated:!1,tokenObservers:[]},O_={initialized:!1,enabled:!1};function Ts(n){return Ml.get(n)||Object.assign({},Mg)}function xg(){return O_}const k_="https://content-firebaseappcheck.googleapis.com/v1",WD="exchangeDebugToken",vb={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Eb{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,re.Z)(function*(){t.stop();try{t.pending=new me.BH,yield function wb(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new me.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Io=new me.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Og(n,e){return Di.apply(this,arguments)}function Di(){return(Di=(0,re.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const ee=yield a.getHeartbeatsHeader();ee&&(r["X-Firebase-Client"]=ee)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f,w;try{f=yield fetch(n,l)}catch(ee){throw Io.create("fetch-network-error",{originalErrorMessage:ee?.message})}if(200!==f.status)throw Io.create("fetch-status-error",{httpStatus:f.status});try{w=yield f.json()}catch(ee){throw Io.create("fetch-parse-error",{originalErrorMessage:ee?.message})}const x=w.ttl.match(/^([\d.]+)(s)$/);if(!x||!x[2]||isNaN(Number(x[1])))throw Io.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const k=1e3*Number(x[1]),B=Date.now();return{token:w.token,expireTimeMillis:B+k,issuedAtTimeMillis:B}})).apply(this,arguments)}const L_="firebase-app-check-database",Tb=1,Od="firebase-app-check-store";let Df=null;function Vg(n,e){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,re.Z)(function*(n,e){const r=(yield function Fg(){return Df||(Df=new Promise((n,e)=>{try{const t=indexedDB.open(L_,Tb);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(Io.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Od,{keyPath:"compositeKey"})}}catch(t){e(Io.create("storage-open",{originalErrorMessage:t?.message}))}}),Df)}()).transaction(Od,"readwrite"),l=r.objectStore(Od).put({compositeKey:n,value:e});return new Promise((f,w)=>{l.onsuccess=x=>{f()},r.onerror=x=>{var k;w(Io.create("storage-set",{originalErrorMessage:null===(k=x.target.error)||void 0===k?void 0:k.message}))}})})).apply(this,arguments)}const bc=new Ce.Yd("@firebase/app-check");function $_(n,e){return(0,me.hl)()?function ZD(n,e){return Vg(function U_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Hg(){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,re.Z)(function*(){const n=xg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Cb={error:"UNKNOWN_ERROR"};function Gg(n){return me.US.encodeString(JSON.stringify(n),!1)}function Nl(n){return zg.apply(this,arguments)}function zg(){return(zg=(0,re.Z)(function*(n,e=!1){const t=n.app;!function Pd(n){if(!Ts(n).activated)throw Io.create("use-before-activation",{appName:n.name})}(t);const r=Ts(t);let l,a=r.token;if(a&&!Dc(a)&&(r.token=void 0,a=void 0),!a){const x=yield r.cachedTokenPromise;x&&(Dc(x)?a=x:yield $_(t,void 0))}if(!e&&a&&Dc(a))return{token:a.token};let w,f=!1;if(function Cf(){return xg().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Og(function kg(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`${k_}/projects/${t}/apps/${r}:${WD}?key=${a}`,body:{debug_token:e}}}(t,yield Hg()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),f=!0);const x=yield r.exchangeTokenPromise;return yield $_(t,x),r.token=x,{token:x.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),f=!0),a=yield Ts(t).exchangeTokenPromise}catch(x){"appCheck/throttled"===x.code?bc.warn(x.message):bc.error(x),l=x}return a?l?w=Dc(a)?{token:a.token,internalError:l}:H_(l):(w={token:a.token},r.token=a,yield $_(t,a)):w=H_(l),f&&function Af(n,e){const t=Ts(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,w),w})).apply(this,arguments)}function Ic(n,e){const t=Ts(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function el(n){const{app:e}=n,t=Ts(e);let r=t.tokenRefresher;r||(r=function j_(n){const{app:e}=n;return new Eb((0,re.Z)(function*(){let r;if(r=Ts(e).token?yield Nl(n,!0):yield Nl(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ts(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},vb.RETRIAL_MIN_WAIT,vb.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Dc(n){return n.expireTimeMillis-Date.now()>0}function H_(n){return{token:Gg(Cb),error:n}}class G_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ts(this.app);for(const t of e)Ic(this.app,t.next);return Promise.resolve()}}const tv="app-check-internal";!function kb(){(0,Ne.Xd)(new Bn.wA("app-check",n=>function Tc(n,e){return new G_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(tv).initialize()})),(0,Ne.Xd)(new Bn.wA(tv,n=>function Sb(n){return{getToken:e=>Nl(n,e),addTokenListener:e=>function Ld(n,e,t,r){const{app:a}=n,l=Ts(a);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&Dc(l.token)){const w=l.token;Promise.resolve().then(()=>{t({token:w.token}),el(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>el(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ic(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ne.KN)("@firebase/app-check","0.6.3")}();class rv{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window;var jt,$b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cs={},Mf=Mf||{},cn=$b||self;function xf(){}function Nf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function jd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qg="closure_uid_"+(1e9*Math.random()>>>0),jb=0;function Hb(n,e,t){return n.call.apply(n.bind,arguments)}function mn(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Ks(n,e,t){return(Ks=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hb:mn).apply(null,arguments)}function Hd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Cs(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,a,l){for(var f=Array(arguments.length-2),w=2;w<arguments.length;w++)f[w-2]=arguments[w];return e.prototype[a].apply(r,f)}}function tl(){this.s=this.s,this.o=this.o}tl.prototype.s=!1,tl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function iv(n){Object.prototype.hasOwnProperty.call(n,Qg)&&n[Qg]||(n[Qg]=++jb)}(this)},tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Jg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function em(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Nf(r)){const a=n.length||0,l=r.length||0;n.length=a+l;for(let f=0;f<l;f++)n[a+f]=r[f]}else n.push(r)}}function mo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mo.prototype.h=function(){this.defaultPrevented=!0};var zb=function(){if(!cn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{cn.addEventListener("test",xf,e),cn.removeEventListener("test",xf,e)}catch{}return n}();function tm(n){return/^[\s\xa0]*$/.test(n)}var nm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Rf(n,e){return n<e?-1:n>e?1:0}function uu(){var n=cn.navigator;return n&&(n=n.userAgent)?n:""}function lu(n){return-1!=uu().indexOf(n)}function Gd(n){return Gd[" "](n),n}Gd[" "]=xf;var Pf,n,qb=lu("Opera"),zd=lu("Trident")||lu("MSIE"),Wb=lu("Edge"),sv=Wb||zd,ov=lu("Gecko")&&!(-1!=uu().toLowerCase().indexOf("webkit")&&!lu("Edge"))&&!(lu("Trident")||lu("MSIE"))&&!lu("Edge"),av=-1!=uu().toLowerCase().indexOf("webkit")&&!lu("Edge");function Kb(){var n=cn.document;return n?n.documentMode:void 0}e:{var nl="",im=(n=uu(),ov?/rv:([^\);]+)(\)|;)/.exec(n):Wb?/Edge\/([\d\.]+)/.exec(n):zd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):av?/WebKit\/(\S+)/.exec(n):qb?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(im&&(nl=im?im[1]:""),zd){var Of=Kb();if(null!=Of&&Of>parseFloat(nl)){Pf=String(Of);break e}}Pf=nl}var kf={};var Yb=cn.document&&zd&&(Kb()||parseInt(Pf,10))||void 0;function qd(n,e){if(mo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ov){e:{try{Gd(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qd.X.h.call(this)}}Cs(qd,mo);var Qb={2:"touch",3:"pen",4:"mouse"};qd.prototype.h=function(){qd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wd="closure_listenable_"+(1e6*Math.random()|0),lv=0;function Xb(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=a,this.key=++lv,this.ba=this.ea=!1}function Kd(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Lf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Vf(n){const e={};for(const t in n)e[t]=n[t];return e}const Jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uf(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<Jb.length;l++)t=Jb[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Bf(n){this.src=n,this.g={},this.h=0}function cv(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=Xg(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(Kd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rl(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return a}return-1}Bf.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=rl(n,e,r,a);return-1<f?(e=n[f],t||(e.ea=!1)):((e=new Xb(e,this.src,l,!!r,a)).ea=t,n.push(e)),e};var $f="closure_lm_"+(1e6*Math.random()|0),sm={};function om(n,e,t,r,a){if(r&&r.once)return Zd(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)om(n,e[l],t,r,a);return null}return t=Qd(t),n&&n[Wd]?n.N(e,t,jd(r)?!!r.capture:!!r,a):dv(n,e,t,!1,r,a)}function dv(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var f=jd(a)?!!a.capture:!!a,w=Ac(n);if(w||(n[$f]=w=new Bf(n)),(t=w.add(e,t,r,f,l)).proxy)return t;if(r=function e0(){const e=am;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zb||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Sc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Zd(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Zd(n,e[l],t,r,a);return null}return t=Qd(t),n&&n[Wd]?n.O(e,t,jd(r)?!!r.capture:!!r,a):dv(n,e,t,!0,r,a)}function Pl(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Pl(n,e[l],t,r,a);else r=jd(r)?!!r.capture:!!r,t=Qd(t),n&&n[Wd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rl(l=n.g[e],t,r,a))&&(Kd(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Ac(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rl(e,t,r,a)),(t=-1<n?e[n]:null)&&Yd(t))}function Yd(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Wd])cv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Sc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ac(e))?(cv(t,n),0==t.h&&(t.src=null,e[$f]=null)):Kd(n)}}}function Sc(n){return n in sm?sm[n]:sm[n]="on"+n}function am(n,e){if(n.ba)n=!0;else{e=new qd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Yd(n),n=t.call(r,e)}return n}function Ac(n){return(n=n[$f])instanceof Bf?n:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qd(n){return"function"==typeof n?n:(n[jf]||(n[jf]=function(e){return n.handleEvent(e)}),n[jf])}function Wi(){tl.call(this),this.i=new Bf(this),this.P=this,this.I=null}function ds(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mo(e,n);else if(e instanceof mo)e.target=e.target||n;else{var a=e;Uf(e=new mo(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=Xd(f,r,!0,e)&&a}if(a=Xd(f=e.g=n,r,!0,e)&&a,a=Xd(f,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Xd(f=e.g=t[l],r,!1,e)&&a}function Xd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ba&&f.capture==t){var w=f.listener,x=f.ha||f.src;f.ea&&cv(n.i,f),a=!1!==w.call(x,r)&&a}}return a&&!r.defaultPrevented}Cs(Wi,tl),Wi.prototype[Wd]=!0,Wi.prototype.removeEventListener=function(n,e,t,r){Pl(this,n,e,t,r)},Wi.prototype.M=function(){if(Wi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Kd(t[r]);delete n.g[e],n.h--}}this.I=null},Wi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Jd=cn.JSON.stringify;function t0(){var n=fv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cm,um=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new r0,n=>n.reset());class r0{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hv(n){cn.setTimeout(()=>{throw n},0)}function lm(n,e){cm||function s0(){var n=cn.Promise.resolve(void 0);cm=function(){n.then(o0)}}(),Do||(cm(),Do=!0),fv.add(n,e)}var Do=!1,fv=new class n0{constructor(){this.h=this.g=null}add(e,t){const r=um.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function o0(){for(var n;n=t0();){try{n.h.call(n.g)}catch(t){hv(t)}var e=um;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Do=!1}function dm(n,e){Wi.call(this),this.h=n||1,this.g=e||cn,this.j=Ks(this.lb,this),this.l=Date.now()}function eh(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Hf(n,e,t){if("function"==typeof n)t&&(n=Ks(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ks(n.handleEvent,n)}return 2147483647<Number(e)?-1:cn.setTimeout(n,e||0)}function pv(n){n.g=Hf(()=>{n.g=null,n.i&&(n.i=!1,pv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cs(dm,Wi),(jt=dm.prototype).ca=!1,jt.R=null,jt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ds(this,"tick"),this.ca&&(eh(this),this.start()))}},jt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jt.M=function(){dm.X.M.call(this),eh(this),delete this.g};class a0 extends tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pv(this)}M(){super.M(),this.g&&(cn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function th(n){tl.call(this),this.h=n,this.g={}}Cs(th,tl);var hm=[];function gv(n,e,t,r){Array.isArray(t)||(t&&(hm[0]=t.toString()),t=hm);for(var a=0;a<t.length;a++){var l=om(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function mv(n){Lf(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yd(e)},n),n.g={}}function Mc(){this.g=!0}function xc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function d0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return Jd(t)}catch{return e}}(n,t)+(r?" "+r:"")})}th.prototype.M=function(){th.X.M.call(this),mv(this)},th.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mc.prototype.Aa=function(){this.g=!1},Mc.prototype.info=function(){};var yo={},Gf=null;function zf(){return Gf=Gf||new Wi}function yv(n){mo.call(this,yo.Pa,n)}function Nc(n){const e=zf();ds(e,new yv(e))}function _v(n,e){mo.call(this,yo.STAT_EVENT,n),this.stat=e}function To(n){const e=zf();ds(e,new _v(e,n))}function vv(n,e){mo.call(this,yo.Qa,n),this.size=e}function Ol(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return cn.setTimeout(function(){n()},e)}yo.Pa="serverreachability",Cs(yv,mo),yo.STAT_EVENT="statevent",Cs(_v,mo),yo.Qa="timingevent",Cs(vv,mo);var qf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ev={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Rc(){}function rh(){}Rc.prototype.h=null;var Kf,Wf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ih(){mo.call(this,"d")}function wv(){mo.call(this,"c")}function sh(){}function Pc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new th(this),this.O=pm,this.T=new dm(n=sv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fm}function fm(){this.i=null,this.g="",this.h=!1}Cs(ih,mo),Cs(wv,mo),Cs(sh,Rc),sh.prototype.g=function(){return new XMLHttpRequest},sh.prototype.i=function(){return{}},Kf=new sh;var pm=45e3,$a={},kl={};function Oc(n,e,t){n.K=1,n.v=Qf(cu(e)),n.s=t,n.P=!0,kc(n,null)}function kc(n,e){n.F=Date.now(),oh(n),n.A=cu(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),xv(t.i,"t",r),n.C=0,t=n.l.H,n.h=new fm,n.g=ap(n.l,t?e:null,!n.s),0<n.N&&(n.L=new a0(Ks(n.La,n,n.g),n.N)),gv(n.S,n.g,"readystatechange",n.ib),e=n.H?Vf(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Nc(),function u0(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var f="",w=l.split("&"),x=0;x<w.length;x++){var k=w[x].split("=");if(1<k.length){var B=k[0];k=k[1];var ee=B.split("_");f=2<=ee.length&&"type"==ee[1]?f+(B+"=")+k+"&":f+(B+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.U,n.s)}function bv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function gm(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=Iv(n,t),a==kl){4==e&&(n.o=4,To(14),r=!1),xc(n.j,n.m,null,"[Incomplete Response]");break}if(a==$a){n.o=4,To(15),xc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}xc(n.j,n.m,a,null),mm(n,a)}bv(n)&&a!=kl&&a!=$a&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,To(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Im(e),e.K=!0,To(11))):(xc(n.j,n.m,t,"[Invalid Chunked Response]"),Fc(n),ah(n))}function Iv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?kl:(t=Number(e.substring(t,r)),isNaN(t)?$a:(r+=1)+t>e.length?kl:(e=e.substr(r,t),n.C=r+t,e))}function oh(n){n.V=Date.now()+n.O,Dv(n,n.O)}function Dv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ol(Ks(n.gb,n),e)}function il(n){n.B&&(cn.clearTimeout(n.B),n.B=null)}function ah(n){0==n.l.G||n.I||Tm(n.l,n)}function Fc(n){il(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,eh(n.T),mv(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function mm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Uc(t.h,n)))if(!n.J&&Uc(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;fh(t),qc(t)}op(t),To(18)}}else t.Ba=a[1],0<t.Ba-t.T&&37500>a[2]&&t.L&&0==t.A&&!t.v&&(t.v=Ol(Ks(t.cb,t),6e3));if(1>=sl(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Vl(t,11)}else if((n.J||t.g==n)&&fh(t),!tm(e))for(a=t.Fa.g.parse(e),e=0;e<a.length;e++){let k=a[e];if(t.T=k[0],k=k[1],2==t.G)if("c"==k[0]){t.I=k[1],t.ka=k[2];const B=k[3];null!=B&&(t.ma=B,t.j.info("VER="+t.ma));const ee=k[4];null!=ee&&(t.Ca=ee,t.j.info("SVER="+t.Ca));const _e=k[5];null!=_e&&"number"==typeof _e&&0<_e&&(t.J=r=1.5*_e,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Le=n.g;if(Le){const Ge=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ge){var l=r.h;l.g||-1==Ge.indexOf("spdy")&&-1==Ge.indexOf("quic")&&-1==Ge.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Ko(l,l.h),l.h=null))}if(r.D){const ft=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;ft&&(r.za=ft,Jr(r.F,r.D,ft))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var f=n;if((r=t).sa=Am(r,r.H?r.ka:null,r.V),f.J){Jf(r.h,f);var w=f,x=r.J;x&&w.setTimeout(x),w.B&&(il(w),oh(w)),r.g=f}else sp(r);0<t.i.length&&hh(t)}else"stop"!=k[0]&&"close"!=k[0]||Vl(t,7);else 3==t.G&&("stop"==k[0]||"close"==k[0]?"stop"==k[0]?Vl(t,7):wm(t):"noop"!=k[0]&&t.l&&t.l.wa(k),t.A=0)}Nc()}catch{}}function Tv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Nf(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function f0(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Nf(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function h0(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Nf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),a=r.length,l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}(jt=Pc.prototype).setTimeout=function(n){this.O=n},jt.ib=function(n){n=n.target;const e=this.L;e&&3==Ha(n)?e.l():this.La(n)},jt.La=function(n){try{if(n==this.g)e:{const B=Ha(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>B)&&(3!=B||sv||this.g&&(this.h.h||this.g.fa()||tp(this.g)))){this.I||4!=B||7==e||Nc(),il(this);var t=this.g.aa();this.Y=t;t:if(bv(this)){var r=tp(this.g);n="";var a=r.length,l=4==Ha(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fc(this),ah(this);var f="";break t}this.h.i=new cn.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.fa();if(this.i=200==t,function l0(n,e,t,r,a,l,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.U,B,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var w,x=this.g;if((w=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(w)){var k=w;break t}}k=null}if(!(t=k)){this.i=!1,this.o=3,To(12),Fc(this),ah(this);break e}xc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mm(this,t)}this.P?(gm(this,B,f),sv&&this.i&&3==B&&(gv(this.S,this.T,"tick",this.hb),this.T.start())):(xc(this.j,this.m,f,null),mm(this,f)),4==B&&Fc(this),this.i&&!this.I&&(4==B?Tm(this.l,this):(this.i=!1,oh(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,To(12)):(this.o=0,To(13)),Fc(this),ah(this)}}}catch{}},jt.hb=function(){if(this.g){var n=Ha(this.g),e=this.g.fa();this.C<e.length&&(il(this),gm(this,n,e),this.i&&4!=n&&oh(this))}},jt.cancel=function(){this.I=!0,Fc(this)},jt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function c0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nc(),To(17)),Fc(this),this.o=2,ah(this)):Dv(this,this.V-n)};var Cv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fl){this.h=void 0!==e?e:n.h,Lc(this,n.j),this.s=n.s,this.g=n.g,Zf(this,n.m),this.l=n.l,e=n.i;var t=new Xf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Yf(this,t),this.o=n.o}else n&&(t=String(n).match(Cv))?(this.h=!!e,Lc(this,t[1]||"",!0),this.s=uh(t[2]||""),this.g=uh(t[3]||"",!0),Zf(this,t[4]),this.l=uh(t[5]||"",!0),Yf(this,t[6]||"",!0),this.o=uh(t[7]||"")):(this.h=!!e,this.i=new Xf(null,this.h))}function cu(n){return new Fl(n)}function Lc(n,e,t){n.j=t?uh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Zf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Yf(n,e,t){e instanceof Xf?(n.i=e,function ym(n,e){e&&!n.j&&(xu(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(_0(this,r),xv(this,a,t))},n)),n.j=e}(n.i,n.h)):(t||(e=lh(e,Mv)),n.i=new Xf(e,n.h))}function Jr(n,e,t){n.i.set(e,t)}function Qf(n){return Jr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function uh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,g0),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function g0(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lh(e,Sv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lh(e,Sv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(lh(t,"/"==t.charAt(0)?Av:m0,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lh(t,y0)),n.join("")};var Sv=/[#\/\?@]/g,m0=/[#\?:]/g,Av=/[#\?]/g,Mv=/[#\?@]/g,y0=/#/g;function Xf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xu(n){n.g||(n.g=new Map,n.h=0,n.i&&function p0(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _0(n,e){xu(n),e=Vc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ch(n,e){return xu(n),e=Vc(n,e),n.g.has(e)}function xv(n,e,t){_0(n,e),0<t.length&&(n.i=null,n.g.set(Vc(n,e),Jg(t)),n.h+=t.length)}function Vc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ja(n){this.l=n||dh,n=cn.PerformanceNavigationTiming?0<(n=cn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(cn.g&&cn.g.Ga&&cn.g.Ga()&&cn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(jt=Xf.prototype).add=function(n,e){xu(this),this.i=null,n=Vc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},jt.forEach=function(n,e){xu(this),this.g.forEach(function(t,r){t.forEach(function(a){n.call(e,a,r,this)},this)},this)},jt.oa=function(){xu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const a=n[r];for(let l=0;l<a.length;l++)t.push(e[r])}return t},jt.W=function(n){xu(this);let e=[];if("string"==typeof n)ch(this,n)&&(e=e.concat(this.g.get(Vc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},jt.set=function(n,e){return xu(this),this.i=null,ch(this,n=Vc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},jt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),f=this.W(r);for(r=0;r<f.length;r++){var a=l;""!==f[r]&&(a+="="+encodeURIComponent(String(f[r]))),n.push(a)}}return this.i=n.join("&")};var dh=10;function Zs(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sl(n){return n.h?1:n.g?n.g.size:0}function Uc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ko(n,e){n.g?n.g.add(e):n.h=e}function Jf(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ll(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Jg(n.i)}function ol(){}function Bc(){this.g=new ol}function $c(n,e,t){const r=t||"";try{Tv(n,function(a,l){let f=a;jd(a)&&(f=Jd(a)),e.push(r+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function Nu(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch{}}function du(n){this.l=n.ac||null,this.j=n.jb||!1}function Ru(n,e){Wi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=al,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ja.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ol.prototype.stringify=function(n){return cn.JSON.stringify(n,void 0)},ol.prototype.parse=function(n){return cn.JSON.parse(n,void 0)},Cs(du,Rc),du.prototype.g=function(){return new Ru(this.l,this.j)},du.prototype.i=function(n){return function(){return n}}({}),Cs(Ru,Wi);var al=0;function _m(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Hc(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gc(n)}function Gc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(jt=Ru.prototype).open=function(n,e){if(this.readyState!=al)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gc(this)},jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||cn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hc(this)),this.readyState=al},jt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof cn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_m(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},jt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Hc(this):Gc(this),3==this.readyState&&_m(this)}},jt.Va=function(n){this.g&&(this.response=this.responseText=n,Hc(this))},jt.Ua=function(n){this.g&&(this.response=n,Hc(this))},jt.ga=function(){this.g&&Hc(this)},jt.setRequestHeader=function(n,e){this.v.append(n,e)},jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Nv=cn.JSON.parse;function di(n){Wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vm,this.K=this.L=!1}Cs(di,Wi);var vm="",Rv=/^https?$/i,Pv=["POST","PUT"];function kv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Fv(n),ep(n)}function Fv(n){n.D||(n.D=!0,ds(n,"complete"),ds(n,"error"))}function Em(n){if(n.h&&typeof Mf<"u"&&(!n.C[1]||4!=Ha(n)||2!=n.aa()))if(n.v&&4==Ha(n))Hf(n.Ha,0,n);else if(ds(n,"readystatechange"),4==Ha(n)){n.h=!1;try{const w=n.aa();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===w){var a=String(n.H).match(Cv)[1]||null;if(!a&&cn.self&&cn.self.location){var l=cn.self.location.protocol;a=l.substr(0,l.length-1)}r=!Rv.test(a?a.toLowerCase():"")}t=r}if(t)ds(n,"complete"),ds(n,"success");else{n.m=6;try{var f=2<Ha(n)?n.g.statusText:""}catch{f=""}n.j=f+" ["+n.aa()+"]",Fv(n)}}finally{ep(n)}}}function ep(n,e){if(n.g){Lv(n);const t=n.g,r=n.C[0]?xf:null;n.g=null,n.C=null,e||ds(n,"ready");try{t.onreadystatechange=r}catch{}}}function Lv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(cn.clearTimeout(n.A),n.A=null)}function Ha(n){return n.g?n.g.readyState:0}function tp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Vv(n){let e="";return Lf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function zc(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Vv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jr(n,e,t))}function ul(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function np(n){this.Ca=0,this.i=[],this.j=new Mc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ul("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ul("baseRetryDelayMs",5e3,n),this.bb=ul("retryDelaySeedMs",1e4,n),this.$a=ul("forwardChannelMaxRetries",2,n),this.ta=ul("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new ja(n&&n.concurrentRequestLimit),this.Fa=new Bc,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wm(n){if(rp(n),3==n.G){var e=n.U++,t=cu(n.F);Jr(t,"SID",n.I),Jr(t,"RID",e),Jr(t,"TYPE","terminate"),Wc(n,t),(e=new Pc(n,n.j,e,void 0)).K=2,e.v=Qf(cu(t)),t=!1,cn.navigator&&cn.navigator.sendBeacon&&(t=cn.navigator.sendBeacon(e.v.toString(),"")),!t&&cn.Image&&((new Image).src=e.v,t=!0),t||(e.g=ap(e.l,null),e.g.da(e.v)),e.F=Date.now(),oh(e)}Sm(n)}function qc(n){n.g&&(Im(n),n.g.cancel(),n.g=null)}function rp(n){qc(n),n.u&&(cn.clearTimeout(n.u),n.u=null),fh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&cn.clearTimeout(n.m),n.m=null)}function hh(n){Zs(n.h)||n.m||(n.m=!0,lm(n.Ja,n),n.C=0)}function ip(n,e){var t;t=e?e.m:n.U++;const r=cu(n.F);Jr(r,"SID",n.I),Jr(r,"RID",t),Jr(r,"AID",n.T),Wc(n,r),n.o&&n.s&&zc(r,n.o,n.s),t=new Pc(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=bm(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Ko(n.h,t),Oc(t,r,e)}function Wc(n,e){n.ia&&Lf(n.ia,function(t,r){Jr(e,r,t)}),n.l&&Tv({},function(t,r){Jr(e,r,t)})}function bm(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ks(n.l.Ra,n.l,n):null;e:{var a=n.i;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let w=!0;for(let x=0;x<t;x++){let k=a[x].h;const B=a[x].g;if(k-=l,0>k)l=Math.max(0,a[x].h-100),w=!1;else try{$c(B,f,"req"+k+"_")}catch{r&&r(B)}}if(w){r=f.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function sp(n){n.g||n.u||(n.Z=1,lm(n.Ia,n),n.A=0)}function op(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ol(Ks(n.Ia,n),Cm(n,n.A)),n.A++,0))}function Im(n){null!=n.B&&(cn.clearTimeout(n.B),n.B=null)}function Dm(n){n.g=new Pc(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=cu(n.sa);Jr(e,"RID","rpc"),Jr(e,"SID",n.I),Jr(e,"CI",n.L?"0":"1"),Jr(e,"AID",n.T),Jr(e,"TYPE","xmlhttp"),Wc(n,e),n.o&&n.s&&zc(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Qf(cu(e)),t.s=null,t.P=!0,kc(t,n)}function fh(n){null!=n.v&&(cn.clearTimeout(n.v),n.v=null)}function Tm(n,e){var t=null;if(n.g==e){fh(n),Im(n),n.g=null;var r=2}else{if(!Uc(n.h,e))return;t=e.D,Jf(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;ds(r=zf(),new vv(r,t)),hh(n)}else sp(n);else if(3==(a=e.o)||0==a&&0<n.pa||!(1==r&&function E0(n,e){return!(sl(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Ol(Ks(n.Ja,n,e),Cm(n,n.C)),n.C++,0)))}(n,e)||2==r&&op(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),a){case 1:Vl(n,5);break;case 4:Vl(n,10);break;case 3:Vl(n,6);break;default:Vl(n,2)}}function Cm(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Vl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ks(n.kb,n);t||(t=new Fl("//www.google.com/images/cleardot.gif"),cn.location&&"http"==cn.location.protocol||Lc(t,"https"),Qf(t)),function jc(n,e){const t=new Mc;if(cn.Image){const r=new Image;r.onload=Hd(Nu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hd(Nu,t,r,"TestLoadImage: error",!1,e),r.onabort=Hd(Nu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hd(Nu,t,r,"TestLoadImage: timeout",!1,e),cn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else To(2);n.G=0,n.l&&n.l.va(e),Sm(n),rp(n)}function Sm(n){if(n.G=0,n.la=[],n.l){const e=Ll(n.h);(0!=e.length||0!=n.i.length)&&(em(n.la,e),em(n.la,n.i),n.h.i.length=0,Jg(n.i),n.i.length=0),n.l.ua()}}function Am(n,e,t){var r=t instanceof Fl?cu(t):new Fl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Zf(r,r.m);else{var a=cn.location;r=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new Fl(null,void 0);r&&Lc(l,r),e&&(l.g=e),a&&Zf(l,a),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&Jr(r,t,e),Jr(r,"VER",n.ma),Wc(n,r),r}function ap(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(t&&n.Da&&!n.ra?new du({jb:!0}):n.ra)).Ka(n.H),e}function up(){}function ph(){if(zd&&!(10<=Number(Yb)))throw Error("Environmental error: no available transport.")}function Zo(n,e){Wi.call(this),this.g=new np(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!tm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ul(this)}function Mm(n){ih.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xm(){wv.call(this),this.status=1}function Ul(n){this.g=n}(jt=di.prototype).Ka=function(n){this.L=n},jt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kf.g(),this.C=function nh(n){return n.h||(n.h=n.i())}(this.u?this.u:Kf),this.g.onreadystatechange=Ks(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void kv(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)t.set(a,r[a]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=cn.FormData&&n instanceof cn.FormData,!(0<=Xg(Pv,e))||r||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Lv(this),0<this.B&&((this.K=function Ov(n){return zd&&function Zb(){return function rm(n){var e=kf;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=nm(String(Pf)).split("."),t=nm("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var a=e[f]||"",l=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=Rf(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||Rf(0==a[2].length,0==l[2].length)||Rf(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ks(this.qa,this)):this.A=Hf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){kv(this,l)}},jt.qa=function(){typeof Mf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ds(this,"timeout"),this.abort(8))},jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ds(this,"complete"),ds(this,"abort"),ep(this))},jt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ep(this,!0)),di.X.M.call(this)},jt.Ha=function(){this.s||(this.F||this.v||this.l?Em(this):this.fb())},jt.fb=function(){Em(this)},jt.aa=function(){try{return 2<Ha(this)?this.g.status:-1}catch{return-1}},jt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},jt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Nv(e)}},jt.Ea=function(){return this.m},jt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(jt=np.prototype).ma=8,jt.G=1,jt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const a=new Pc(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Vf(l),Uf(l,this.S)):l=this.S),null!==this.o||this.N||(a.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bm(this,a,e),Jr(t=cu(this.F),"RID",n),Jr(t,"CVER",22),this.D&&Jr(t,"X-HTTP-Session-Id",this.D),Wc(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Vv(l)))+"&"+e:this.o&&zc(t,this.o,l)),Ko(this.h,a),this.Ya&&Jr(t,"TYPE","init"),this.O?(Jr(t,"$req",e),Jr(t,"SID","null"),a.Z=!0,Oc(a,t,null)):Oc(a,t,e),this.G=2}}else 3==this.G&&(n?ip(this,n):0==this.i.length||Zs(this.h)||ip(this))},jt.Ia=function(){if(this.u=null,Dm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ol(Ks(this.eb,this),n)}},jt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,To(10),qc(this),Dm(this))},jt.cb=function(){null!=this.v&&(this.v=null,qc(this),op(this),To(19))},jt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),To(2)):(this.j.info("Failed to ping google.com"),To(1))},(jt=up.prototype).xa=function(){},jt.wa=function(){},jt.va=function(){},jt.ua=function(){},jt.Ra=function(){},ph.prototype.g=function(n,e){return new Zo(n,e)},Cs(Zo,Wi),Zo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;To(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Am(n,null,n.V),hh(n)},Zo.prototype.close=function(){wm(this.g)},Zo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Jd(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&hh(e)},Zo.prototype.M=function(){this.g.l=null,delete this.j,wm(this.g),delete this.g,Zo.X.M.call(this)},Cs(Mm,ih),Cs(xm,wv),Cs(Ul,up),Ul.prototype.xa=function(){ds(this.g,"a")},Ul.prototype.wa=function(n){ds(this.g,new Mm(n))},Ul.prototype.va=function(n){ds(this.g,new xm)},Ul.prototype.ua=function(){ds(this.g,"b")},ph.prototype.createWebChannel=ph.prototype.g,Zo.prototype.send=Zo.prototype.u,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,qf.NO_ERROR=0,qf.TIMEOUT=8,qf.HTTP_ERROR=6,Ev.COMPLETE="complete",rh.EventType=Wf,Wf.OPEN="a",Wf.CLOSE="b",Wf.ERROR="c",Wf.MESSAGE="d",Wi.prototype.listen=Wi.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.Oa,di.prototype.getLastErrorCode=di.prototype.Ea,di.prototype.getStatus=di.prototype.aa,di.prototype.getResponseJson=di.prototype.Sa,di.prototype.getResponseText=di.prototype.fa,di.prototype.send=di.prototype.da,di.prototype.setWithCredentials=di.prototype.Ka;var Uv=cs.createWebChannelTransport=function(){return new ph},Bv=cs.getStatEventTarget=function(){return zf()},lp=cs.ErrorCode=qf,cp=cs.EventType=Ev,ll=cs.Event=yo,$v=cs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},w0=cs.FetchXmlHttpFactory=du,Kc=cs.WebChannel=rh,Bl=cs.XhrIo=di;const dp="@firebase/firestore";class Ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ss.UNAUTHENTICATED=new Ss(null),Ss.GOOGLE_CREDENTIALS=new Ss("google-credentials-uid"),Ss.FIRST_PARTY=new Ss("first-party-uid"),Ss.MOCK_USER=new Ss("mock-user");let cl="9.17.1";const $l=new Ce.Yd("@firebase/firestore");function jv(){return $l.logLevel}function it(n,...e){if($l.logLevel<=Ce.in.DEBUG){const t=e.map(ki);$l.debug(`Firestore (${cl}): ${n}`,...t)}}function Ti(n,...e){if($l.logLevel<=Ce.in.ERROR){const t=e.map(ki);$l.error(`Firestore (${cl}): ${n}`,...t)}}function Zc(n,...e){if($l.logLevel<=Ce.in.WARN){const t=e.map(ki);$l.warn(`Firestore (${cl}): ${n}`,...t)}}function ki(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Pt(n="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+n;throw Ti(e),new Error(e)}function Bt(n,e){n||Pt()}function wt(n,e){return n}const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends me.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ss.UNAUTHENTICATED))}shutdown(){}}class I0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hv{constructor(e){this.t=e,this.currentUser=Ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=k=>this.i!==a?(a=this.i,t(k)):Promise.resolve();let f=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ki,e.enqueueRetryable(()=>l(this.currentUser))};const w=()=>{const k=f;e.enqueueRetryable((0,re.Z)(function*(){yield k.promise,yield l(r.currentUser)}))},x=k=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=k,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(k=>x(k)),setTimeout(()=>{if(!this.auth){const k=this.t.getImmediate({optional:!0});k?x(k):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ki)}},0),w()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt("string"==typeof r.accessToken),new jl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bt(null===e||"string"==typeof e),new Ss(e)}}class D0{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a,this.type="FirstParty",this.user=Ss.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Gv{constructor(e,t,r,a){this.h=e,this.l=t,this.m=r,this.g=a}getToken(){return Promise.resolve(new D0(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zv{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.A;return this.A=l.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?a(l):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt("string"==typeof t.token),this.A=t.token,new T0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hu(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Wv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=hu(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function dn(n,e){return n<e?-1:n>e?1:0}function Co(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dn(this.nanoseconds,e.nanoseconds):dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Gn(0,0))}static max(){return new Wt(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yc{constructor(e,t,r){void 0===t?t=0:t>e.length&&Pt(),void 0===r?r=e.length-t:r>e.length-t&&Pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Yc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jn extends Yc{construct(e,t,r){return new jn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new jn(t)}static emptyPath(){return new jn([])}}const C0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends Yc{construct(e,t,r){return new Fi(e,t,r)}static isValidIdentifier(e){return C0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fi(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new tt(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const w=e[a];if("\\"===w){if(a+1===e.length)throw new tt(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[a+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new tt(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=x,a+=2}else"`"===w?(f=!f,a++):"."!==w||f?(r+=w,a++):(l(),a++)}if(l(),f)throw new tt(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(t)}static emptyPath(){return new Fi([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(jn.fromString(e))}static fromName(e){return new bt(jn.fromString(e).popFirst(5))}static empty(){return new bt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new jn(e.slice()))}}function gh(n){return new ca(n.readTime,n.key,-1)}class ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ca(Wt.min(),bt.empty(),-1)}static max(){return new ca(Wt.max(),bt.empty(),-1)}}function fp(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=bt.comparator(n.documentKey,e.documentKey),0!==t?t:dn(n.largestBatchId,e.largestBatchId))}const Rm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ga(n){return pp.apply(this,arguments)}function pp(){return pp=(0,re.Z)(function*(n){if(n.code!==Re.FAILED_PRECONDITION||n.message!==Rm)throw n;it("LocalStore","Unexpectedly lost primary lease")}),pp.apply(this,arguments)}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,r)=>{t(e)})}static reject(e){return new Ae((t,r)=>{r(e)})}static waitFor(e){return new Ae((t,r)=>{let a=0,l=0,f=!1;e.forEach(w=>{++a,w.next(()=>{++l,f&&l===a&&t()},x=>r(x))}),f=!0,l===a&&t()})}static or(e){let t=Ae.resolve(!1);for(const r of e)t=t.next(a=>a?Ae.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new Ae((r,a)=>{const l=e.length,f=new Array(l);let w=0;for(let x=0;x<l;x++){const k=x;t(e[k]).next(B=>{f[k]=B,++w,w===l&&r(f)},B=>a(B))}})}static doWhile(e,t){return new Ae((r,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):r()};l()})}}function Pu(n){return"IndexedDbTransactionError"===n.name}let da=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>r.writeSequenceNumber(a))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class x0{constructor(e,t,r,a,l,f,w,x){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=w,this.useFetchStreams=x}}class zl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function Xv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ql(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Jv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yh(n){return null==n}function _h(n){return 0===n&&1/n==-1/0}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hs(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const N0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(n){if(Bt(!!n),"string"==typeof n){let e=0;const t=N0.exec(n);if(Bt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hi(n.seconds),nanos:hi(n.nanos)}}function hi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fl(n){return"string"==typeof n?hs.fromBase64String(n):hs.fromUint8Array(n)}function gp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function km(n){const e=n.mapValue.fields.__previous_value__;return gp(e)?km(e):e}function ed(n){const e=hl(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gp(n)?4:Qt(n)?9007199254740991:10:Pt()}function za(n,e){if(n===e)return!0;const t=pl(n);if(t!==pl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ed(n).isEqual(ed(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=hl(r.timestampValue),f=hl(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,fl(n.bytesValue).isEqual(fl(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return hi(r.geoPointValue.latitude)===hi(a.geoPointValue.latitude)&&hi(r.geoPointValue.longitude)===hi(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return hi(r.integerValue)===hi(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=hi(r.doubleValue),f=hi(a.doubleValue);return l===f?_h(l)===_h(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return Co(n.arrayValue.values||[],e.arrayValue.values||[],za);case 10:return function(r,a){const l=r.mapValue.fields||{},f=a.mapValue.fields||{};if(Xv(l)!==Xv(f))return!1;for(const w in l)if(l.hasOwnProperty(w)&&(void 0===f[w]||!za(l[w],f[w])))return!1;return!0}(n,e);default:return Pt()}var a}function td(n,e){return void 0!==(n.values||[]).find(t=>za(t,e))}function ku(n,e){if(n===e)return 0;const t=pl(n),r=pl(e);if(t!==r)return dn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return dn(n.booleanValue,e.booleanValue);case 2:return function(a,l){const f=hi(a.integerValue||a.doubleValue),w=hi(l.integerValue||l.doubleValue);return f<w?-1:f>w?1:f===w?0:isNaN(f)?isNaN(w)?0:-1:1}(n,e);case 3:return gl(n.timestampValue,e.timestampValue);case 4:return gl(ed(n),ed(e));case 5:return dn(n.stringValue,e.stringValue);case 6:return function(a,l){const f=fl(a),w=fl(l);return f.compareTo(w)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),w=l.split("/");for(let x=0;x<f.length&&x<w.length;x++){const k=dn(f[x],w[x]);if(0!==k)return k}return dn(f.length,w.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const f=dn(hi(a.latitude),hi(l.latitude));return 0!==f?f:dn(hi(a.longitude),hi(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],w=l.values||[];for(let x=0;x<f.length&&x<w.length;++x){const k=ku(f[x],w[x]);if(k)return k}return dn(f.length,w.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===Ou.mapValue&&l===Ou.mapValue)return 0;if(a===Ou.mapValue)return 1;if(l===Ou.mapValue)return-1;const f=a.fields||{},w=Object.keys(f),x=l.fields||{},k=Object.keys(x);w.sort(),k.sort();for(let B=0;B<w.length&&B<k.length;++B){const ee=dn(w[B],k[B]);if(0!==ee)return ee;const _e=ku(f[w[B]],x[k[B]]);if(0!==_e)return _e}return dn(w.length,k.length)}(n.mapValue,e.mapValue);default:throw Pt()}}function gl(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return dn(n,e);const t=hl(n),r=hl(e),a=dn(t.seconds,r.seconds);return 0!==a?a:dn(t.nanos,r.nanos)}function nd(n){return Fm(n)}function Fm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=hl(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fl(n.bytesValue).toBase64():"referenceValue"in n?bt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const f of r.values||[])l?l=!1:a+=",",a+=Fm(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const w of a)f?f=!1:l+=",",l+=`${w}:${Fm(r.fields[w])}`;return l+"}"}(n.mapValue):Pt();var e}function Pa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tE(n){return!!n&&"integerValue"in n}function Wl(n){return!!n&&"arrayValue"in n}function R0(n){return!!n&&"nullValue"in n}function Lm(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Eh(n){return!!n&&"mapValue"in n}function mp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ql(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Qt(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ml{constructor(e,t){this.position=e,this.inclusive=t}}function wh(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(r=l.field.isKeyField()?bt.comparator(bt.fromName(f.referenceValue),t.key):ku(f,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function bh(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!za(n.position[t],e.position[t]))return!1;return!0}class fi{}class Un extends fi{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new k0(e,t,r):"array-contains"===t?new L0(e,r):"in"===t?new Dh(e,r):"not-in"===t?new oE(e,r):"array-contains-any"===t?new aE(e,r):new Un(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Ih(e,r):new F0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ku(t,this.value)):null!==t&&pl(this.value)===pl(t)&&this.matchesComparison(ku(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cr extends fi{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new cr(e,t)}matches(e){return Zl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Zl(n){return"and"===n.op}function yp(n){return function Um(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}(n)&&Zl(n)}function _p(n){if(n instanceof Un)return n.field.canonicalString()+n.op.toString()+nd(n.value);if(yp(n))return n.filters.map(e=>_p(e)).join(",");{const e=n.filters.map(t=>_p(t)).join(",");return`${n.op}(${e})`}}function Bm(n,e){return n instanceof Un?(t=n,(r=e)instanceof Un&&t.op===r.op&&t.field.isEqual(r.field)&&za(t.value,r.value)):n instanceof cr?function(t,r){return r instanceof cr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((a,l,f)=>a&&Bm(l,r.filters[f]),!0)}(n,e):void Pt();var t,r}function iE(n){return n instanceof Un?`${(e=n).field.canonicalString()} ${e.op} ${nd(e.value)}`:n instanceof cr?function(e){return e.op.toString()+" {"+e.getFilters().map(iE).join(" ,")+"}"}(n):"Filter";var e}class k0 extends Un{constructor(e,t,r){super(e,t,r),this.key=bt.fromName(r.referenceValue)}matches(e){const t=bt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ih extends Un{constructor(e,t){super(e,"in",t),this.keys=sE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class F0 extends Un{constructor(e,t){super(e,"not-in",t),this.keys=sE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>bt.fromName(r.referenceValue))}class L0 extends Un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wl(t)&&td(t.arrayValue,this.value)}}class Dh extends Un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&td(this.value.arrayValue,t)}}class oE extends Un{constructor(e,t){super(e,"not-in",t)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!td(this.value.arrayValue,t)}}class aE extends Un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>td(this.value.arrayValue,r))}}class Yl{constructor(e,t="asc"){this.field=e,this.dir=t}}function V0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Lr{constructor(e,t){this.comparator=e,this.root=t||Ys.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yl(this.root,e,this.comparator,!0)}}class yl{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Ys.RED,this.left=a??Ys.EMPTY,this.right=l??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Ys(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ys.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new Ys(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ir{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ir(this.comparator);return t.data=e,t}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class So{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new So([])}unionWith(e){let t=new Ir(Fi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new So(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class As{constructor(e){this.value=e}static empty(){return new As({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mp(t)}setAll(e){let t=Fi.emptyPath(),r={},a=[];e.forEach((f,w)=>{if(!t.isImmediateParentOf(w)){const x=this.getFieldsMap(t);this.applyChanges(x,r,a),r={},a=[],t=w.popLast()}f?r[w.lastSegment()]=mp(f):a.push(w.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return za(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Eh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ql(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new As(mp(this.value))}}class Vr{constructor(e,t,r,a,l,f,w){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=f,this.documentState=w}static newInvalidDocument(e){return new Vr(e,0,Wt.min(),Wt.min(),Wt.min(),As.empty(),0)}static newFoundDocument(e,t,r,a){return new Vr(e,1,t,Wt.min(),r,a,0)}static newNoDocument(e,t){return new Vr(e,2,t,Wt.min(),Wt.min(),As.empty(),0)}static newUnknownDocument(e,t){return new Vr(e,3,t,Wt.min(),Wt.min(),As.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class U0{constructor(e,t=null,r=[],a=[],l=null,f=null,w=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=f,this.endAt=w,this.ft=null}}function $m(n,e=null,t=[],r=[],a=null,l=null,f=null){return new U0(n,e,t,r,a,l,f)}function rd(n){const e=wt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>_p(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nd(r)).join(",")),e.ft=t}return e.ft}function vp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!V0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Bm(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bh(n.startAt,e.startAt)&&bh(n.endAt,e.endAt)}function jm(n){return bt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Fu{constructor(e,t=null,r=[],a=[],l=null,f="F",w=null,x=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=f,this.startAt=w,this.endAt=x,this.dt=null,this._t=null}}function Xl(n){return new Fu(n)}function id(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ep(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function qm(n){return null!==n.collectionGroup}function Jl(n){const e=wt(n);if(null===e.dt){e.dt=[];const t=Ep(e),r=zm(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Yl(t)),e.dt.push(new Yl(Fi.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Yl(Fi.keyField(),l))}}}return e.dt}function Yo(n){const e=wt(n);if(!e._t)if("F"===e.limitType)e._t=$m(e.path,e.collectionGroup,Jl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Jl(e))t.push(new Yl(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new ml(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new ml(e.startAt.position,e.startAt.inclusive):null;e._t=$m(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e._t}function Wm(n,e){e.getFirstInequalityField(),Ep(n);const t=n.filters.concat([e]);return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ch(n,e,t){return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sh(n,e){return vp(Yo(n),Yo(e))&&n.limitType===e.limitType}function dE(n){return`${rd(Yo(n))}|lt:${n.limitType}`}function ec(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>iE(r)).join(", ")}]`),yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nd(r)).join(",")),`Target(${t})`}(Yo(n))}; limitType=${n.limitType})`}function Ah(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):bt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of Jl(t))if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(a,l,f){const w=wh(a,l,f);return a.inclusive?w<=0:w<0}(t.startAt,Jl(t),r)||t.endAt&&!function(a,l,f){const w=wh(a,l,f);return a.inclusive?w>=0:w>0}(t.endAt,Jl(t),r)));var t,r}function hE(n){return(e,t)=>{let r=!1;for(const a of Jl(n)){const l=fE(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function fE(n,e,t){const r=n.field.isKeyField()?bt.comparator(e.key,t.key):function(a,l,f){const w=l.data.field(a),x=f.data.field(a);return null!==w&&null!==x?ku(w,x):Pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pt()}}function pE(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function Zm(n){return{integerValue:""+n}}function gE(n,e){return function eE(n){return"number"==typeof n&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Zm(e):pE(n,e)}class sd{constructor(){this._=void 0}}function B0(n,e,t){return n instanceof od?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof tc?yE(n,e):n instanceof Lu?_E(n,e):function(r,a){const l=function Ym(n,e){return n instanceof nc?tE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}(r,a),f=vE(l)+vE(r.gt);return tE(l)&&tE(r.gt)?Zm(f):pE(r.yt,f)}(n,e)}function mE(n,e,t){return n instanceof tc?yE(n,e):n instanceof Lu?_E(n,e):t}class od extends sd{}class tc extends sd{constructor(e){super(),this.elements=e}}function yE(n,e){const t=EE(e);for(const r of n.elements)t.some(a=>za(a,r))||t.push(r);return{arrayValue:{values:t}}}class Lu extends sd{constructor(e){super(),this.elements=e}}function _E(n,e){let t=EE(e);for(const r of n.elements)t=t.filter(a=>!za(a,r));return{arrayValue:{values:t}}}class nc extends sd{constructor(e,t){super(),this.yt=e,this.gt=t}}function vE(n){return hi(n.integerValue||n.doubleValue)}function EE(n){return Wl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qm{}function Xm(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new rc(n.key,ei.none()):new ad(n.key,n.data,ei.none());{const t=n.data,r=As.empty();let a=new Ir(Fi.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?r.delete(l):r.set(l,f),a=a.add(l)}return new Vu(n.key,r,new So(a.toArray()),ei.none())}}function wE(n,e,t){n instanceof ad?function(r,a,l){const f=r.value.clone(),w=bp(r.fieldTransforms,a,l.transformResults);f.setAll(w),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Vu?function(r,a,l){if(!wp(r.precondition,a))return void a.convertToUnknownDocument(l.version);const f=bp(r.fieldTransforms,a,l.transformResults),w=a.data;w.setAll(bE(r)),w.setAll(f),a.convertToFoundDocument(l.version,w).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xh(n,e,t,r){return n instanceof ad?function(a,l,f,w){if(!wp(a.precondition,l))return f;const x=a.value.clone(),k=Ip(a.fieldTransforms,w,l);return x.setAll(k),l.convertToFoundDocument(l.version,x).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vu?function(a,l,f,w){if(!wp(a.precondition,l))return f;const x=Ip(a.fieldTransforms,w,l),k=l.data;return k.setAll(bE(a)),k.setAll(x),l.convertToFoundDocument(l.version,k).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(B=>B.field))}(n,e,t,r):(f=t,wp(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Jm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Co(t,r,(a,l)=>function $0(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof tc&&r instanceof tc||t instanceof Lu&&r instanceof Lu?Co(t.elements,r.elements,za):t instanceof nc&&r instanceof nc?za(t.gt,r.gt):t instanceof od&&r instanceof od);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ad extends Qm{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Vu extends Qm{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function bE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bp(n,e,t){const r=new Map;Bt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,w=e.data.field(l.field);r.set(l.field,mE(f,w,t[a]))}return r}function Ip(n,e,t){const r=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);r.set(a.field,B0(l,f,e))}return r}class rc extends Qm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G0{constructor(e){this.count=e}}var Zi,kn;function ey(n){if(void 0===n)return Ti("GRPC error has no .code"),Re.UNKNOWN;switch(n){case Zi.OK:return Re.OK;case Zi.CANCELLED:return Re.CANCELLED;case Zi.UNKNOWN:return Re.UNKNOWN;case Zi.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case Zi.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case Zi.INTERNAL:return Re.INTERNAL;case Zi.UNAVAILABLE:return Re.UNAVAILABLE;case Zi.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case Zi.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case Zi.NOT_FOUND:return Re.NOT_FOUND;case Zi.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case Zi.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case Zi.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case Zi.ABORTED:return Re.ABORTED;case Zi.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case Zi.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case Zi.DATA_LOSS:return Re.DATA_LOSS;default:return Pt()}}(kn=Zi||(Zi={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}const DE=new Lr(bt.comparator);function Qo(){return DE}const z0=new Lr(bt.comparator);function ud(...n){let e=z0;for(const t of n)e=e.insert(t.key,t);return e}function Dp(n){let e=z0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fu(){return Rh()}function Tp(){return Rh()}function Rh(){return new ha(n=>n.toString(),(n,e)=>n.isEqual(e))}new Lr(bt.comparator);const ty=new Ir(bt.comparator);function yn(...n){let e=ty;for(const t of n)e=e.add(t);return e}const CE=new Ir(dn);function Ph(){return CE}class ld{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ld(Wt.min(),a,Ph(),Qo(),yn())}}class Oh{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Oh(r,t,yn(),yn(),yn())}}class Cp{constructor(e,t,r,a){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=a}}class SE{constructor(e,t){this.targetId=e,this.Et=t}}class AE{constructor(e,t,r=hs.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class ny{constructor(){this.At=0,this.Rt=ME(),this.bt=hs.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=yn(),t=yn(),r=yn();return this.Rt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Pt()}}),new Oh(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=ME()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class sT{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Qo(),this.qt=ry(),this.Ut=new Ir(dn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:Pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,a)=>{this.zt(a)&&t(a)})}Jt(e){const t=e.targetId,r=e.Et.count,a=this.Yt(t);if(a){const l=a.target;if(jm(l))if(0===r){const f=new bt(l.path);this.Qt(t,f,Vr.newNoDocument(f,Wt.min()))}else Bt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,f)=>{const w=this.Yt(f);if(w){if(l.current&&jm(w.target)){const x=new bt(w.target.path);null!==this.Lt.get(x)||this.te(f,x)||this.Qt(f,x,Vr.newNoDocument(x,e))}l.St&&(t.set(f,l.Ct()),l.xt())}});let r=yn();this.qt.forEach((l,f)=>{let w=!0;f.forEachWhile(x=>{const k=this.Yt(x);return!k||2===k.purpose||(w=!1,!1)}),w&&(r=r.add(l))}),this.Lt.forEach((l,f)=>f.setReadTime(e));const a=new ld(e,t,this.Ut,this.Lt,r);return this.Lt=Qo(),this.qt=ry(),this.Ut=new Ir(dn),a}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const a=this.Wt(e);this.te(e,t)?a.Nt(t,1):a.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new ny,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Ir(dn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||it("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new ny),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function ry(){return new Lr(bt.comparator)}function ME(){return new Lr(bt.comparator)}const q0={asc:"ASCENDING",desc:"DESCENDING"},oT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W0={and:"AND",or:"OR"};class K0{constructor(e,t){this.databaseId=e,this.wt=t}}function ic(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iy(n,e){return n.wt?e.toBase64():e.toUint8Array()}function Li(n){return Bt(!!n),Wt.fromTimestamp(function(e){const t=hl(e);return new Gn(t.seconds,t.nanos)}(n))}function sy(n,e){return(t=n,new jn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xE(n){const e=jn.fromString(n);return Bt(LE(e)),e}function pu(n,e){const t=xE(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new bt(ay(t))}function oy(n,e){return sy(n.databaseId,e)}function Uu(n){return new jn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ay(n){return Bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OE(n,e){return{documents:[oy(n,e.path)]}}function Sp(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=oy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=oy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(x){if(0!==x.length)return Ap(cr.create(x,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(x){if(0!==x.length)return x.map(k=>{return{field:Ao((B=k).field),direction:Fh(B.dir)};var B})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(k=e.limit,n.wt||yh(k)?k:{value:k});var k,w,x;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(t.structuredQuery.endAt={before:!(x=e.endAt).inclusive,values:x.position}),t}function kE(n){let e=function NE(n){const e=xE(n);return 4===e.length?jn.emptyPath():ay(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Bt(1===r);const B=t.from[0];B.allDescendants?a=B.collectionId:e=e.child(B.collectionId)}let l=[];t.where&&(l=function(B){const ee=FE(B);return ee instanceof cr&&yp(ee)?ee.getFilters():[ee]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(B=>{return new Yl(dd((ee=B).field),function(_e){switch(_e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ee.direction));var ee}));let w=null;t.limit&&(w=function(B){let ee;return ee="object"==typeof B?B.value:B,yh(ee)?null:ee}(t.limit));let x=null;var B;t.startAt&&(x=new ml((B=t.startAt).values||[],!!B.before));let k=null;return t.endAt&&(k=function(B){return new ml(B.values||[],!B.before)}(t.endAt)),function cE(n,e,t,r,a,l,f,w){return new Fu(n,e,t,r,a,l,f,w)}(e,a,f,l,w,"F",x,k)}function FE(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dd(e.unaryFilter.field);return Un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=dd(e.unaryFilter.field);return Un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dd(e.unaryFilter.field);return Un.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=dd(e.unaryFilter.field);return Un.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(n):void 0!==n.fieldFilter?Un.create(dd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return cr.create(e.compositeFilter.filters.map(t=>FE(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Pt()}}(e.compositeFilter.op))}(n):Pt();var e}function Fh(n){return q0[n]}function Q0(n){return oT[n]}function dy(n){return W0[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function dd(n){return Fi.fromServerFormat(n.fieldPath)}function Ap(n){return n instanceof Un?function(e){if("=="===e.op){if(Lm(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NAN"}};if(R0(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lm(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NOT_NAN"}};if(R0(e.value))return{unaryFilter:{field:Ao(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(e.field),op:Q0(e.op),value:e.value}}}(n):n instanceof cr?function(e){const t=e.getFilters().map(r=>Ap(r));return 1===t.length?t[0]:{compositeFilter:{op:dy(e.op),filters:t}}}(n):Pt()}function LE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Np{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wE(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=xh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=xh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Tp();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let w=this.applyToLocalView(f,l.mutatedFields);w=t.has(a.key)?null:w;const x=Xm(f,w);null!==x&&r.set(a.key,x),f.isValidDocument()||f.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,r)=>Jm(t,r))&&Co(this.baseMutations,e.baseMutations,(t,r)=>Jm(t,r))}}class Qs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pa{constructor(e,t,r,a,l=Wt.min(),f=Wt.min(),w=hs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=w}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KE{constructor(e){this.ie=e}}function by(n){const e=kE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ch(e,e.limit,"L"):e}class $u{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(hi(e.integerValue));else if("doubleValue"in e){const r=hi(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),_h(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(fl(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?Qt(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Pt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const a of Object.keys(r))this.de(a,t),this.ce(r[a],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const a of r)this.ce(a,t)}me(e,t){this.he(t,37),bt.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}$u.Ie=new $u;class dI{constructor(){this.Je=new xy}addToCollectionParentIndex(e,t){return this.Je.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Ae.resolve()}deleteFieldIndex(e,t){return Ae.resolve()}getDocumentsMatchingTarget(e,t){return Ae.resolve(null)}getIndexType(e,t){return Ae.resolve(0)}getFieldIndexes(e,t){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,t){return Ae.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,t){return Ae.resolve(ca.min())}updateCollectionGroup(e,t,r){return Ae.resolve()}updateIndexEntries(e,t){return Ae.resolve()}}class xy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ir(jn.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ir(jn.comparator)).toArray()}}new Uint8Array(0);class ga{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ga(e,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ga.DEFAULT_COLLECTION_PERCENTILE=10,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ga.DEFAULT=new ga(41943040,ga.DEFAULT_COLLECTION_PERCENTILE,ga.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ga.DISABLED=new ga(-1,0,0);class gd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new gd(0)}static vn(){return new gd(-1)}}class mI{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class iw{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==r&&xh(r.mutation,a,So.empty(),Gn.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=yn()){const a=fu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let f=ud();return l.forEach((w,x)=>{f=f.insert(w,x.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=fu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,yn()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,w)=>{t.set(f,w)})})}computeViews(e,t,r,a){let l=Qo();const f=Rh(),w=Rh();return t.forEach((x,k)=>{const B=r.get(k.key);a.has(k.key)&&(void 0===B||B.mutation instanceof Vu)?l=l.insert(k.key,k):void 0!==B?(f.set(k.key,B.mutation.getFieldMask()),xh(B.mutation,k,B.mutation.getFieldMask(),Gn.now())):f.set(k.key,So.empty())}),this.recalculateAndSaveOverlays(e,l).next(x=>(x.forEach((k,B)=>f.set(k,B)),t.forEach((k,B)=>{var ee;return w.set(k,new hT(B,null!==(ee=f.get(k))&&void 0!==ee?ee:null))}),w))}recalculateAndSaveOverlays(e,t){const r=Rh();let a=new Lr((f,w)=>f-w),l=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const w of f)w.keys().forEach(x=>{const k=t.get(x);if(null===k)return;let B=r.get(x)||So.empty();B=w.applyToLocalView(k,B),r.set(x,B);const ee=(a.get(w.batchId)||yn()).add(x);a=a.insert(w.batchId,ee)})}).next(()=>{const f=[],w=a.getReverseIterator();for(;w.hasNext();){const x=w.getNext(),k=x.key,B=x.value,ee=Tp();B.forEach(_e=>{if(!l.has(_e)){const Le=Xm(t.get(_e),r.get(_e));null!==Le&&ee.set(_e,Le),l=l.add(_e)}}),f.push(this.documentOverlayCache.saveOverlays(e,k,ee))}return Ae.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return bt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):qm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var a}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):Ae.resolve(fu());let w=-1,x=l;return f.next(k=>Ae.forEach(k,(B,ee)=>(w<ee.largestBatchId&&(w=ee.largestBatchId),l.get(B)?Ae.resolve():this.remoteDocumentCache.getEntry(e,B).next(_e=>{x=x.insert(B,_e)}))).next(()=>this.populateOverlays(e,k,l)).next(()=>this.computeViews(e,x,k,yn())).next(B=>({batchId:w,changes:Dp(B)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bt(t)).next(r=>{let a=ud();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const a=t.collectionGroup;let l=ud();return this.indexManager.getCollectionParents(e,a).next(f=>Ae.forEach(f,w=>{const x=(k=t,B=w.child(a),new Fu(B,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt));var k,B;return this.getDocumentsMatchingCollectionQuery(e,x,r).next(k=>{k.forEach((B,ee)=>{l=l.insert(B,ee)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a))).next(l=>{a.forEach((w,x)=>{const k=x.getKey();null===l.get(k)&&(l=l.insert(k,Vr.newInvalidDocument(k)))});let f=ud();return l.forEach((w,x)=>{const k=a.get(w);void 0!==k&&xh(k.mutation,x,So.empty(),Gn.now()),Ah(t,x)&&(f=f.insert(w,x))}),f})}}class EI{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Li(r.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:by(r.bundledQuery),readTime:Li(r.readTime)}),Ae.resolve();var r}}class wI{constructor(){this.overlays=new Lr(bt.comparator),this.es=new Map}getOverlay(e,t){return Ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=fu();return Ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.oe(e,t,l)}),Ae.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.es.get(r);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),Ae.resolve()}getOverlaysForCollection(e,t,r){const a=fu(),l=t.length+1,f=new bt(t.child("")),w=this.overlays.getIteratorFrom(f);for(;w.hasNext();){const x=w.getNext().value,k=x.getKey();if(!t.isPrefixOf(k.path))break;k.path.length===l&&x.largestBatchId>r&&a.set(x.getKey(),x)}return Ae.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Lr((k,B)=>k-B);const f=this.overlays.getIterator();for(;f.hasNext();){const k=f.getNext().value;if(k.getKey().getCollectionGroup()===t&&k.largestBatchId>r){let B=l.get(k.largestBatchId);null===B&&(B=fu(),l=l.insert(k.largestBatchId,B)),B.set(k.getKey(),k)}}const w=fu(),x=l.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((k,B)=>w.set(k,B)),!(w.size()>=a)););return Ae.resolve(w)}oe(e,t,r){const a=this.overlays.get(r.key);if(null!==a){const f=this.es.get(a.largestBatchId).delete(r.key);this.es.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Qs(t,r));let l=this.es.get(t);void 0===l&&(l=yn(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class sw{constructor(){this.ns=new Ir(xs.ss),this.rs=new Ir(xs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new xs(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new xs(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new bt(new jn([])),r=new xs(t,e),a=new xs(t,e+1),l=[];return this.rs.forEachInRange([r,a],f=>{this.cs(f),l.push(f.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new bt(new jn([])),r=new xs(t,e),a=new xs(t,e+1);let l=yn();return this.rs.forEachInRange([r,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new xs(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return bt.comparator(e.key,t.key)||dn(e._s,t._s)}static os(e,t){return dn(e._s,t._s)||bt.comparator(e.key,t.key)}}class ow{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Ir(xs.ss)}checkEmpty(e){return Ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,a){const l=this.ws;this.ws++;const f=new Np(l,t,r,a);this.mutationQueue.push(f);for(const w of a)this.gs=this.gs.add(new xs(w.key,l)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return Ae.resolve(f)}lookupMutationBatch(e,t){return Ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.ps(t+1),l=a<0?0:a;return Ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xs(t,0),a=new xs(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,a],f=>{const w=this.ys(f._s);l.push(w)}),Ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ir(dn);return t.forEach(a=>{const l=new xs(a,0),f=new xs(a,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,f],w=>{r=r.add(w._s)})}),Ae.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;bt.isDocumentKey(l)||(l=l.child(""));const f=new xs(new bt(l),0);let w=new Ir(dn);return this.gs.forEachWhile(x=>{const k=x.key.path;return!!r.isPrefixOf(k)&&(k.length===a&&(w=w.add(x._s)),!0)},f),Ae.resolve(this.Is(w))}Is(e){const t=[];return e.forEach(r=>{const a=this.ys(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Bt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Ae.forEach(t.mutations,a=>{const l=new xs(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new xs(t,0),a=this.gs.firstAfterOrEqual(r);return Ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class aw{constructor(e){this.Es=e,this.docs=new Lr(bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,f=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ae.resolve(r?r.document.mutableCopy():Vr.newInvalidDocument(t))}getEntries(e,t){let r=Qo();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Vr.newInvalidDocument(a))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Qo();const f=t.path,w=new bt(f.child("")),x=this.docs.getIteratorFrom(w);for(;x.hasNext();){const{key:k,value:{document:B}}=x.getNext();if(!f.isPrefixOf(k.path))break;k.path.length>f.length+1||fp(gh(B),r)<=0||(a.has(B.key)||Ah(t,B))&&(l=l.insert(B.key,B.mutableCopy()))}return Ae.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Pt()}As(e,t){return Ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fT(this)}getSize(e){return Ae.resolve(this.size)}}class fT extends mI{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Yn.addEntry(e,a)):this.Yn.removeEntry(r)}),Ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Wa{constructor(e){this.persistence=e,this.Rs=new ha(t=>rd(t),vp),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new sw,this.targetCount=0,this.vs=gd.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,a)=>t(a)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new gd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.Dn(t),Ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Rs.forEach((f,w)=>{w.sequenceNumber<=t&&null===r.get(w.targetId)&&(this.Rs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,w.targetId)),a++)}),Ae.waitFor(l).next(()=>a)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Ae.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Ae.resolve(r)}containsKey(e,t){return Ae.resolve(this.Ps.containsKey(t))}}class uw{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new da(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Wa(this),this.indexManager=new dI,this.remoteDocumentCache=new aw(r=>this.referenceDelegate.xs(r)),this.yt=new KE(t),this.Ns=new EI(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new ow(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){it("MemoryPersistence","Starting transaction:",e);const a=new Fy(this.Ss.next());return this.referenceDelegate.ks(),r(a).next(l=>this.referenceDelegate.Os(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ms(e,t){return Ae.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class Fy extends Pm{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Fs=new sw,this.$s=null}static Bs(e){return new Fp(e)}get Ls(){if(this.$s)return this.$s;throw Pt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Ae.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(a=>this.Ls.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Ls,r=>{const a=bt.fromPath(r);return this.qs(e,a).next(l=>{l||t.removeEntry(a,Wt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Ae.or([()=>Ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Vp{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=a}static Ci(e,t){let r=yn(),a=yn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Vp(e,t.fromCache,r,a)}}class Vy{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,a){return this.ki(e,t).next(l=>l||this.Oi(e,t,a,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if(id(t))return Ae.resolve(null);let r=Yo(t);return this.indexManager.getIndexType(e,r).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Ch(t,null,"F"),r=Yo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const f=yn(...l);return this.Ni.getDocuments(e,f).next(w=>this.indexManager.getMinOffset(e,r).next(x=>{const k=this.Fi(t,w);return this.$i(t,k,f,x.readTime)?this.ki(e,Ch(t,null,"F")):this.Bi(e,k,t,x)}))})))}Oi(e,t,r,a){return id(t)||a.isEqual(Wt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const f=this.Fi(t,l);return this.$i(t,f,r,a)?this.Mi(e,t):(jv()<=Ce.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ec(t)),this.Bi(e,f,t,function Nm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Wt.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new ca(a,bt.empty(),e)}(a,-1)))})}Fi(e,t){let r=new Ir(hE(e));return t.forEach((a,l)=>{Ah(e,l)&&(r=r.add(l))}),r}$i(e,t,r,a){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Mi(e,t){return jv()<=Ce.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ec(t)),this.Ni.getDocumentsMatchingQuery(e,t,ca.min())}Bi(e,t,r,a){return this.Ni.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class bI{constructor(e,t,r,a){this.persistence=e,this.Li=t,this.yt=a,this.qi=new Lr(dn),this.Ui=new ha(l=>rd(l),vp),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iw(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function By(n,e){return $y.apply(this,arguments)}function $y(){return $y=(0,re.Z)(function*(n,e){const t=wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const f=[],w=[];let x=yn();for(const k of a){f.push(k.batchId);for(const B of k.mutations)x=x.add(B.key)}for(const k of l){w.push(k.batchId);for(const B of k.mutations)x=x.add(B.key)}return t.localDocuments.getDocuments(r,x).next(k=>({ji:k,removedBatchIds:f,addedBatchIds:w}))})})}),$y.apply(this,arguments)}function cw(n){const e=wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function bl(n,e,t){return Up.apply(this,arguments)}function Up(){return Up=(0,re.Z)(function*(n,e,t){const r=wt(n),a=r.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Pu(f))throw f;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.qi=r.qi.remove(e),r.Ui.delete(a.target)}),Up.apply(this,arguments)}function Bp(n,e,t){const r=wt(n);let a=Wt.min(),l=yn();return r.persistence.runTransaction("Execute query","readonly",f=>function(w,x,k){const B=wt(w),ee=B.Ui.get(k);return void 0!==ee?Ae.resolve(B.qi.get(ee)):B.Cs.getTargetData(x,k)}(r,f,Yo(e)).next(w=>{if(w)return a=w.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(f,w.targetId).next(x=>{l=x})}).next(()=>r.Li.getDocumentsMatchingQuery(f,e,t?a:Wt.min(),t?l:yn())).next(w=>(function hw(n,e,t){let r=n.Ki.get(e)||Wt.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}(r,function Km(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),w),{documents:w,Hi:l})))}class Hp{constructor(){this.activeTargetIds=Ph()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qy{constructor(){this.Lr=new Hp,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Hp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zp{Ur(e){}shutdown(){}}class Jh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TI{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,a,l){const f=this.ho(e,t);it("RestConnection","Sending: ",f,r);const w={};return this.lo(w,a,l),this.fo(e,f,w,r).then(x=>(it("RestConnection","Received: ",x),x),x=>{throw Zc("RestConnection",`${e} failed with error: `,x,"url: ",f,"request:",r),x})}_o(e,t,r,a,l,f){return this.ao(e,t,r,a,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}ho(e,t){return`${this.oo}/v1/${t}:${mw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,a){return new Promise((l,f)=>{const w=new Bl;w.setWithCredentials(!0),w.listenOnce(cp.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case lp.NO_ERROR:const k=w.getResponseJson();it("Connection","XHR received:",JSON.stringify(k)),l(k);break;case lp.TIMEOUT:it("Connection",'RPC "'+e+'" timed out'),f(new tt(Re.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:const B=w.getStatus();if(it("Connection",'RPC "'+e+'" failed with status:',B,"response text:",w.getResponseText()),B>0){let ee=w.getResponseJson();Array.isArray(ee)&&(ee=ee[0]);const _e=ee?.error;if(_e&&_e.status&&_e.message){const Le=function(Ge){const ft=Ge.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(ft)>=0?ft:Re.UNKNOWN}(_e.status);f(new tt(Le,_e.message))}else f(new tt(Re.UNKNOWN,"Server responded with status "+w.getStatus()))}else f(new tt(Re.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{it("Connection",'RPC "'+e+'" completed.')}});const x=JSON.stringify(a);w.send(t,"POST",x,r,15)})}wo(e,t,r){const a=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Uv(),f=Bv(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new w0({})),this.lo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const x=a.join("");it("Connection","Creating WebChannel: "+x,w);const k=l.createWebChannel(x,w);let B=!1,ee=!1;const _e=new TI({Hr:Ge=>{ee?it("Connection","Not sending because WebChannel is closed:",Ge):(B||(it("Connection","Opening WebChannel transport."),k.open(),B=!0),it("Connection","WebChannel sending:",Ge),k.send(Ge))},Jr:()=>k.close()}),Le=(Ge,ft,Rt)=>{Ge.listen(ft,qn=>{try{Rt(qn)}catch(ti){setTimeout(()=>{throw ti},0)}})};return Le(k,Kc.EventType.OPEN,()=>{ee||it("Connection","WebChannel transport opened.")}),Le(k,Kc.EventType.CLOSE,()=>{ee||(ee=!0,it("Connection","WebChannel transport closed"),_e.io())}),Le(k,Kc.EventType.ERROR,Ge=>{ee||(ee=!0,Zc("Connection","WebChannel transport errored:",Ge),_e.io(new tt(Re.UNAVAILABLE,"The operation could not be completed")))}),Le(k,Kc.EventType.MESSAGE,Ge=>{var ft;if(!ee){const Rt=Ge.data[0];Bt(!!Rt);const ti=Rt.error||(null===(ft=Rt[0])||void 0===ft?void 0:ft.error);if(ti){it("Connection","WebChannel received error:",ti);const rr=ti.status;let ps=function(nr){const Rs=Zi[nr];if(void 0!==Rs)return ey(Rs)}(rr),Dr=ti.message;void 0===ps&&(ps=Re.INTERNAL,Dr="Unknown error status: "+rr+" with message "+ti.message),ee=!0,_e.io(new tt(ps,Dr)),k.close()}else it("Connection","WebChannel received:",Rt),_e.ro(Rt)}}),Le(f,ll.STAT_EVENT,Ge=>{Ge.stat===$v.PROXY?it("Connection","Detected buffering proxy"):Ge.stat===$v.NOPROXY&&it("Connection","Detected no buffering proxy")}),setTimeout(()=>{_e.so()},0),_e}}function Wy(){return typeof document<"u"?document:null}function qp(n){return new K0(n,!0)}class Wp{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=a,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),a=Math.max(0,t-r);a>0&&it("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,a,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class SI{constructor(e,t,r,a,l,f,w,x){this.Hs=e,this.vo=r,this.Vo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=w,this.listener=x,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Wp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,re.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,re.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,re.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Re.RESOURCE_EXHAUSTED?(Ti(t.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.So===t&&this.Go(r,a)},r=>{e(()=>{const a=new tt(Re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(a)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(a=>{r(()=>this.Qo(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,re.Z)(function*(){e.state=0,e.start()}))}Qo(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AI extends SI{constructor(e,t,r,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,f),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function PE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(x=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===x?1:"REMOVE"===x?2:"CURRENT"===x?3:"RESET"===x?4:Pt(),a=e.targetChange.targetIds||[],l=function(x,k){return x.wt?(Bt(void 0===k||"string"==typeof k),hs.fromBase64String(k||"")):(Bt(void 0===k||k instanceof Uint8Array),hs.fromUint8Array(k||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,w=f&&function(x){const k=void 0===x.code?Re.UNKNOWN:ey(x.code);return new tt(k,x.message||"")}(f);t=new AE(r,a,l,w||null)}else if("documentChange"in e){const r=e.documentChange,a=pu(n,r.document.name),l=Li(r.document.updateTime),f=r.document.createTime?Li(r.document.createTime):Wt.min(),w=new As({mapValue:{fields:r.document.fields}}),x=Vr.newFoundDocument(a,l,f,w);t=new Cp(r.targetIds||[],r.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const r=e.documentDelete,a=pu(n,r.document),l=r.readTime?Li(r.readTime):Wt.min(),f=Vr.newNoDocument(a,l);t=new Cp([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,a=pu(n,r.document);t=new Cp([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Pt();{const r=e.filter,l=new G0(r.count||0);t=new SE(r.targetId,l)}}var x;return t}(this.yt,e),r=function(a){if(!("targetChange"in a))return Wt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Wt.min():l.readTime?Li(l.readTime):Wt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Uu(this.yt),t.addTarget=function(a,l){let f;const w=l.target;return f=jm(w)?{documents:OE(a,w)}:{query:Sp(a,w)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=iy(a,l.resumeToken):l.snapshotVersion.compareTo(Wt.min())>0&&(f.readTime=ic(a,l.snapshotVersion.toTimestamp())),f}(this.yt,e);const r=function Y0(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Uu(this.yt),t.removeTarget=e,this.Bo(t)}}class mT extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=a,this.nu=!1}su(){if(this.nu)throw new tt(Re.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.ao(e,t,r,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new tt(Re.UNKNOWN,a.toString())})}_o(e,t,r,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection._o(e,t,r,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new tt(Re.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class _T{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ti(t),this.ou=!1):it("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class vT{constructor(e,t,r,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(w=>{r.enqueueAndForget((0,re.Z)(function*(){var x;Za(f)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,re.Z)(function*(k){const B=wt(k);B._u.add(4),yield yd(B),B.gu.set("Unknown"),B._u.delete(4),yield ef(B)}),function(k){return x.apply(this,arguments)})(f))}))}),this.gu=new _T(r,a)}}function ef(n){return md.apply(this,arguments)}function md(){return md=(0,re.Z)(function*(n){if(Za(n))for(const e of n.wu)yield e(!0)}),md.apply(this,arguments)}function yd(n){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,re.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Ky.apply(this,arguments)}function tf(n,e){const t=wt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Zy(t)?nf(t):sf(t).ko()&&Kp(t,e))}function Ka(n,e){const t=wt(n),r=sf(t);t.du.delete(e),r.ko()&&Zp(t,e),0===t.du.size&&(r.ko()?r.Fo():Za(t)&&t.gu.set("Unknown"))}function Kp(n,e){n.yu.Ot(e.targetId),sf(n).zo(e)}function Zp(n,e){n.yu.Ot(e),sf(n).Ho(e)}function nf(n){n.yu=new sT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),sf(n).start(),n.gu.uu()}function Zy(n){return Za(n)&&!sf(n).No()&&n.du.size>0}function Za(n){return 0===wt(n)._u.size}function Yp(n){n.yu=void 0}function Qp(n){return _w.apply(this,arguments)}function _w(){return _w=(0,re.Z)(function*(n){n.du.forEach((e,t)=>{Kp(n,e)})}),_w.apply(this,arguments)}function ET(n,e){return vw.apply(this,arguments)}function vw(){return vw=(0,re.Z)(function*(n,e){Yp(n),Zy(n)?(n.gu.hu(e),nf(n)):n.gu.set("Unknown")}),vw.apply(this,arguments)}function wT(n,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,re.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof AE&&2===e.state&&e.cause)try{yield(r=(0,re.Z)(function*(a,l){const f=l.cause;for(const w of l.targetIds)a.du.has(w)&&(yield a.remoteSyncer.rejectListen(w,f),a.du.delete(w),a.yu.removeTarget(w))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jp(n,r)}else if(e instanceof Cp?n.yu.Kt(e):e instanceof SE?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Wt.min()))try{const r=yield cw(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const f=a.yu.Zt(l);return f.targetChanges.forEach((w,x)=>{if(w.resumeToken.approximateByteSize()>0){const k=a.du.get(x);k&&a.du.set(x,k.withResumeToken(w.resumeToken,l))}}),f.targetMismatches.forEach(w=>{const x=a.du.get(w);if(!x)return;a.du.set(w,x.withResumeToken(hs.EMPTY_BYTE_STRING,x.snapshotVersion)),Zp(a,w);const k=new pa(x.target,w,1,x.sequenceNumber);Kp(a,k)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){it("RemoteStore","Failed to raise snapshot:",r),yield Jp(n,r)}var r}),Xp.apply(this,arguments)}function Jp(n,e,t){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,re.Z)(function*(n,e,t){if(!Pu(e))throw e;n._u.add(1),yield yd(n),n.gu.set("Offline"),t||(t=()=>cw(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield ef(n)}))}),Yy.apply(this,arguments)}function NI(n,e){return Jy.apply(this,arguments)}function Jy(){return Jy=(0,re.Z)(function*(n,e){const t=wt(n);t.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=Za(t);t._u.add(3),yield yd(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield ef(t)}),Jy.apply(this,arguments)}function t_(){return t_=(0,re.Z)(function*(n,e){const t=wt(n);e?(t._u.delete(2),yield ef(t)):e||(t._u.add(2),yield yd(t),t.gu.set("Unknown"))}),t_.apply(this,arguments)}function sf(n){return n.pu||(n.pu=function(e,t,r){const a=wt(e);return a.su(),new AI(t,a.connection,a.authCredentials,a.appCheckCredentials,a.yt,r)}(n.datastore,n.asyncQueue,{Yr:Qp.bind(null,n),Zr:ET.bind(null,n),Wo:wT.bind(null,n)}),n.wu.push(function(){var e=(0,re.Z)(function*(t){t?(n.pu.Mo(),Zy(n)?nf(n):n.gu.set("Unknown")):(yield n.pu.stop(),Yp(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}class Sw{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,a,l){const f=Date.now()+r,w=new Sw(e,t,f,a,l);return w.start(r),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function af(n,e){if(Ti("AsyncQueue",`${e}: ${n}`),Pu(n))return new tt(Re.UNAVAILABLE,`${e}: ${n}`);throw n}class vd{constructor(e){this.comparator=e?(t,r)=>e(t,r)||bt.comparator(t.key,r.key):(t,r)=>bt.comparator(t.key,r.key),this.keyedMap=ud(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new vd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class RI{constructor(){this.Tu=new Lr(bt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Pt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class uf{constructor(e,t,r,a,l,f,w,x,k){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=w,this.excludesMetadataChanges=x,this.hasCachedResults=k}static fromInitialDocuments(e,t,r,a,l){const f=[];return t.forEach(w=>{f.push({type:0,doc:w})}),new uf(e,t,vd.emptySet(t),f,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class IT{constructor(){this.Au=void 0,this.listeners=[]}}class DT{constructor(){this.queries=new ha(e=>dE(e),Sh),this.onlineState="Unknown",this.Ru=new Set}}function Mw(){return Mw=(0,re.Z)(function*(n,e){const t=wt(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new IT),a)try{l.Au=yield t.onListen(r)}catch(f){const w=af(f,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(w)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&c(t)}),Mw.apply(this,arguments)}function s(){return s=(0,re.Z)(function*(n,e){const t=wt(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)}),s.apply(this,arguments)}function o(n,e){const t=wt(n);let r=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const w of f.listeners)w.Pu(a)&&(r=!0);f.Au=a}}r&&c(t)}function u(n,e,t){const r=wt(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function c(n){n.Ru.forEach(e=>{e.next()})}class h{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new uf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=uf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class G{constructor(e){this.key=e}}class te{constructor(e){this.key=e}}class de{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=yn(),this.mutatedKeys=yn(),this.Gu=hE(e),this.Qu=new vd(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new RI,a=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,w=!1;const x="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,k="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((B,ee)=>{const _e=a.get(B),Le=Ah(this.query,ee)?ee:null,Ge=!!_e&&this.mutatedKeys.has(_e.key),ft=!!Le&&(Le.hasLocalMutations||this.mutatedKeys.has(Le.key)&&Le.hasCommittedMutations);let Rt=!1;_e&&Le?_e.data.isEqual(Le.data)?Ge!==ft&&(r.track({type:3,doc:Le}),Rt=!0):this.Hu(_e,Le)||(r.track({type:2,doc:Le}),Rt=!0,(x&&this.Gu(Le,x)>0||k&&this.Gu(Le,k)<0)&&(w=!0)):!_e&&Le?(r.track({type:0,doc:Le}),Rt=!0):_e&&!Le&&(r.track({type:1,doc:_e}),Rt=!0,(x||k)&&(w=!0)),Rt&&(Le?(f=f.add(Le),l=ft?l.add(B):l.delete(B)):(f=f.delete(B),l=l.delete(B)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const B="F"===this.query.limitType?f.last():f.first();f=f.delete(B.key),l=l.delete(B.key),r.track({type:1,doc:B})}return{Qu:f,zu:r,$i:w,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((k,B)=>function(ee,_e){const Le=Ge=>{switch(Ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return Le(ee)-Le(_e)}(k.type,B.type)||this.Gu(k.doc,B.doc)),this.Ju(r);const f=t?this.Yu():[],w=0===this.Ku.size&&this.current?1:0,x=w!==this.Uu;return this.Uu=w,0!==l.length||x?{snapshot:new uf(this.query,e.Qu,a,l,e.mutatedKeys,0===w,x,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:f}:{Xu:f}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new RI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=yn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new te(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new G(r))}),t}tc(e){this.qu=e.Hi,this.Ku=yn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return uf.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class be{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ue{constructor(e){this.key=e,this.nc=!1}}class ut{constructor(e,t,r,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.sc={},this.ic=new ha(w=>dE(w),Sh),this.rc=new Map,this.oc=new Set,this.uc=new Lr(bt.comparator),this.cc=new Map,this.ac=new sw,this.hc={},this.lc=new Map,this.fc=gd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Tt(n,e){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,re.Z)(function*(n,e){const t=function QI(n){const e=wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TC.bind(null,e),e.sc.Wo=o.bind(null,e.eventManager),e.sc.wc=u.bind(null,e.eventManager),e}(n);let r,a;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.ec();else{const f=yield function oc(n,e){const t=wt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Cs.getTargetData(r,e).next(l=>l?(a=l,Ae.resolve(a)):t.Cs.allocateTargetId(r).next(f=>(a=new pa(e,f,0,r.currentSequenceNumber),t.Cs.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.qi.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}(t.localStore,Yo(e));t.isPrimaryClient&&tf(t.remoteStore,f);const w=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,a=yield function Xt(n,e,t,r,a){return Ze.apply(this,arguments)}(t,e,r,"current"===w,f.resumeToken)}return a}),Ot.apply(this,arguments)}function Ze(){return Ze=(0,re.Z)(function*(n,e,t,r,a){n._c=(ee,_e,Le)=>{return(Ge=(0,re.Z)(function*(ft,Rt,qn,ti){let rr=Rt.view.Wu(qn);rr.$i&&(rr=yield Bp(ft.localStore,Rt.query,!1).then(({documents:nr})=>Rt.view.Wu(nr,rr)));const ps=ti&&ti.targetChanges.get(Rt.targetId),Dr=Rt.view.applyChanges(rr,ft.isPrimaryClient,ps);return BI(ft,Rt.targetId,Dr.Xu),Dr.snapshot}),function(ft,Rt,qn,ti){return Ge.apply(this,arguments)})(n,ee,_e,Le);var Ge};const l=yield Bp(n.localStore,e,!0),f=new de(e,l.Hi),w=f.Wu(l.documents),x=Oh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,a),k=f.applyChanges(w,n.isPrimaryClient,x);BI(n,t,k.Xu);const B=new be(e,t,f);return n.ic.set(e,B),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),k.snapshot}),Ze.apply(this,arguments)}function hn(n,e){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,re.Z)(function*(n,e){const t=wt(n),r=t.ic.get(e),a=t.rc.get(r.targetId);if(a.length>1)return t.rc.set(r.targetId,a.filter(l=>!Sh(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ka(t.remoteStore,r.targetId),ng(t,r.targetId)}).catch(Ga))):(ng(t,r.targetId),yield bl(t.localStore,r.targetId,!0))}),Ur.apply(this,arguments)}function TT(n,e){return PI.apply(this,arguments)}function PI(){return PI=(0,re.Z)(function*(n,e){const t=wt(n);try{const r=yield function jy(n,e){const t=wt(n),r=e.snapshotVersion;let a=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Gi.newChangeBuffer({trackRemovals:!0});a=t.qi;const w=[];e.targetChanges.forEach((B,ee)=>{const _e=a.get(ee);if(!_e)return;w.push(t.Cs.removeMatchingKeys(l,B.removedDocuments,ee).next(()=>t.Cs.addMatchingKeys(l,B.addedDocuments,ee)));let Le=_e.withSequenceNumber(l.currentSequenceNumber);var Ge,ft,Rt;e.targetMismatches.has(ee)?Le=Le.withResumeToken(hs.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):B.resumeToken.approximateByteSize()>0&&(Le=Le.withResumeToken(B.resumeToken,r)),a=a.insert(ee,Le),ft=Le,Rt=B,(0===(Ge=_e).resumeToken.approximateByteSize()||ft.snapshotVersion.toMicroseconds()-Ge.snapshotVersion.toMicroseconds()>=3e8||Rt.addedDocuments.size+Rt.modifiedDocuments.size+Rt.removedDocuments.size>0)&&w.push(t.Cs.updateTargetData(l,Le))});let x=Qo(),k=yn();if(e.documentUpdates.forEach(B=>{e.resolvedLimboDocuments.has(B)&&w.push(t.persistence.referenceDelegate.updateLimboDocument(l,B))}),w.push(function yu(n,e,t){let r=yn(),a=yn();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let f=Qo();return t.forEach((w,x)=>{const k=l.get(w);x.isFoundDocument()!==k.isFoundDocument()&&(a=a.add(w)),x.isNoDocument()&&x.version.isEqual(Wt.min())?(e.removeEntry(w,x.readTime),f=f.insert(w,x)):!k.isValidDocument()||x.version.compareTo(k.version)>0||0===x.version.compareTo(k.version)&&k.hasPendingWrites?(e.addEntry(x),f=f.insert(w,x)):it("LocalStore","Ignoring outdated watch update for ",w,". Current version:",k.version," Watch version:",x.version)}),{Wi:f,zi:a}})}(l,f,e.documentUpdates).next(B=>{x=B.Wi,k=B.zi})),!r.isEqual(Wt.min())){const B=t.Cs.getLastRemoteSnapshotVersion(l).next(ee=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));w.push(B)}return Ae.waitFor(w).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,x,k)).next(()=>x)}).then(l=>(t.qi=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.cc.get(l);f&&(Bt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.nc=!0:a.modifiedDocuments.size>0?Bt(f.nc):a.removedDocuments.size>0&&(Bt(f.nc),f.nc=!1))}),yield lc(t,r,e)}catch(r){yield Ga(r)}}),PI.apply(this,arguments)}function CT(n,e,t){const r=wt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.ic.forEach((l,f)=>{const w=f.view.bu(e);w.snapshot&&a.push(w.snapshot)}),function(l,f){const w=wt(l);w.onlineState=f;let x=!1;w.queries.forEach((k,B)=>{for(const ee of B.listeners)ee.bu(f)&&(x=!0)}),x&&c(w)}(r.eventManager,e),a.length&&r.sc.Wo(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TC(n,e,t){return OI.apply(this,arguments)}function OI(){return OI=(0,re.Z)(function*(n,e,t){const r=wt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.cc.get(e),l=a&&a.key;if(l){let f=new Lr(bt.comparator);f=f.insert(l,Vr.newNoDocument(l,Wt.min()));const w=yn().add(l),x=new ld(Wt.min(),new Map,new Ir(dn),f,w);yield TT(r,x),r.uc=r.uc.remove(l),r.cc.delete(e),$I(r)}else yield bl(r.localStore,e,!1).then(()=>ng(r,e,t)).catch(Ga)}),OI.apply(this,arguments)}function ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||ST(n,r)})}function ST(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Ka(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),$I(n))}function BI(n,e,t){for(const r of t)r instanceof G?(n.ac.addReference(r.key,e),MC(n,r)):r instanceof te?(it("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||ST(n,r.key)):Pt()}function MC(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(it("SyncEngine","New document in limbo: "+t),n.oc.add(r),$I(n))}function $I(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new bt(jn.fromString(e)),r=n.fc.next();n.cc.set(r,new Ue(t)),n.uc=n.uc.insert(t,r),tf(n.remoteStore,new pa(Yo(Xl(t.path)),r,2,da.at))}}function lc(n,e,t){return jI.apply(this,arguments)}function jI(){return jI=(0,re.Z)(function*(n,e,t){const r=wt(n),a=[],l=[],f=[];var w;r.ic.isEmpty()||(r.ic.forEach((w,x)=>{f.push(r._c(x,e,t).then(k=>{if((k||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(x.targetId,k?.fromCache?"not-current":"current"),k){a.push(k);const B=Vp.Ci(x.targetId,k);l.push(B)}}))}),yield Promise.all(f),r.sc.Wo(a),yield(w=(0,re.Z)(function*(x,k){const B=wt(x);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",ee=>Ae.forEach(k,_e=>Ae.forEach(_e.Si,Le=>B.persistence.referenceDelegate.addReference(ee,_e.targetId,Le)).next(()=>Ae.forEach(_e.Di,Le=>B.persistence.referenceDelegate.removeReference(ee,_e.targetId,Le)))))}catch(ee){if(!Pu(ee))throw ee;it("LocalStore","Failed to update sequence numbers: "+ee)}for(const ee of k){const _e=ee.targetId;if(!ee.fromCache){const Le=B.qi.get(_e),ft=Le.withLastLimboFreeSnapshotVersion(Le.snapshotVersion);B.qi=B.qi.insert(_e,ft)}}}),function(x,k){return w.apply(this,arguments)})(r.localStore,l))}),jI.apply(this,arguments)}function xC(n,e){return HI.apply(this,arguments)}function HI(){return HI=(0,re.Z)(function*(n,e){const t=wt(n);if(!t.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const r=yield By(t.localStore,e);t.currentUser=e,(a=t).lc.forEach(f=>{f.forEach(w=>{w.reject(new tt(Re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lc(t,r.ji)}var a}),HI.apply(this,arguments)}function NC(n,e){const t=wt(n),r=t.cc.get(e);if(r&&r.nc)return yn().add(r.key);{let a=yn();const l=t.rc.get(e);if(!l)return a;for(const f of l){const w=t.ic.get(f);a=a.unionWith(w.view.ju)}return a}}class BC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,re.Z)(function*(){t.yt=qp(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Uy(n,e,t,r){return new bI(n,e,t,r)}(this.persistence,new Vy,e.initialUser,this.yt)}yc(e){return new uw(Fp.Bs,this.yt)}gc(e){return new qy}terminate(){var e=this;return(0,re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JI{initialize(e,t){var r=this;return(0,re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>CT(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=xC.bind(null,r.syncEngine),yield function e_(n,e){return t_.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DT}createDatastore(e){const t=qp(e.databaseInfo.databaseId),r=new gT(e.databaseInfo);return new mT(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=w=>CT(this.syncEngine,w,0),f=Jh.C()?new Jh:new zp,new vT(t,r,a,l,f);var t,r,a,l,f}createSyncEngine(e,t){return function(r,a,l,f,w,x,k){const B=new ut(r,a,l,f,w,x);return k&&(B.dc=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,re.Z)(function*(t){const r=wt(t);it("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield yd(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function NT(n){if(bt.isDocumentKey(n))throw new tt(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Pt()}function zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nw(n);throw new tt(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const PT=new Map;class OT{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function HC(n,e,t,r){if(!0===e&&!0===r)throw new tt(Re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n_{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new b0;switch(t.type){case"gapi":return new Gv(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tt(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=PT.get(e);t&&(it("ComponentProvider","Removing Datastore"),PT.delete(e),t.terminate())}(this),Promise.resolve()}}class fs{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fs(this.firestore,e,this._key)}}class xo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class Il extends xo{constructor(e,t,r){super(e,t,Xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fs(this.firestore,null,new bt(e))}withConverter(e){return new Il(this.firestore,e,this._path)}}function zC(n,e,...t){if(n=(0,me.m9)(n),function eD(n,e,t){if(!t)throw new tt(Re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("collection","path",e),n instanceof n_){const r=jn.fromString(e,...t);return NT(r),new Il(n,null,r)}{if(!(n instanceof fs||n instanceof Il))throw new tt(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jn.fromString(e,...t));return NT(r),new Il(n.firestore,null,r)}}class Rw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class XC{constructor(e,t,r,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Ss.UNAUTHENTICATED,this.clientId=Wv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,re.Z)(function*(w){it("FirestoreClient","Received user=",w.uid),yield l.authCredentialListener(w),l.user=w});return function(w){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(it("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=af(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function tD(){return tD=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,re.Z)(function*(l){r.isEqual(l)||(yield By(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),tD.apply(this,arguments)}function nD(){return nD=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function rD(n){return iD.apply(this,arguments)}(n);it("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>NI(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,l)=>NI(e.remoteStore,l)),n.onlineComponents=e}),nD.apply(this,arguments)}function iD(){return iD=(0,re.Z)(function*(n){return n.offlineComponents||(it("FirestoreClient","Using default OfflineComponentProvider"),yield function LT(n,e){return tD.apply(this,arguments)}(n,new BC)),n.offlineComponents}),iD.apply(this,arguments)}function sD(){return sD=(0,re.Z)(function*(n){return n.onlineComponents||(it("FirestoreClient","Using default OnlineComponentProvider"),yield function VT(n,e){return nD.apply(this,arguments)}(n,new JI)),n.onlineComponents}),sD.apply(this,arguments)}function rg(n){return uD.apply(this,arguments)}function uD(){return uD=(0,re.Z)(function*(n){const e=yield function Pw(n){return sD.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=Tt.bind(null,e.syncEngine),t.onUnlisten=hn.bind(null,e.syncEngine),t}),uD.apply(this,arguments)}class oS{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Wp(this,"async_queue_retry"),this.Wc=()=>{const t=Wy();t&&it("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Wy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Wy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new Ki;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,re.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Pu(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ti("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const a=Sw.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.Uc.push(a),a}zc(){this.Kc&&Pt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,re.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function lD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class pi extends n_{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new oS,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HT(this),this._firestoreClient.terminate()}}function uS(n,e){const t="object"==typeof n?n:(0,Ne.Mq)(),r="string"==typeof n?n:e||"(default)",a=(0,Ne.qX)(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=(0,me.P0)("firestore");l&&function GC(n,e,t,r={}){var a;const l=(n=zn(n,n_))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Zc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,w;if("string"==typeof r.mockUserToken)f=r.mockUserToken,w=Ss.MOCK_USER;else{f=(0,me.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new tt(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ss(x)}n._authCredentials=new I0(new jl(f,w))}}(a,...l)}return a}function HT(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new x0(n._databaseId,l,n._persistenceKey,(w=t).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var l,w;n._firestoreClient=new XC(n._authCredentials,n._appCheckCredentials,n._queue,r)}class lf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lf(hs.fromBase64String(e))}catch(t){throw new tt(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lf(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ig{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qT{constructor(e){this._methodName=e}}class cD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dn(this._lat,e._lat)||dn(this._long,e._long)}}const lS=/^__.*__$/;function KT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class kw{constructor(e,t,r,a,l,f){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=a,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new kw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:r,oa:!1});return a.ua(e),a}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ia({path:r,oa:!1});return a.na(),a}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Lw(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(KT(this.sa)&&lS.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class dS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||qp(e)}da(e,t,r,a=!1){return new kw({sa:e,methodName:t,fa:r,path:Fi.emptyPath(),oa:!1,la:a},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function cf(n,e){if(eC(n=(0,me.m9)(n)))return function fD(n,e,t){if(!eC(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Nw(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}("Unsupported field value:",e,n),function JT(n,e){const t={};return Jv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(n,(r,a)=>{const l=cf(a,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}(n,e);if(n instanceof qT)return function(t,r){if(!KT(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const f of t){let w=cf(f,r.aa(l));null==w&&(w={nullValue:"NULL_VALUE"}),a.push(w),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,me.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gE(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Gn.fromDate(t);return{timestampValue:ic(r.yt,a)}}if(t instanceof Gn){const a=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ic(r.yt,a)}}if(t instanceof cD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lf)return{bytesValue:iy(r.yt,t._byteString)};if(t instanceof fs){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${Nw(t)}`)}(n,e)}function eC(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof cD||n instanceof lf||n instanceof fs||n instanceof qT)}const gS=new RegExp("[~\\*/\\[\\]]");function Lw(n,e,t,r,a){const l=r&&!r.isEmpty(),f=void 0!==a;let w=`Function ${e}() called with invalid data`;t&&(w+=" (via `toFirestore()`)"),w+=". ";let x="";return(l||f)&&(x+=" (found",l&&(x+=` in field ${r}`),f&&(x+=` in document ${a}`),x+=")"),new tt(Re.INVALID_ARGUMENT,w+n+x)}class gD{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mS extends gD{data(){return super.data()}}function Vw(n,e){return"string"==typeof e?function Fw(n,e,t){if(e.search(gS)>=0)throw Lw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ig(...e.split("."))._internalPath}catch{throw Lw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof ig?e._internalPath:e._delegate._internalPath}class mD{}class rC extends mD{}function yS(n,e,...t){let r=[];e instanceof mD&&r.push(e),r=r.concat(t),function(a){const l=a.filter(w=>w instanceof og).length,f=a.filter(w=>w instanceof i_).length;if(l>1||l>0&&f>0)throw new tt(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)n=a._apply(n);return n}class i_ extends rC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new i_(e,t,r)}_apply(e){const t=this._parse(e);return aC(e._query,t),new xo(e.firestore,e.converter,Wm(e._query,t))}_parse(e){const t=function sg(n){const e=n._freezeSettings(),t=qp(n._databaseId);return new dS(n._databaseId,!!e.ignoreUndefinedProperties,t)}(e.firestore);return function(a,l,f,w,x,k,B){let ee;if(x.isKeyField()){if("array-contains"===k||"array-contains-any"===k)throw new tt(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${k}' queries on documentId().`);if("in"===k||"not-in"===k){oC(B,k);const _e=[];for(const Le of B)_e.push(sC(w,a,Le));ee={arrayValue:{values:_e}}}else ee=sC(w,a,B)}else"in"!==k&&"not-in"!==k&&"array-contains-any"!==k||oC(B,k),ee=function XT(n,e,t,r=!1){return cf(t,n.da(r?4:3,e))}(f,"where",B,"in"===k||"not-in"===k);return Un.create(x,k,ee)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class og extends mD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new og(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,a){let l=r;const f=a.getFlattenedFilters();for(const w of f)aC(l,w),l=Wm(l,w)}(e._query,t),new xo(e.firestore,e.converter,Wm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yD extends rC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yD(e,t)}_apply(e){const t=function(r,a,l){if(null!==r.startAt)throw new tt(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new tt(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Yl(a,l);return function(w,x){if(null===zm(w)){const k=Ep(w);null!==k&&uC(0,k,x.field)}}(r,f),f}(e._query,this._field,this._direction);return new xo(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new Fu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function _S(n,e="asc"){const t=e,r=Vw("orderBy",n);return yD._create(r,t)}function sC(n,e,t){if("string"==typeof(t=(0,me.m9)(t))){if(""===t)throw new tt(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qm(e)&&-1!==t.indexOf("/"))throw new tt(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(jn.fromString(t));if(!bt.isDocumentKey(r))throw new tt(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pa(n,new bt(r))}if(t instanceof fs)return Pa(n,t._key);throw new tt(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nw(t)}.`)}function oC(n,e){if(!Array.isArray(n)||0===n.length)throw new tt(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new tt(Re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function aC(n,e){if(e.isInequality()){const r=Ep(n),a=e.field;if(null!==r&&!r.isEqual(a))throw new tt(Re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${a.toString()}'`);const l=zm(n);null!==l&&uC(0,a,l)}const t=function(r,a){for(const l of r)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new tt(Re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function uC(n,e,t){if(!t.isEqual(e))throw new tt(Re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vS{convertValue(e,t="none"){switch(pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pt()}}convertObject(e,t){const r={};return ql(e.fields,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new cD(hi(e.latitude),hi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=km(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const t=hl(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=jn.fromString(e);Bt(LE(r));const a=new zl(r.get(1),r.get(3)),l=new bt(r.popFirst(5));return a.isEqual(t)||Ti(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class df{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ag extends gD{constructor(e,t,r,a,l,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jw extends ag{data(e={}){return super.data(e)}}class ug{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new df(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jw(this._firestore,this._userDataWriter,r.key,r,new df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new jw(r._firestore,r._userDataWriter,f.doc.key,f.doc,new df(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const w=new jw(r._firestore,r._userDataWriter,f.doc.key,f.doc,new df(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let x=-1,k=-1;return 0!==f.type&&(x=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),k=l.indexOf(f.doc.key)),{type:ES(f.type),doc:w,oldIndex:x,newIndex:k}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ES(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}class Ed extends vS{constructor(e){super(),this.firestore=e}convertBytes(e){return new lf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fs(this.firestore,null,t)}}!function(n,e=!0){cl=Ne.Jn,(0,Ne.Xd)(new Bn.wA("firestore",(t,{instanceIdentifier:r,options:a})=>{const l=t.getProvider("app").getImmediate(),f=new pi(new Hv(t.getProvider("auth-internal")),new zv(t.getProvider("app-check-internal")),function(w,x){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new tt(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(w.options.projectId,x)}(l,r),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Ne.KN)(dp,"3.8.3",n),(0,Ne.KN)(dp,"3.8.3","esm2017")}();var TS=Q(6498),dC=Q(4850),CS={includeMetadataChanges:!1};function ED(n,e){return void 0===e&&(e=CS),new TS.y(function(t){var r=function wS(n,...e){var t,r,a;n=(0,me.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||lD(e[f])||(l=e[f],f++);const w={includeMetadataChanges:l.includeMetadataChanges};if(lD(e[f])){const ee=e[f];e[f]=null===(t=ee.next)||void 0===t?void 0:t.bind(ee),e[f+1]=null===(r=ee.error)||void 0===r?void 0:r.bind(ee),e[f+2]=null===(a=ee.complete)||void 0===a?void 0:a.bind(ee)}let x,k,B;if(n instanceof fs)k=zn(n.firestore,pi),B=Xl(n._key.path),x={next:ee=>{e[f]&&e[f](function vD(n,e,t){const r=t.docs.get(e._key),a=new Ed(n);return new ag(n,a,e._key,r,new df(t.hasPendingWrites,t.fromCache),e.converter)}(k,n,ee))},error:e[f+1],complete:e[f+2]};else{const ee=zn(n,xo);k=zn(ee.firestore,pi),B=ee._query;const _e=new Ed(k);x={next:Le=>{e[f]&&e[f](new ug(k,_e,ee,Le))},error:e[f+1],complete:e[f+2]},function nC(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(ee,_e,Le,Ge){const ft=new Rw(Ge),Rt=new h(_e,ft,Le);return ee.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function Aw(n,e){return Mw.apply(this,arguments)}(yield rg(ee),Rt)})),()=>{ft.bc(),ee.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function i(n,e){return s.apply(this,arguments)}(yield rg(ee),Rt)}))}}(function Ns(n){return n._firestoreClient||HT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(k),B,w,x)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function PS(n,e){return void 0===e&&(e={}),function RS(n){return ED(n,{includeMetadataChanges:!0}).pipe((0,dC.U)(function(e){return e.docs}))}(n).pipe((0,dC.U)(function(t){return t.map(function(r){return function hC(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class Gw{constructor(e){return e}}const mC="firestore",ID=new R.OlP("angularfire2.firestore-instances");function FS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Gw(r)}}const LS={provide:class OS{constructor(){return(0,b.vb)(mC)}},deps:[[new R.FiY,ID]]},VS={provide:Gw,useFactory:function kS(n,e){const t=(0,b.JM)(mC,n,e);return t&&new Gw(t)},deps:[[new R.FiY,ID],ae.Ot]};let US=(()=>{class n{constructor(){(0,Ee.KN)("angularfire",b.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=R.oAB({type:n}),n.\u0275inj=R.cJS({providers:[VS,LS]}),n})();function BS(n,...e){return{ngModule:US,providers:[{provide:ID,useFactory:FS(n),multi:!0,deps:[R.R0b,R.zs3,b.HU,ae.z6,[new R.FiY,Ig],[new R.FiY,rv],...e]}]}}const $S=(0,b.u3)(PS,!0),jS=(0,b.u3)(zC,!0),HS=(0,b.u3)(uS,!0),GS=(0,b.u3)(_S,!0),zS=(0,b.u3)(yS,!0)},4242:(Ht,je,Q)=>{Q.d(je,{q4:()=>Yu,HU:()=>Et,vb:()=>$,JM:()=>O,u3:()=>Sl});var b=Q(5675),R=Q(259),ae=Q(5861),Ee=Q(9681),re=Q(2090),me=Q(4859),Ne=Q(1877),Ce=Q(8766);const ye="@firebase/installations",X="0.6.3",Y=1e4,le=`w:${X}`,Me="FIS_v2",Be="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,zt=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(A){return A instanceof re.ZR&&A.code.includes("request-failed")}function dt({projectId:A}){return`${Be}/projects/${A}/installations`}function qe(A){return{token:A.token,requestStatus:2,expiresIn:It(A.expiresIn),creationTime:Date.now()}}function we(A,C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,ae.Z)(function*(A,C){const K=(yield C.json()).error;return zt.create("request-failed",{requestName:A,serverCode:K.code,serverMessage:K.message,serverStatus:K.status})})).apply(this,arguments)}function kt({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function ke(A){return rt.apply(this,arguments)}function rt(){return(rt=(0,ae.Z)(function*(A){const C=yield A();return C.status>=500&&C.status<600?A():C})).apply(this,arguments)}function It(A){return Number(A.replace("s","000"))}function nn(){return(nn=(0,ae.Z)(function*({appConfig:A,heartbeatServiceProvider:C},{fid:U}){const K=dt(A),ge=kt(A),Ie=C.getImmediate({optional:!0});if(Ie){const Jt=yield Ie.getHeartbeatsHeader();Jt&&ge.append("x-firebase-client",Jt)}const Lt={method:"POST",headers:ge,body:JSON.stringify({fid:U,authVersion:Me,appId:A.appId,sdkVersion:le})},Gt=yield ke(()=>fetch(K,Lt));if(Gt.ok){const Jt=yield Gt.json();return{fid:Jt.fid||U,registrationStatus:2,refreshToken:Jt.refreshToken,authToken:qe(Jt.authToken)}}throw yield we("Create Installation",Gt)})).apply(this,arguments)}function Fn(A){return new Promise(C=>{setTimeout(C,A)})}const Ci=/^[cdef][\w-]{21}$/,Sr="";function gi(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const U=function Hn(A){return function Wn(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Ci.test(U)?U:Sr}catch{return Sr}}function yr(A){return`${A.appName}!${A.appId}`}const Bn=new Map;function Kn(A,C){const U=yr(A);Zr(U,C),function Ps(A,C){const U=function dr(){return!Nn&&"BroadcastChannel"in self&&(Nn=new BroadcastChannel("[Firebase] FID Change"),Nn.onmessage=A=>{Zr(A.data.key,A.data.fid)}),Nn}();U&&U.postMessage({key:A,fid:C}),function mi(){0===Bn.size&&Nn&&(Nn.close(),Nn=null)}()}(U,C)}function Zr(A,C){const U=Bn.get(A);if(U)for(const K of U)K(C)}let Nn=null;const Br="firebase-installations-database",yi=1,$r="firebase-installations-store";let ir=null;function vn(){return ir||(ir=(0,Ce.X3)(Br,yi,{upgrade:(A,C)=>{0===C&&A.createObjectStore($r)}})),ir}function Ct(A,C){return rn.apply(this,arguments)}function rn(){return(rn=(0,ae.Z)(function*(A,C){const U=yr(A),ge=(yield vn()).transaction($r,"readwrite"),Ie=ge.objectStore($r),Xe=yield Ie.get(U);return yield Ie.put(C,U),yield ge.done,(!Xe||Xe.fid!==C.fid)&&Kn(A,C.fid),C})).apply(this,arguments)}function _i(A){return jr.apply(this,arguments)}function jr(){return(jr=(0,ae.Z)(function*(A){const C=yr(A),K=(yield vn()).transaction($r,"readwrite");yield K.objectStore($r).delete(C),yield K.done})).apply(this,arguments)}function xt(A,C){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,ae.Z)(function*(A,C){const U=yr(A),ge=(yield vn()).transaction($r,"readwrite"),Ie=ge.objectStore($r),Xe=yield Ie.get(U),Lt=C(Xe);return void 0===Lt?yield Ie.delete(U):yield Ie.put(Lt,U),yield ge.done,Lt&&(!Xe||Xe.fid!==Lt.fid)&&Kn(A,Lt.fid),Lt})).apply(this,arguments)}function In(A){return fn.apply(this,arguments)}function fn(){return fn=(0,ae.Z)(function*(A){let C;const U=yield xt(A.appConfig,K=>{const ge=function pn(A){return Zn(A||{fid:gi(),registrationStatus:0})}(K),Ie=function pt(A,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(zt.create("app-offline"))};const U={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},K=function We(A,C){return hr.apply(this,arguments)}(A,U);return{installationEntry:U,registrationPromise:K}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Tr(A)}:{installationEntry:C}}(A,ge);return C=Ie.registrationPromise,Ie.installationEntry});return U.fid===Sr?{installationEntry:yield C}:{installationEntry:U,registrationPromise:C}}),fn.apply(this,arguments)}function hr(){return hr=(0,ae.Z)(function*(A,C){try{const U=yield function He(A,C){return nn.apply(this,arguments)}(A,C);return Ct(A.appConfig,U)}catch(U){throw nt(U)&&409===U.customData.serverCode?yield _i(A.appConfig):yield Ct(A.appConfig,{fid:C.fid,registrationStatus:0}),U}}),hr.apply(this,arguments)}function Tr(A){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ae.Z)(function*(A){let C=yield En(A.appConfig);for(;1===C.registrationStatus;)yield Fn(100),C=yield En(A.appConfig);if(0===C.registrationStatus){const{installationEntry:U,registrationPromise:K}=yield In(A);return K||U}return C})).apply(this,arguments)}function En(A){return xt(A,C=>{if(!C)throw zt.create("installation-not-found");return Zn(C)})}function Zn(A){return function Si(A){return 1===A.registrationStatus&&A.registrationTime+Y<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Vt(){return(Vt=(0,ae.Z)(function*({appConfig:A,heartbeatServiceProvider:C},U){const K=function tn(A,{fid:C}){return`${dt(A)}/${C}/authTokens:generate`}(A,U),ge=function Fe(A,{refreshToken:C}){const U=kt(A);return U.append("Authorization",function Ft(A){return`${Me} ${A}`}(C)),U}(A,U),Ie=C.getImmediate({optional:!0});if(Ie){const Jt=yield Ie.getHeartbeatsHeader();Jt&&ge.append("x-firebase-client",Jt)}const Lt={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:le,appId:A.appId}})},Gt=yield ke(()=>fetch(K,Lt));if(Gt.ok)return qe(yield Gt.json());throw yield we("Generate Auth Token",Gt)})).apply(this,arguments)}function Ui(A){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,ae.Z)(function*(A,C=!1){let U;const K=yield xt(A.appConfig,Ie=>{if(!xe(Ie))throw zt.create("not-registered");const Xe=Ie.authToken;if(!C&&function q(A){return 2===A.requestStatus&&!function Z(A){const C=Date.now();return C<A.creationTime||A.creationTime+A.expiresIn<C+Ve}(A)}(Xe))return Ie;if(1===Xe.requestStatus)return U=function Qe(A,C){return Pe.apply(this,arguments)}(A,C),Ie;{if(!navigator.onLine)throw zt.create("app-offline");const Lt=function oe(A){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:C})}(Ie);return U=function ne(A,C){return ie.apply(this,arguments)}(A,Lt),Lt}});return U?yield U:K.authToken}),Yn.apply(this,arguments)}function Pe(){return(Pe=(0,ae.Z)(function*(A,C){let U=yield ue(A.appConfig);for(;1===U.authToken.requestStatus;)yield Fn(100),U=yield ue(A.appConfig);const K=U.authToken;return 0===K.requestStatus?Ui(A,C):K})).apply(this,arguments)}function ue(A){return xt(A,C=>{if(!xe(C))throw zt.create("not-registered");return function Se(A){return 1===A.requestStatus&&A.requestTime+Y<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function ie(){return ie=(0,ae.Z)(function*(A,C){try{const U=yield function wn(A,C){return Vt.apply(this,arguments)}(A,C),K=Object.assign(Object.assign({},C),{authToken:U});return yield Ct(A.appConfig,K),U}catch(U){if(!nt(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const K=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Ct(A.appConfig,K)}else yield _i(A.appConfig);throw U}}),ie.apply(this,arguments)}function xe(A){return void 0!==A&&2===A.registrationStatus}function et(){return(et=(0,ae.Z)(function*(A){const C=A,{installationEntry:U,registrationPromise:K}=yield In(C);return K?K.catch(console.error):Ui(C).catch(console.error),U.fid})).apply(this,arguments)}function ce(){return ce=(0,ae.Z)(function*(A,C=!1){const U=A;return yield function se(A){return W.apply(this,arguments)}(U),(yield Ui(U,C)).token}),ce.apply(this,arguments)}function W(){return(W=(0,ae.Z)(function*(A){const{registrationPromise:C}=yield In(A);C&&(yield C)})).apply(this,arguments)}function Qi(A){return zt.create("missing-app-config-values",{valueName:A})}const Xs="installations",Ar=A=>{const C=A.getProvider("app").getImmediate(),U=function Tn(A){if(!A||!A.options)throw Qi("App Configuration");if(!A.name)throw Qi("App Name");const C=["projectId","apiKey","appId"];for(const U of C)if(!A.options[U])throw Qi(U);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(C);return{app:C,appConfig:U,heartbeatServiceProvider:(0,Ee.qX)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Xi=A=>{const C=A.getProvider("app").getImmediate(),U=(0,Ee.qX)(C,Xs).getImmediate();return{getId:()=>function pe(A){return et.apply(this,arguments)}(U),getToken:ge=>function Nt(A){return ce.apply(this,arguments)}(U,ge)}};(function Ji(){(0,Ee.Xd)(new me.wA(Xs,Ar,"PUBLIC")),(0,Ee.Xd)(new me.wA("installations-internal",Xi,"PRIVATE"))})(),(0,Ee.KN)(ye,X),(0,Ee.KN)(ye,X,"esm2017");const Hr="@firebase/remote-config",Qn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bi{constructor(C,U,K,ge){this.client=C,this.storage=U,this.storageCache=K,this.logger=ge}isCachedDataFresh(C,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const K=Date.now()-U,ge=K<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${K}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${ge}.`),ge}fetch(C){var U=this;return(0,ae.Z)(function*(){const[K,ge]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(ge&&U.isCachedDataFresh(C.cacheMaxAgeMillis,K))return ge;C.eTag=ge&&ge.eTag;const Ie=yield U.client.fetch(C),Xe=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ie.status&&Xe.push(U.storage.setLastSuccessfulFetchResponse(Ie)),yield Promise.all(Xe),Ie})()}}function or(A=navigator){return A.languages&&A.languages[0]||A.language}class Ei{constructor(C,U,K,ge,Ie,Xe){this.firebaseInstallations=C,this.sdkVersion=U,this.namespace=K,this.projectId=ge,this.apiKey=Ie,this.appId=Xe}fetch(C){var U=this;return(0,ae.Z)(function*(){const[K,ge]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),Xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,Lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Gt={sdk_version:U.sdkVersion,app_instance_id:K,app_instance_id_token:ge,app_id:U.appId,language_code:or()},Jt={method:"POST",headers:Lt,body:JSON.stringify(Gt)},xn=fetch(Xe,Jt),sn=new Promise((po,ls)=>{C.signal.addEventListener(()=>{const mf=new Error("The operation was aborted.");mf.name="AbortError",ls(mf)})});let la;try{yield Promise.race([xn,sn]),la=yield xn}catch(po){let ls="fetch-client-network";throw"AbortError"===po?.name&&(ls="fetch-timeout"),Qn.create(ls,{originalErrorMessage:po?.message})}let Ii=la.status;const Su=la.headers.get("ETag")||void 0;let Qu,Au;if(200===la.status){let po;try{po=yield la.json()}catch(ls){throw Qn.create("fetch-client-parse",{originalErrorMessage:ls?.message})}Qu=po.entries,Au=po.state}if("INSTANCE_STATE_UNSPECIFIED"===Au?Ii=500:"NO_CHANGE"===Au?Ii=304:("NO_TEMPLATE"===Au||"EMPTY_CONFIG"===Au)&&(Qu={}),304!==Ii&&200!==Ii)throw Qn.create("fetch-status",{httpStatus:Ii});return{status:Ii,eTag:Su,config:Qu}})()}}class Dn{constructor(C,U){this.client=C,this.storage=U}fetch(C){var U=this;return(0,ae.Z)(function*(){const K=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(C,K)})()}attemptFetch(C,{throttleEndTimeMillis:U,backoffCount:K}){var ge=this;return(0,ae.Z)(function*(){yield function Os(A,C){return new Promise((U,K)=>{const ge=Math.max(C-Date.now(),0),Ie=setTimeout(U,ge);A.addEventListener(()=>{clearTimeout(Ie),K(Qn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,U);try{const Ie=yield ge.client.fetch(C);return yield ge.storage.deleteThrottleMetadata(),Ie}catch(Ie){if(!function wi(A){if(!(A instanceof re.ZR&&A.customData))return!1;const C=Number(A.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Ie))throw Ie;const Xe={throttleEndTimeMillis:Date.now()+(0,re.$s)(K),backoffCount:K+1};return yield ge.storage.setThrottleMetadata(Xe),ge.attemptFetch(C,Xe)}})()}}class ya{constructor(C,U,K,ge,Ie){this.app=C,this._client=U,this._storageCache=K,this._storage=ge,this._logger=Ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ks(A,C){const U=A.target.error||void 0;return Qn.create(C,{originalErrorMessage:U&&U?.message})}const xi="app_namespace_store";class Vn{constructor(C,U,K,ge=function ms(){return new Promise((A,C)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=K=>{C(ks(K,"storage-open"))},U.onsuccess=K=>{A(K.target.result)},U.onupgradeneeded=K=>{0===K.oldVersion&&K.target.result.createObjectStore(xi,{keyPath:"compositeKey"})}}catch(U){C(Qn.create("storage-open",{originalErrorMessage:U?.message}))}})}()){this.appId=C,this.appName=U,this.namespace=K,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var U=this;return(0,ae.Z)(function*(){const K=yield U.openDbPromise;return new Promise((ge,Ie)=>{const Lt=K.transaction([xi],"readonly").objectStore(xi),Gt=U.createCompositeKey(C);try{const Jt=Lt.get(Gt);Jt.onerror=xn=>{Ie(ks(xn,"storage-get"))},Jt.onsuccess=xn=>{const sn=xn.target.result;ge(sn?sn.value:void 0)}}catch(Jt){Ie(Qn.create("storage-get",{originalErrorMessage:Jt?.message}))}})})()}set(C,U){var K=this;return(0,ae.Z)(function*(){const ge=yield K.openDbPromise;return new Promise((Ie,Xe)=>{const Gt=ge.transaction([xi],"readwrite").objectStore(xi),Jt=K.createCompositeKey(C);try{const xn=Gt.put({compositeKey:Jt,value:U});xn.onerror=sn=>{Xe(ks(sn,"storage-set"))},xn.onsuccess=()=>{Ie()}}catch(xn){Xe(Qn.create("storage-set",{originalErrorMessage:xn?.message}))}})})()}delete(C){var U=this;return(0,ae.Z)(function*(){const K=yield U.openDbPromise;return new Promise((ge,Ie)=>{const Lt=K.transaction([xi],"readwrite").objectStore(xi),Gt=U.createCompositeKey(C);try{const Jt=Lt.delete(Gt);Jt.onerror=xn=>{Ie(ks(xn,"storage-delete"))},Jt.onsuccess=()=>{ge()}}catch(Jt){Ie(Qn.create("storage-delete",{originalErrorMessage:Jt?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class No{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,ae.Z)(function*(){const U=C.storage.getLastFetchStatus(),K=C.storage.getLastSuccessfulFetchTimestampMillis(),ge=C.storage.getActiveConfig(),Ie=yield U;Ie&&(C.lastFetchStatus=Ie);const Xe=yield K;Xe&&(C.lastSuccessfulFetchTimestampMillis=Xe);const Lt=yield ge;Lt&&(C.activeConfig=Lt)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Yr(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,ae.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function vr(){(0,Ee.Xd)(new me.wA("remote-config",function A(C,{instanceIdentifier:U}){const K=C.getProvider("app").getImmediate(),ge=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,re.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:Ie,apiKey:Xe,appId:Lt}=K.options;if(!Ie)throw Qn.create("registration-project-id");if(!Xe)throw Qn.create("registration-api-key");if(!Lt)throw Qn.create("registration-app-id");const Gt=new Vn(Lt,K.name,U=U||"firebase"),Jt=new No(Gt),xn=new Ne.Yd(Hr);xn.logLevel=Ne.in.ERROR;const sn=new Ei(ge,Ee.Jn,U,Ie,Xe,Lt),la=new Dn(sn,Gt),Ii=new Bi(la,Gt,Jt,xn),Su=new ya(K,Ii,Jt,Gt,xn);return function ii(A){const C=(0,re.m9)(A);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Su),Su},"PUBLIC").setMultipleInstances(!0)),(0,Ee.KN)(Hr,"0.4.3"),(0,Ee.KN)(Hr,"0.4.3","esm2017")}();const ar="/firebase-messaging-sw.js",ns="/firebase-cloud-messaging-push-scope",no="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ls="https://fcmregistrations.googleapis.com/v1",ro="google.c.a.c_id",Vs="google.c.a.c_l",Ro="google.c.a.ts",_a="google.c.a.e";var rs=(()=>{return(A=rs||(rs={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",rs;var A})();function Us(A){const C=new Uint8Array(A);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xo(A){const U=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),K=atob(U),ge=new Uint8Array(K.length);for(let Ie=0;Ie<K.length;++Ie)ge[Ie]=K.charCodeAt(Ie);return ge}const Oo="fcm_token_details_db",ko=5,Jo="fcm_token_object_Store";function io(){return io=(0,ae.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ie=>Ie.name).includes(Oo))return null;let C=null;return(yield(0,Ce.X3)(Oo,ko,{upgrade:(K=(0,ae.Z)(function*(ge,Ie,Xe,Lt){var Gt;if(Ie<2||!ge.objectStoreNames.contains(Jo))return;const Jt=Lt.objectStore(Jo),xn=yield Jt.index("fcmSenderId").get(A);if(yield Jt.clear(),xn)if(2===Ie){const sn=xn;if(!sn.auth||!sn.p256dh||!sn.endpoint)return;C={token:sn.fcmToken,createTime:null!==(Gt=sn.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:sn.auth,p256dh:sn.p256dh,endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:"string"==typeof sn.vapidKey?sn.vapidKey:Us(sn.vapidKey)}}}else if(3===Ie){const sn=xn;C={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:Us(sn.auth),p256dh:Us(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:Us(sn.vapidKey)}}}else if(4===Ie){const sn=xn;C={token:sn.fcmToken,createTime:sn.createTime,subscriptionOptions:{auth:Us(sn.auth),p256dh:Us(sn.p256dh),endpoint:sn.endpoint,swScope:sn.swScope,vapidKey:Us(sn.vapidKey)}}}}),function(Ie,Xe,Lt,Gt){return K.apply(this,arguments)})})).close(),yield(0,Ce.Lj)(Oo),yield(0,Ce.Lj)("fcm_vapid_details_db"),yield(0,Ce.Lj)("undefined"),function Oa(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:C}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var K}),io.apply(this,arguments)}const so="firebase-messaging-database",Ya=1,ys="firebase-messaging-store";let ea=null;function fr(){return ea||(ea=(0,Ce.X3)(so,Ya,{upgrade:(A,C)=>{0===C&&A.createObjectStore(ys)}})),ea}function Fo(A){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,ae.Z)(function*(A){const C=oi(A),K=yield(yield fr()).transaction(ys).objectStore(ys).get(C);if(K)return K;{const ge=yield function Ri(A){return io.apply(this,arguments)}(A.appConfig.senderId);if(ge)return yield $i(A,ge),ge}}),Cr.apply(this,arguments)}function $i(A,C){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,ae.Z)(function*(A,C){const U=oi(A),ge=(yield fr()).transaction(ys,"readwrite");return yield ge.objectStore(ys).put(C,U),yield ge.done,C})).apply(this,arguments)}function _s(){return(_s=(0,ae.Z)(function*(A){const C=oi(A),K=(yield fr()).transaction(ys,"readwrite");yield K.objectStore(ys).delete(C),yield K.done})).apply(this,arguments)}function oi({appConfig:A}){return A.appId}const Jn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bo(A,C){return xr.apply(this,arguments)}function xr(){return(xr=(0,ae.Z)(function*(A,C){const U=yield ur(A),K=ao(C),ge={method:"POST",headers:U,body:JSON.stringify(K)};let Ie;try{Ie=yield(yield fetch(vs(A.appConfig),ge)).json()}catch(Xe){throw Jn.create("token-subscribe-failed",{errorInfo:Xe?.toString()})}if(Ie.error)throw Jn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Jn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function oo(){return(oo=(0,ae.Z)(function*(A,C){const U=yield ur(A),K=ao(C.subscriptionOptions),ge={method:"PATCH",headers:U,body:JSON.stringify(K)};let Ie;try{Ie=yield(yield fetch(`${vs(A.appConfig)}/${C.token}`,ge)).json()}catch(Xe){throw Jn.create("token-update-failed",{errorInfo:Xe?.toString()})}if(Ie.error)throw Jn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Jn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function Mn(A,C){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,ae.Z)(function*(A,C){const K={method:"DELETE",headers:yield ur(A)};try{const Ie=yield(yield fetch(`${vs(A.appConfig)}/${C}`,K)).json();if(Ie.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(ge){throw Jn.create("token-unsubscribe-failed",{errorInfo:ge?.toString()})}})).apply(this,arguments)}function vs({projectId:A}){return`${Ls}/projects/${A}/registrations`}function ur(A){return $o.apply(this,arguments)}function $o(){return($o=(0,ae.Z)(function*({appConfig:A,installations:C}){const U=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function ao({p256dh:A,auth:C,endpoint:U,vapidKey:K}){const ge={web:{endpoint:U,auth:C,p256dh:A}};return K!==no&&(ge.web.applicationPubKey=K),ge}const is=6048e5;function ka(){return ka=(0,ae.Z)(function*(A){const C=yield function Nr(A,C){return Es.apply(this,arguments)}(A.swRegistration,A.vapidKey),U={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:C.endpoint,auth:Us(C.getKey("auth")),p256dh:Us(C.getKey("p256dh"))},K=yield Fo(A.firebaseDependencies);if(K){if(function P(A,C){return C.vapidKey===A.vapidKey&&C.endpoint===A.endpoint&&C.auth===A.auth&&C.p256dh===A.p256dh}(K.subscriptionOptions,U))return Date.now()>=K.createTime+is?function pr(A,C){return ss.apply(this,arguments)}(A,{token:K.token,createTime:Date.now(),subscriptionOptions:U}):K.token;try{yield Mn(A.firebaseDependencies,K.token)}catch(ge){console.warn(ge)}return _o(A.firebaseDependencies,U)}return _o(A.firebaseDependencies,U)}),ka.apply(this,arguments)}function ji(){return ji=(0,ae.Z)(function*(A){const C=yield Fo(A.firebaseDependencies);C&&(yield Mn(A.firebaseDependencies,C.token),yield function Vo(A){return _s.apply(this,arguments)}(A.firebaseDependencies));const U=yield A.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()}),ji.apply(this,arguments)}function ss(){return ss=(0,ae.Z)(function*(A,C){try{const U=yield function Qr(A,C){return oo.apply(this,arguments)}(A.firebaseDependencies,C),K=Object.assign(Object.assign({},C),{token:U,createTime:Date.now()});return yield $i(A.firebaseDependencies,K),U}catch(U){throw yield function uo(A){return ji.apply(this,arguments)}(A),U}}),ss.apply(this,arguments)}function _o(A,C){return $t.apply(this,arguments)}function $t(){return($t=(0,ae.Z)(function*(A,C){const K={token:yield Bo(A,C),createTime:Date.now(),subscriptionOptions:C};return yield $i(A,K),K.token})).apply(this,arguments)}function Es(){return(Es=(0,ae.Z)(function*(A,C){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xo(C)})})).apply(this,arguments)}function N(A){const C={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function S(A,C){if(!C.notification)return;A.notification={};const U=C.notification.title;U&&(A.notification.title=U);const K=C.notification.body;K&&(A.notification.body=K);const ge=C.notification.image;ge&&(A.notification.image=ge);const Ie=C.notification.icon;Ie&&(A.notification.icon=Ie)}(C,A),function j(A,C){C.data&&(A.data=C.data)}(C,A),function Te(A,C){var U,K,ge,Ie,Xe;if(!(C.fcmOptions||null!==(U=C.notification)&&void 0!==U&&U.click_action))return;A.fcmOptions={};const Lt=null!==(ge=null===(K=C.fcmOptions)||void 0===K?void 0:K.link)&&void 0!==ge?ge:null===(Ie=C.notification)||void 0===Ie?void 0:Ie.click_action;Lt&&(A.fcmOptions.link=Lt);const Gt=null===(Xe=C.fcmOptions)||void 0===Xe?void 0:Xe.analytics_label;Gt&&(A.fcmOptions.analyticsLabel=Gt)}(C,A),C}function Oe(A,C){const U=[];for(let K=0;K<A.length;K++)U.push(A.charAt(K)),K<C.length&&U.push(C.charAt(K));return U.join("")}function Pi(A){return Jn.create("missing-app-config-values",{valueName:A})}Oe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bs{constructor(C,U,K){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function Kt(A){if(!A||!A.options)throw Pi("App Configuration Object");if(!A.name)throw Pi("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:U}=A;for(const K of C)if(!U[K])throw Pi(K);return{appName:A.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:ge,installations:U,analyticsProvider:K}}_delete(){return Promise.resolve()}}function Sn(A){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,ae.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(ar,{scope:ns}),A.swRegistration.update().catch(()=>{})}catch(C){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function ai(){return(ai=(0,ae.Z)(function*(A,C){if(!C&&!A.swRegistration&&(yield Sn(A)),C||!A.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");A.swRegistration=C}})).apply(this,arguments)}function ta(){return(ta=(0,ae.Z)(function*(A,C){C?A.vapidKey=C:A.vapidKey||(A.vapidKey=no)})).apply(this,arguments)}function ws(){return ws=(0,ae.Z)(function*(A,C){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield function jo(A,C){return ta.apply(this,arguments)}(A,C?.vapidKey),yield function Hi(A,C){return ai.apply(this,arguments)}(A,C?.serviceWorkerRegistration),function lr(A){return ka.apply(this,arguments)}(A)}),ws.apply(this,arguments)}function ui(){return(ui=(0,ae.Z)(function*(A,C,U){const K=function Xr(A){switch(A){case rs.NOTIFICATION_CLICKED:return"notification_open";case rs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(K,{message_id:U[ro],message_name:U[Vs],message_time:U[Ro],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function os(){return os=(0,ae.Z)(function*(A,C){const U=C.data;if(!U.isFirebaseMessaging)return;A.onMessageHandler&&U.messageType===rs.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(N(U)):A.onMessageHandler.next(N(U)));const K=U.data;(function _t(A){return"object"==typeof A&&!!A&&ro in A})(K)&&"1"===K[_a]&&(yield function $s(A,C,U){return ui.apply(this,arguments)}(A,U.messageType,K))}),os.apply(this,arguments)}const Gi="@firebase/messaging",lo=A=>{const C=new Bs(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function js(A,C){return os.apply(this,arguments)}(C,U)),C},vu=A=>{const C=A.getProvider("messaging").getImmediate();return{getToken:K=>function Ho(A,C){return ws.apply(this,arguments)}(C,K)}};function Ea(){return vo.apply(this,arguments)}function vo(){return(vo=(0,ae.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fa(){(0,Ee.Xd)(new me.wA("messaging",lo,"PUBLIC")),(0,Ee.Xd)(new me.wA("messaging-internal",vu,"PRIVATE")),(0,Ee.KN)(Gi,"0.12.3"),(0,Ee.KN)(Gi,"0.12.3","esm2017")}();const Go="analytics",Qa="firebase_id",Gu="origin",Xa=6e4,bi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hs="https://www.googletagmanager.com/gtag/js",ln=new Ne.Yd("@firebase/analytics");function ra(A){return Promise.all(A.map(C=>C.catch(U=>U)))}function L(){return(L=(0,ae.Z)(function*(A,C,U,K,ge,Ie){const Xe=K[ge];try{if(Xe)yield C[Xe];else{const Gt=(yield ra(U)).find(Jt=>Jt.measurementId===ge);Gt&&(yield C[Gt.appId])}}catch(Lt){ln.error(Lt)}A("config",ge,Ie)})).apply(this,arguments)}function d(){return(d=(0,ae.Z)(function*(A,C,U,K,ge){try{let Ie=[];if(ge&&ge.send_to){let Xe=ge.send_to;Array.isArray(Xe)||(Xe=[Xe]);const Lt=yield ra(U);for(const Gt of Xe){const Jt=Lt.find(sn=>sn.measurementId===Gt),xn=Jt&&C[Jt.appId];if(!xn){Ie=[];break}Ie.push(xn)}}0===Ie.length&&(Ie=Object.values(C)),yield Promise.all(Ie),A("event",K,ge||{})}catch(Ie){ln.error(Ie)}})).apply(this,arguments)}const H=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),J=30,Je=new class ze{constructor(C={},U=1e3){this.throttleMetadata=C,this.intervalMillis=U}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,U){this.throttleMetadata[C]=U}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Dt(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function gt(){return(gt=(0,ae.Z)(function*(A){var C;const{appId:U,apiKey:K}=A,ge={method:"GET",headers:Dt(K)},Ie=bi.replace("{app-id}",U),Xe=yield fetch(Ie,ge);if(200!==Xe.status&&304!==Xe.status){let Lt="";try{const Gt=yield Xe.json();null!==(C=Gt.error)&&void 0!==C&&C.message&&(Lt=Gt.error.message)}catch{}throw H.create("config-fetch-failed",{httpStatus:Xe.status,responseMessage:Lt})}return Xe.json()})).apply(this,arguments)}function Yt(){return(Yt=(0,ae.Z)(function*(A,C=Je,U){const{appId:K,apiKey:ge,measurementId:Ie}=A.options;if(!K)throw H.create("no-app-id");if(!ge){if(Ie)return{measurementId:Ie,appId:K};throw H.create("no-api-key")}const Xe=C.getThrottleMetadata(K)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Lt=new li;return setTimeout((0,ae.Z)(function*(){Lt.abort()}),void 0!==U?U:Xa),bn({appId:K,apiKey:ge,measurementId:Ie},Xe,Lt,C)})).apply(this,arguments)}function bn(A,C,U){return An.apply(this,arguments)}function An(){return An=(0,ae.Z)(function*(A,{throttleEndTimeMillis:C,backoffCount:U},K,ge=Je){var Ie;const{appId:Xe,measurementId:Lt}=A;try{yield function gr(A,C){return new Promise((U,K)=>{const ge=Math.max(C-Date.now(),0),Ie=setTimeout(U,ge);A.addEventListener(()=>{clearTimeout(Ie),K(H.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(K,C)}catch(Gt){if(Lt)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:Xe,measurementId:Lt};throw Gt}try{const Gt=yield function ct(A){return gt.apply(this,arguments)}(A);return ge.deleteThrottleMetadata(Xe),Gt}catch(Gt){const Jt=Gt;if(!function Pn(A){if(!(A instanceof re.ZR&&A.customData))return!1;const C=Number(A.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Jt)){if(ge.deleteThrottleMetadata(Xe),Lt)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${Jt?.message}]`),{appId:Xe,measurementId:Lt};throw Gt}const xn=503===Number(null===(Ie=Jt?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,re.$s)(U,ge.intervalMillis,J):(0,re.$s)(U,ge.intervalMillis),sn={throttleEndTimeMillis:Date.now()+xn,backoffCount:U+1};return ge.setThrottleMetadata(Xe,sn),ln.debug(`Calling attemptFetch again in ${xn} millis`),bn(A,sn,K,ge)}}),An.apply(this,arguments)}class li{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Pr,At;function as(){return(as=(0,ae.Z)(function*(A,C,U,K,ge){if(ge&&ge.global)A("event",U,K);else{const Ie=yield C;A("event",U,Object.assign(Object.assign({},K),{send_to:Ie}))}})).apply(this,arguments)}function bs(){return(bs=(0,ae.Z)(function*(){if(!(0,re.hl)())return ln.warn(H.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(A){return ln.warn(H.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function zs(){return zs=(0,ae.Z)(function*(A,C,U,K,ge,Ie,Xe){var Lt;const Gt=function vt(A){return Yt.apply(this,arguments)}(A);Gt.then(Ii=>{U[Ii.measurementId]=Ii.appId,A.options.measurementId&&Ii.measurementId!==A.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${Ii.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ii=>ln.error(Ii)),C.push(Gt);const Jt=function Kr(){return bs.apply(this,arguments)}().then(Ii=>{if(Ii)return K.getId()}),[xn,sn]=yield Promise.all([Gt,Jt]);(function T(A){const C=window.document.getElementsByTagName("script");for(const U of Object.values(C))if(U.src&&U.src.includes(Hs)&&U.src.includes(A))return U;return null})(Ie)||function zu(A,C){const U=document.createElement("script");U.src=`${Hs}?l=${A}&id=${C}`,U.async=!0,document.head.appendChild(U)}(Ie,xn.measurementId),At&&(ge("consent","default",At),function Zt(A){At=A}(void 0)),ge("js",new Date);const la=null!==(Lt=Xe?.config)&&void 0!==Lt?Lt:{};return la[Gu]="firebase",la.update=!0,null!=sn&&(la[Qa]=sn),ge("config",xn.measurementId,la),Pr&&(ge("set",Pr),function gn(A){Pr=A}(void 0)),xn.measurementId}),zs.apply(this,arguments)}class wr{constructor(C){this.app=C}_delete(){return delete Is[this.app.options.appId],Promise.resolve()}}let Is={},eu=[];const kr={};let fo,ci,Oi="dataLayer",qi="gtag",br=!1;function tu(A,C,U){!function Wu(){const A=[];if((0,re.ru)()&&A.push("This is a browser extension environment."),(0,re.zI)()||A.push("Cookies are not available."),A.length>0){const C=A.map((K,ge)=>`(${ge+1}) ${K}`).join(" "),U=H.create("invalid-analytics-context",{errorInfo:C});ln.warn(U.message)}}();const K=A.options.appId;if(!K)throw H.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw H.create("no-api-key");ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Is[K])throw H.create("already-exists",{id:K});if(!br){!function ba(A){let C=[];Array.isArray(window[A])?C=window[A]:window[A]=C}(Oi);const{wrappedGtag:Ie,gtagCore:Xe}=function m(A,C,U,K,ge){let Ie=function(...Xe){window[K].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(Ie=window[ge]),window[ge]=function p(A,C,U,K){function Ie(){return Ie=(0,ae.Z)(function*(Xe,Lt,Gt){try{"event"===Xe?yield function y(A,C,U,K,ge){return d.apply(this,arguments)}(A,C,U,Lt,Gt):"config"===Xe?yield function bu(A,C,U,K,ge,Ie){return L.apply(this,arguments)}(A,C,U,K,Lt,Gt):"consent"===Xe?A("consent","update",Gt):A("set",Lt)}catch(Jt){ln.error(Jt)}}),Ie.apply(this,arguments)}return function ge(Xe,Lt,Gt){return Ie.apply(this,arguments)}}(Ie,A,C,U),{gtagCore:Ie,wrappedGtag:window[ge]}}(Is,eu,kr,Oi,qi);ci=Ie,fo=Xe,br=!0}return Is[K]=function zi(A,C,U,K,ge,Ie,Xe){return zs.apply(this,arguments)}(A,eu,kr,C,fo,Oi,U),new wr(A)}function dc(){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,ae.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const ru="@firebase/analytics";!function qs(){(0,Ee.Xd)(new me.wA(Go,(C,{options:U})=>tu(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,Ee.Xd)(new me.wA("analytics-internal",function A(C){try{const U=C.getProvider(Go).getImmediate();return{logEvent:(K,ge,Ie)=>function hc(A,C,U,K){A=(0,re.m9)(A),function Er(A,C,U,K,ge){return as.apply(this,arguments)}(ci,Is[A.app.options.appId],C,U,K).catch(ge=>ln.error(ge))}(U,K,ge,Ie)}}catch(U){throw H.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,Ee.KN)(ru,"0.9.3"),(0,Ee.KN)(ru,"0.9.3","esm2017")}();var er=Q(2654);class pc extends er.w{constructor(C,U){super()}schedule(C,U=0){return this}}class Dd extends pc{constructor(C,U){super(C,U),this.scheduler=C,this.work=U,this.pending=!1}schedule(C,U=0){if(this.closed)return this;this.state=C;const K=this.id,ge=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(ge,K,U)),this.pending=!0,this.delay=U,this.id=this.id||this.requestAsyncId(ge,this.id,U),this}requestAsyncId(C,U,K=0){return setInterval(C.flush.bind(C,this),K)}recycleAsyncId(C,U,K=0){if(null!==K&&this.delay===K&&!1===this.pending)return U;clearInterval(U)}execute(C,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const K=this._execute(C,U);if(K)return K;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,U){let ge,K=!1;try{this.work(C)}catch(Ie){K=!0,ge=!!Ie&&Ie||new Error(Ie)}if(K)return this.unsubscribe(),ge}_unsubscribe(){const C=this.id,U=this.scheduler,K=U.actions,ge=K.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ge&&K.splice(ge,1),null!=C&&(this.id=this.recycleAsyncId(U,C,null)),this.delay=null}}let Td=(()=>{class A{constructor(U,K=A.now){this.SchedulerAction=U,this.now=K}schedule(U,K=0,ge){return new this.SchedulerAction(this,U).schedule(ge,K)}}return A.now=()=>Date.now(),A})();class Aa extends Td{constructor(C,U=Td.now){super(C,()=>Aa.delegate&&Aa.delegate!==this?Aa.delegate.now():U()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(C,U=0,K){return Aa.delegate&&Aa.delegate!==this?Aa.delegate.schedule(C,U,K):super.schedule(C,U,K)}flush(C){const{actions:U}=this;if(this.active)return void U.push(C);let K;this.active=!0;do{if(K=C.execute(C.state,C.delay))break}while(C=U.shift());if(this.active=!1,K){for(;C=U.shift();)C.unsubscribe();throw K}}}const ff=new class cg extends Aa{}(class lg extends Dd{constructor(C,U){super(C,U),this.scheduler=C,this.work=U}schedule(C,U=0){return U>0?super.schedule(C,U):(this.delay=U,this.state=C,this.scheduler.flush(this),this)}execute(C,U){return U>0||this.closed?super.execute(C,U):this._execute(C,U)}requestAsyncId(C,U,K=0){return null!==K&&K>0||null===K&&this.delay>0?super.requestAsyncId(C,U,K):C.flush(this)}}),Tl=new Aa(Dd);var Fr=Q(6498),sa=Q(2868);let Zu=1;const gc=Promise.resolve(),mr={};function zo(A){return A in mr&&(delete mr[A],!0)}const Cl={setImmediate(A){const C=Zu++;return mr[C]=!0,gc.then(()=>zo(C)&&A()),C},clearImmediate(A){zo(A)}},Iu=new class yc extends Aa{flush(C){this.active=!0,this.scheduled=void 0;const{actions:U}=this;let K,ge=-1,Ie=U.length;C=C||U.shift();do{if(K=C.execute(C.state,C.delay))break}while(++ge<Ie&&(C=U.shift()));if(this.active=!1,K){for(;++ge<Ie&&(C=U.shift());)C.unsubscribe();throw K}}}(class su extends Dd{constructor(C,U){super(C,U),this.scheduler=C,this.work=U}requestAsyncId(C,U,K=0){return null!==K&&K>0?super.requestAsyncId(C,U,K):(C.actions.push(this),C.scheduled||(C.scheduled=Cl.setImmediate(C.flush.bind(C,null))))}recycleAsyncId(C,U,K=0){if(null!==K&&K>0||null===K&&this.delay>0)return super.recycleAsyncId(C,U,K);0===C.actions.length&&(Cl.clearImmediate(U),C.scheduled=void 0)}});var gf=Q(6688);class La extends Fr.y{constructor(C,U=0,K=Iu){super(),this.source=C,this.delayTime=U,this.scheduler=K,(!function Ws(A){return!(0,gf.k)(A)&&A-parseFloat(A)+1>=0}(U)||U<0)&&(this.delayTime=0),(!K||"function"!=typeof K.schedule)&&(this.scheduler=Iu)}static create(C,U=0,K=Iu){return new La(C,U,K)}static dispatch(C){const{source:U,subscriber:K}=C;return this.add(U.subscribe(K))}_subscribe(C){return this.scheduler.schedule(La.dispatch,this.delayTime,{source:this.source,subscriber:C})}}function Ma(A,C=0){return function(K){return K.lift(new dg(A,C))}}class dg{constructor(C,U){this.scheduler=C,this.delay=U}call(C,U){return new La(U,this.delay,this.scheduler).subscribe(C)}}var Cd=Q(3489),_c=Q(8896),hg=Q(1086),Va=Q(1737);class us{constructor(C,U,K){this.kind=C,this.value=U,this.error=K,this.hasValue="N"===C}observe(C){switch(this.kind){case"N":return C.next&&C.next(this.value);case"E":return C.error&&C.error(this.error);case"C":return C.complete&&C.complete()}}do(C,U,K){switch(this.kind){case"N":return C&&C(this.value);case"E":return U&&U(this.error);case"C":return K&&K()}}accept(C,U,K){return C&&"function"==typeof C.next?this.observe(C):this.do(C,U,K)}toObservable(){switch(this.kind){case"N":return(0,hg.of)(this.value);case"E":return(0,Va._)(this.error);case"C":return(0,_c.c)()}throw new Error("unexpected notification kind value")}static createNext(C){return typeof C<"u"?new us("N",C):us.undefinedValueNotification}static createError(C){return new us("E",void 0,C)}static createComplete(){return us.completeNotification}}function Sd(A,C=0){return function(K){return K.lift(new Du(A,C))}}us.completeNotification=new us("C"),us.undefinedValueNotification=new us("N",void 0);class Du{constructor(C,U=0){this.scheduler=C,this.delay=U}call(C,U){return U.subscribe(new xa(C,this.scheduler,this.delay))}}class xa extends Cd.L{constructor(C,U,K=0){super(C),this.scheduler=U,this.delay=K}static dispatch(C){const{notification:U,destination:K}=C;U.observe(K),this.unsubscribe()}scheduleMessage(C){this.destination.add(this.scheduler.schedule(xa.dispatch,this.delay,new Tu(C,this.destination)))}_next(C){this.scheduleMessage(us.createNext(C))}_error(C){this.scheduleMessage(us.createError(C)),this.unsubscribe()}_complete(){this.scheduleMessage(us.createComplete()),this.unsubscribe()}}class Tu{constructor(C,U){this.notification=C,this.destination=U}}const Yu=new b.GfV("7.5.0"),ou="__angularfire_symbol__analyticsIsSupportedValue",au="__angularfire_symbol__analyticsIsSupported",oa="__angularfire_symbol__remoteConfigIsSupportedValue",Ua="__angularfire_symbol__remoteConfigIsSupported",Ba="__angularfire_symbol__messagingIsSupportedValue",Cu="__angularfire_symbol__messagingIsSupported";function O(A,C,U){if(C){if(1===C.length)return C[0];const Ie=C.filter(Xe=>Xe.app===U);if(1===Ie.length)return Ie[0]}return U.container.getProvider(A).getImmediate({optional:!0})}globalThis[au]||(globalThis[au]=dc().then(A=>globalThis[ou]=A).catch(()=>globalThis[ou]=!1)),globalThis[Cu]||(globalThis[Cu]=Ea().then(A=>globalThis[Ba]=A).catch(()=>globalThis[Ba]=!1)),globalThis[Ua]||(globalThis[Ua]=Yr().then(A=>globalThis[oa]=A).catch(()=>globalThis[oa]=!1));const $=(A,C)=>{const U=C?[C]:(0,R.C6)(),K=[];return U.forEach(ge=>{ge.container.getProvider(A).instances.forEach(Xe=>{K.includes(Xe)||K.push(Xe)})}),K};function z(){}class ve{constructor(C,U=ff){this.zone=C,this.delegate=U}now(){return this.delegate.now()}schedule(C,U,K){const ge=this.zone;return this.delegate.schedule(function(Xe){ge.runGuarded(()=>{C.apply(this,[Xe])})},U,K)}}class $e{constructor(C){this.zone=C,this.task=null}call(C,U){const K=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",z,{},z,z)),U.pipe((0,sa.b)({next:K,complete:K,error:K})).subscribe(C).add(K)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Et=(()=>{class A{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new ve(Zone.current)),this.insideAngular=U.run(()=>new ve(Zone.current,Tl)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(U){return new(U||A)(b.LFG(b.R0b))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function mt(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function tr(A){return mt().ngZone.run(()=>A())}function ua(A){return mt(),function Ds(A){return function(U){return(U=U.lift(new $e(A.ngZone))).pipe(Ma(A.outsideAngular),Sd(A.insideAngular))}}(mt())(A)}const Ad=(A,C)=>function(){const K=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),tr(()=>A.apply(void 0,K))},Sl=(A,C)=>function(){let U;const K=arguments;for(let Ie=0;Ie<arguments.length;Ie++)"function"==typeof K[Ie]&&(C&&(U||(U=tr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",z,{},z,z)))),K[Ie]=Ad(K[Ie],U));const ge=function On(A){return mt().ngZone.runOutsideAngular(()=>A())}(()=>A.apply(this,K));if(!C){if(ge instanceof Fr.y){const Ie=mt();return ge.pipe(Ma(Ie.outsideAngular),Sd(Ie.insideAngular))}return tr(()=>ge)}return ge instanceof Fr.y?ge.pipe(ua):ge instanceof Promise?tr(()=>new Promise((Ie,Xe)=>ge.then(Lt=>tr(()=>Ie(Lt)),Lt=>tr(()=>Xe(Lt))))):"function"==typeof ge&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),ge.apply(this,arguments)}:tr(()=>ge)}},2090:(Ht,je,Q)=>{Q.d(je,{$s:()=>ue,BH:()=>qe,L:()=>Ce,LL:()=>Bn,P0:()=>zt,Pz:()=>dt,Sg:()=>we,US:()=>me,ZR:()=>yr,aH:()=>nt,b$:()=>It,eu:()=>Sr,hl:()=>Ci,m9:()=>xe,ne:()=>fn,ru:()=>rt,tV:()=>ye,uI:()=>kt,vZ:()=>Ct,xO:()=>jr,z$:()=>Ke,zI:()=>gi});const Ee=function(q){const Z=[];let oe=0;for(let Se=0;Se<q.length;Se++){let pe=q.charCodeAt(Se);pe<128?Z[oe++]=pe:pe<2048?(Z[oe++]=pe>>6|192,Z[oe++]=63&pe|128):55296==(64512&pe)&&Se+1<q.length&&56320==(64512&q.charCodeAt(Se+1))?(pe=65536+((1023&pe)<<10)+(1023&q.charCodeAt(++Se)),Z[oe++]=pe>>18|240,Z[oe++]=pe>>12&63|128,Z[oe++]=pe>>6&63|128,Z[oe++]=63&pe|128):(Z[oe++]=pe>>12|224,Z[oe++]=pe>>6&63|128,Z[oe++]=63&pe|128)}return Z},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,Z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let pe=0;pe<q.length;pe+=3){const et=q[pe],Nt=pe+1<q.length,ce=Nt?q[pe+1]:0,se=pe+2<q.length,W=se?q[pe+2]:0;let st=(15&ce)<<2|W>>6,at=63&W;se||(at=64,Nt||(st=64)),Se.push(oe[et>>2],oe[(3&et)<<4|ce>>4],oe[st],oe[at])}return Se.join("")},encodeString(q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(q):this.encodeByteArray(Ee(q),Z)},decodeString(q,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(q):function(q){const Z=[];let oe=0,Se=0;for(;oe<q.length;){const pe=q[oe++];if(pe<128)Z[Se++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const et=q[oe++];Z[Se++]=String.fromCharCode((31&pe)<<6|63&et)}else if(pe>239&&pe<365){const se=((7&pe)<<18|(63&q[oe++])<<12|(63&q[oe++])<<6|63&q[oe++])-65536;Z[Se++]=String.fromCharCode(55296+(se>>10)),Z[Se++]=String.fromCharCode(56320+(1023&se))}else{const et=q[oe++],Nt=q[oe++];Z[Se++]=String.fromCharCode((15&pe)<<12|(63&et)<<6|63&Nt)}}return Z.join("")}(this.decodeStringToByteArray(q,Z))},decodeStringToByteArray(q,Z){this.init_();const oe=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let pe=0;pe<q.length;){const et=oe[q.charAt(pe++)],ce=pe<q.length?oe[q.charAt(pe)]:0;++pe;const W=pe<q.length?oe[q.charAt(pe)]:64;++pe;const De=pe<q.length?oe[q.charAt(pe)]:64;if(++pe,null==et||null==ce||null==W||null==De)throw Error();Se.push(et<<2|ce>>4),64!==W&&(Se.push(ce<<4&240|W>>2),64!==De&&Se.push(W<<6&192|De))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},Ce=function(q){return function(q){const Z=Ee(q);return me.encodeByteArray(Z,!0)}(q).replace(/\./g,"")},ye=function(q){try{return me.decodeString(q,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null},yt=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=q&&ye(q[1]);return Z&&JSON.parse(Z)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},zt=q=>{const Z=(q=>{var Z,oe;return null===(oe=null===(Z=yt())||void 0===Z?void 0:Z.emulatorHosts)||void 0===oe?void 0:oe[q]})(q);if(!Z)return;const oe=Z.lastIndexOf(":");if(oe<=0||oe+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const Se=parseInt(Z.substring(oe+1),10);return"["===Z[0]?[Z.substring(1,oe-1),Se]:[Z.substring(0,oe),Se]},nt=()=>{var q;return null===(q=yt())||void 0===q?void 0:q.config},dt=q=>{var Z;return null===(Z=yt())||void 0===Z?void 0:Z[`_${q}`]};class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,oe)=>{this.resolve=Z,this.reject=oe})}wrapCallback(Z){return(oe,Se)=>{oe?this.reject(oe):this.resolve(Se),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(oe):Z(oe,Se))}}}function we(q,Z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=Z||"demo-project",pe=q.iat||0,et=q.sub||q.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:pe,exp:pe+3600,auth_time:pe,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Nt)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function rt(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function It(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ci(){try{return"object"==typeof indexedDB}catch{return!1}}function Sr(){return new Promise((q,Z)=>{try{let oe=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(Se);pe.onsuccess=()=>{pe.result.close(),oe||self.indexedDB.deleteDatabase(Se),q(!0)},pe.onupgradeneeded=()=>{oe=!1},pe.onerror=()=>{var et;Z((null===(et=pe.error)||void 0===et?void 0:et.message)||"")}}catch(oe){Z(oe)}})}function gi(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yr extends Error{constructor(Z,oe,Se){super(oe),this.code=Z,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}}class Bn{constructor(Z,oe,Se){this.service=Z,this.serviceName=oe,this.errors=Se}create(Z,...oe){const Se=oe[0]||{},pe=`${this.service}/${Z}`,et=this.errors[Z],Nt=et?function Kn(q,Z){return q.replace(Ut,(oe,Se)=>{const pe=Z[Se];return null!=pe?String(pe):`<${Se}?>`})}(et,Se):"Error";return new yr(pe,`${this.serviceName}: ${Nt} (${pe}).`,Se)}}const Ut=/\{\$([^}]+)}/g;function Ct(q,Z){if(q===Z)return!0;const oe=Object.keys(q),Se=Object.keys(Z);for(const pe of oe){if(!Se.includes(pe))return!1;const et=q[pe],Nt=Z[pe];if(rn(et)&&rn(Nt)){if(!Ct(et,Nt))return!1}else if(et!==Nt)return!1}for(const pe of Se)if(!oe.includes(pe))return!1;return!0}function rn(q){return null!==q&&"object"==typeof q}function jr(q){const Z=[];for(const[oe,Se]of Object.entries(q))Array.isArray(Se)?Se.forEach(pe=>{Z.push(encodeURIComponent(oe)+"="+encodeURIComponent(pe))}):Z.push(encodeURIComponent(oe)+"="+encodeURIComponent(Se));return Z.length?"&"+Z.join("&"):""}function fn(q,Z){const oe=new pn(q,Z);return oe.subscribe.bind(oe)}class pn{constructor(Z,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{Z(this)}).catch(Se=>{this.error(Se)})}next(Z){this.forEachObserver(oe=>{oe.next(Z)})}error(Z){this.forEachObserver(oe=>{oe.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,oe,Se){let pe;if(void 0===Z&&void 0===oe&&void 0===Se)throw new Error("Missing Observer.");pe=function We(q,Z){if("object"!=typeof q||null===q)return!1;for(const oe of Z)if(oe in q&&"function"==typeof q[oe])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:oe,complete:Se},void 0===pe.next&&(pe.next=hr),void 0===pe.error&&(pe.error=hr),void 0===pe.complete&&(pe.complete=hr);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),et}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,Z)}sendOne(Z,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{oe(this.observers[Z])}catch(Se){typeof console<"u"&&console.error&&console.error(Se)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hr(){}const Ui=1e3,Yn=2,Qe=144e5,Pe=.5;function ue(q,Z=Ui,oe=Yn){const Se=Z*Math.pow(oe,q),pe=Math.round(Pe*Se*(Math.random()-.5)*2);return Math.min(Qe,Se+pe)}function xe(q){return q&&q._delegate?q._delegate:q}},7417:(Ht,je,Q)=>{Q.d(je,{X:()=>R});class b{constructor(Ee=null){this.actived=Ee&&Ee.actived||void 0,this.deleted=Ee&&Ee.deleted||void 0,this.created_at=Ee&&Ee.created_at||void 0,this.updated_at=Ee&&Ee.updated_at||void 0,this.deleted_at=Ee&&Ee.deleted_at||void 0}}class R extends b{constructor(Ee=null){super(Ee),this.id=Ee&&Ee.id||void 0,this.rate_sale=Ee&&Ee.rate_sale||0,this.rate_buy=Ee&&Ee.rate_buy||0}}},3835:(Ht,je,Q)=>{Q.d(je,{m:()=>me});var b=Q(81),R=Q(4850),ae=Q(7417),Ee=Q(5675),re=Q(529);let me=(()=>{class Ne{constructor(ye,X){this.firestore=ye,this.http=X}getExchangeRate(){const ye=(0,b.hJ)(this.firestore,"exchange_rate"),X=(0,b.IO)(ye,(0,b.Xo)("created_at","desc"));return(0,b.BS)(X).pipe((0,R.U)(Y=>new ae.X(Y.length>0?Y[0]:null)))}}return Ne.\u0275fac=function(ye){return new(ye||Ne)(Ee.LFG(b.gg),Ee.LFG(re.eN))},Ne.\u0275prov=Ee.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},5495:(Ht,je,Q)=>{var b=Q(1481),R=Q(5675);class ae{}class Ee{}const re="*";function ye(L,y=null){return{type:2,steps:L,options:y}}function X(L){return{type:6,styles:L,offset:null}}function zt(L){Promise.resolve().then(L)}class nt{constructor(y=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=y+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(y){this._position=this.totalTime?y*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(y){const d="start"==y?this._onStartFns:this._onDoneFns;d.forEach(p=>p()),d.length=0}}class dt{constructor(y){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=y;let d=0,p=0,m=0;const T=this.players.length;0==T?zt(()=>this._onFinish()):this.players.forEach(F=>{F.onDone(()=>{++d==T&&this._onFinish()}),F.onDestroy(()=>{++p==T&&this._onDestroy()}),F.onStart(()=>{++m==T&&this._onStart()})}),this.totalTime=this.players.reduce((F,H)=>Math.max(F,H.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this.players.forEach(y=>y.init())}onStart(y){this._onStartFns.push(y)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(y=>y()),this._onStartFns=[])}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(y=>y.play())}pause(){this.players.forEach(y=>y.pause())}restart(){this.players.forEach(y=>y.restart())}finish(){this._onFinish(),this.players.forEach(y=>y.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(y=>y.destroy()),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this.players.forEach(y=>y.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(y){const d=y*this.totalTime;this.players.forEach(p=>{const m=p.totalTime?Math.min(1,d/p.totalTime):1;p.setPosition(m)})}getPosition(){const y=this.players.reduce((d,p)=>null===d||p.totalTime>d.totalTime?p:d,null);return null!=y?y.getPosition():0}beforeDestroy(){this.players.forEach(y=>{y.beforeDestroy&&y.beforeDestroy()})}triggerCallback(y){const d="start"==y?this._onStartFns:this._onDoneFns;d.forEach(p=>p()),d.length=0}}const qe="!";function Ke(L){return new R.vHH(3e3,!1)}function fn(){return typeof window<"u"&&typeof window.document<"u"}function pn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function pt(L){switch(L.length){case 0:return new nt;case 1:return L[0];default:return new dt(L)}}function We(L,y,d,p,m=new Map,T=new Map){const F=[],H=[];let J=-1,fe=null;if(p.forEach(ze=>{const Je=ze.get("offset"),Dt=Je==J,ct=Dt&&fe||new Map;ze.forEach((gt,vt)=>{let Yt=vt,bn=gt;if("offset"!==vt)switch(Yt=y.normalizePropertyName(Yt,F),bn){case qe:bn=m.get(vt);break;case re:bn=T.get(vt);break;default:bn=y.normalizeStyleValue(vt,Yt,bn,F)}ct.set(Yt,bn)}),Dt||H.push(ct),fe=ct,J=Je}),F.length)throw function mi(L){return new R.vHH(3502,!1)}();return H}function hr(L,y,d,p){switch(y){case"start":L.onStart(()=>p(d&&Tr(d,"start",L)));break;case"done":L.onDone(()=>p(d&&Tr(d,"done",L)));break;case"destroy":L.onDestroy(()=>p(d&&Tr(d,"destroy",L)))}}function Tr(L,y,d){const T=Ln(L.element,L.triggerName,L.fromState,L.toState,y||L.phaseName,d.totalTime??L.totalTime,!!d.disabled),F=L._data;return null!=F&&(T._data=F),T}function Ln(L,y,d,p,m="",T=0,F){return{element:L,triggerName:y,fromState:d,toState:p,phaseName:m,totalTime:T,disabled:!!F}}function En(L,y,d){let p=L.get(y);return p||L.set(y,p=d),p}function Zn(L){const y=L.indexOf(":");return[L.substring(1,y),L.slice(y+1)]}let Si=(L,y)=>!1,wn=(L,y,d)=>[],Vt=null;function tn(L){const y=L.parentNode||L.host;return y===Vt?null:y}(pn()||typeof Element<"u")&&(fn()?(Vt=(()=>document.documentElement)(),Si=(L,y)=>{for(;y;){if(y===L)return!0;y=tn(y)}return!1}):Si=(L,y)=>L.contains(y),wn=(L,y,d)=>{if(d)return Array.from(L.querySelectorAll(y));const p=L.querySelector(y);return p?[p]:[]});let Qe=null,Pe=!1;const xe=Si,q=wn;let oe=(()=>{class L{validateStyleProperty(d){return function ue(L){Qe||(Qe=function ie(){return typeof document<"u"?document.body:null}()||{},Pe=!!Qe.style&&"WebkitAppearance"in Qe.style);let y=!0;return Qe.style&&!function Yn(L){return"ebkit"==L.substring(1,6)}(L)&&(y=L in Qe.style,!y&&Pe&&(y="Webkit"+L.charAt(0).toUpperCase()+L.slice(1)in Qe.style)),y}(d)}matchesElement(d,p){return!1}containsElement(d,p){return xe(d,p)}getParentElement(d){return tn(d)}query(d,p,m){return q(d,p,m)}computeStyle(d,p,m){return m||""}animate(d,p,m,T,F,H=[],J){return new nt(m,T)}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275prov=R.Yz7({token:L,factory:L.\u0275fac}),L})(),Se=(()=>{class L{}return L.NOOP=new oe,L})();const pe=1e3,ce="ng-enter",se="ng-leave",W="ng-trigger",he=".ng-trigger",De="ng-animating",st=".ng-animating";function at(L){if("number"==typeof L)return L;const y=L.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:ot(parseFloat(y[1]),y[2])}function ot(L,y){return"s"===y?L*pe:L}function an(L,y,d){return L.hasOwnProperty("duration")?L:function Yi(L,y,d){let m,T=0,F="";if("string"==typeof L){const H=L.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===H)return y.push(Ke()),{duration:0,delay:0,easing:""};m=ot(parseFloat(H[1]),H[2]);const J=H[3];null!=J&&(T=ot(parseFloat(J),H[4]));const fe=H[5];fe&&(F=fe)}else m=L;if(!d){let H=!1,J=y.length;m<0&&(y.push(function kt(){return new R.vHH(3100,!1)}()),H=!0),T<0&&(y.push(function Fe(){return new R.vHH(3101,!1)}()),H=!0),H&&y.splice(J,0,Ke())}return{duration:m,delay:T,easing:F}}(L,y,d)}function Tn(L,y={}){return Object.keys(L).forEach(d=>{y[d]=L[d]}),y}function Qi(L){const y=new Map;return Object.keys(L).forEach(d=>{y.set(d,L[d])}),y}function Ar(L,y=new Map,d){if(d)for(let[p,m]of d)y.set(p,m);for(let[p,m]of L)y.set(p,m);return y}function Xi(L,y,d){return d?y+":"+d+";":""}function Ji(L){let y="";for(let d=0;d<L.style.length;d++){const p=L.style.item(d);y+=Xi(0,p,L.style.getPropertyValue(p))}for(const d in L.style)L.style.hasOwnProperty(d)&&!d.startsWith("_")&&(y+=Xi(0,ri(d),L.style[d]));L.setAttribute("style",y)}function Hr(L,y,d){L.style&&(y.forEach((p,m)=>{const T=es(m);d&&!d.has(m)&&d.set(m,L.style[T]),L.style[T]=p}),pn()&&Ji(L))}function Mr(L,y){L.style&&(y.forEach((d,p)=>{const m=es(p);L.style[m]=""}),pn()&&Ji(L))}function on(L){return Array.isArray(L)?1==L.length?L[0]:ye(L):L}const _r=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qn(L){let y=[];if("string"==typeof L){let d;for(;d=_r.exec(L);)y.push(d[1]);_r.lastIndex=0}return y}function $n(L,y,d){const p=L.toString(),m=p.replace(_r,(T,F)=>{let H=y[F];return null==H&&(d.push(function rt(L){return new R.vHH(3003,!1)}()),H=""),H.toString()});return m==p?L:m}function ni(L){const y=[];let d=L.next();for(;!d.done;)y.push(d.value),d=L.next();return y}const gs=/-+([a-z0-9])/g;function es(L){return L.replace(gs,(...y)=>y[1].toUpperCase())}function ri(L){return L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function un(L,y,d){switch(y.type){case 7:return L.visitTrigger(y,d);case 0:return L.visitState(y,d);case 1:return L.visitTransition(y,d);case 2:return L.visitSequence(y,d);case 3:return L.visitGroup(y,d);case 4:return L.visitAnimate(y,d);case 5:return L.visitKeyframes(y,d);case 6:return L.visitStyle(y,d);case 8:return L.visitReference(y,d);case 9:return L.visitAnimateChild(y,d);case 10:return L.visitAnimateRef(y,d);case 11:return L.visitQuery(y,d);case 12:return L.visitStagger(y,d);default:throw function It(L){return new R.vHH(3004,!1)}()}}function Gr(L,y){return window.getComputedStyle(L)[y]}const ts="*";function eo(L,y){const d=[];return"string"==typeof L?L.split(/\s*,\s*/).forEach(p=>function _u(L,y,d){if(":"==L[0]){const J=function Bi(L,y){switch(L){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,p)=>parseFloat(p)>parseFloat(d);case":decrement":return(d,p)=>parseFloat(p)<parseFloat(d);default:return y.push(function Zr(L){return new R.vHH(3016,!1)}()),"* => *"}}(L,d);if("function"==typeof J)return void y.push(J);L=J}const p=L.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return d.push(function _n(L){return new R.vHH(3015,!1)}()),y;const m=p[1],T=p[2],F=p[3];y.push(Os(m,F));"<"==T[0]&&!(m==ts&&F==ts)&&y.push(Os(F,m))}(p,d,y)):d.push(L),d}const or=new Set(["true","1"]),Ei=new Set(["false","0"]);function Os(L,y){const d=or.has(L)||Ei.has(L),p=or.has(y)||Ei.has(y);return(m,T)=>{let F=L==ts||L==m,H=y==ts||y==T;return!F&&d&&"boolean"==typeof m&&(F=m?or.has(L):Ei.has(L)),!H&&p&&"boolean"==typeof T&&(H=T?or.has(y):Ei.has(y)),F&&H}}const Dn=new RegExp("s*:selfs*,?","g");function Mi(L,y,d,p){return new ya(L).build(y,d,p)}class ya{constructor(y){this._driver=y}build(y,d,p){const m=new to(d);return this._resetContextStyleTimingState(m),un(this,on(y),m)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,d){let p=d.queryCount=0,m=d.depCount=0;const T=[],F=[];return"@"==y.name.charAt(0)&&d.errors.push(function He(){return new R.vHH(3006,!1)}()),y.definitions.forEach(H=>{if(this._resetContextStyleTimingState(d),0==H.type){const J=H,fe=J.name;fe.toString().split(/\s*,\s*/).forEach(ze=>{J.name=ze,T.push(this.visitState(J,d))}),J.name=fe}else if(1==H.type){const J=this.visitTransition(H,d);p+=J.queryCount,m+=J.depCount,F.push(J)}else d.errors.push(function nn(){return new R.vHH(3007,!1)}())}),{type:7,name:y.name,states:T,transitions:F,queryCount:p,depCount:m,options:null}}visitState(y,d){const p=this.visitStyle(y.styles,d),m=y.options&&y.options.params||null;if(p.containsDynamicStyles){const T=new Set,F=m||{};p.styles.forEach(H=>{H instanceof Map&&H.forEach(J=>{Qn(J).forEach(fe=>{F.hasOwnProperty(fe)||T.add(fe)})})}),T.size&&(ni(T.values()),d.errors.push(function Fn(L,y){return new R.vHH(3008,!1)}()))}return{type:0,name:y.name,style:p,options:m?{params:m}:null}}visitTransition(y,d){d.queryCount=0,d.depCount=0;const p=un(this,on(y.animation),d);return{type:1,matchers:eo(y.expr,d.errors),animation:p,queryCount:d.queryCount,depCount:d.depCount,options:Vn(y.options)}}visitSequence(y,d){return{type:2,steps:y.steps.map(p=>un(this,p,d)),options:Vn(y.options)}}visitGroup(y,d){const p=d.currentTime;let m=0;const T=y.steps.map(F=>{d.currentTime=p;const H=un(this,F,d);return m=Math.max(m,d.currentTime),H});return d.currentTime=m,{type:3,steps:T,options:Vn(y.options)}}visitAnimate(y,d){const p=function ms(L,y){if(L.hasOwnProperty("duration"))return L;if("number"==typeof L)return No(an(L,y).duration,0,"");const d=L;if(d.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=No(0,0,"");return T.dynamic=!0,T.strValue=d,T}const m=an(d,y);return No(m.duration,m.delay,m.easing)}(y.timings,d.errors);d.currentAnimateTimings=p;let m,T=y.styles?y.styles:X({});if(5==T.type)m=this.visitKeyframes(T,d);else{let F=y.styles,H=!1;if(!F){H=!0;const fe={};p.easing&&(fe.easing=p.easing),F=X(fe)}d.currentTime+=p.duration+p.delay;const J=this.visitStyle(F,d);J.isEmptyStep=H,m=J}return d.currentAnimateTimings=null,{type:4,timings:p,style:m,options:null}}visitStyle(y,d){const p=this._makeStyleAst(y,d);return this._validateStyleAst(p,d),p}_makeStyleAst(y,d){const p=[],m=Array.isArray(y.styles)?y.styles:[y.styles];for(let H of m)"string"==typeof H?H===re?p.push(H):d.errors.push(new R.vHH(3002,!1)):p.push(Qi(H));let T=!1,F=null;return p.forEach(H=>{if(H instanceof Map&&(H.has("easing")&&(F=H.get("easing"),H.delete("easing")),!T))for(let J of H.values())if(J.toString().indexOf("{{")>=0){T=!0;break}}),{type:6,styles:p,easing:F,offset:y.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(y,d){const p=d.currentAnimateTimings;let m=d.currentTime,T=d.currentTime;p&&T>0&&(T-=p.duration+p.delay),y.styles.forEach(F=>{"string"!=typeof F&&F.forEach((H,J)=>{const fe=d.collectedStyles.get(d.currentQuerySelector),ze=fe.get(J);let Je=!0;ze&&(T!=m&&T>=ze.startTime&&m<=ze.endTime&&(d.errors.push(function Sr(L,y,d,p,m){return new R.vHH(3010,!1)}()),Je=!1),T=ze.startTime),Je&&fe.set(J,{startTime:T,endTime:m}),d.options&&function sr(L,y,d){const p=y.params||{},m=Qn(L);m.length&&m.forEach(T=>{p.hasOwnProperty(T)||d.push(function ke(L){return new R.vHH(3001,!1)}())})}(H,d.options,d.errors)})})}visitKeyframes(y,d){const p={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function gi(){return new R.vHH(3011,!1)}()),p;let T=0;const F=[];let H=!1,J=!1,fe=0;const ze=y.steps.map(bn=>{const An=this._makeStyleAst(bn,d);let gr=null!=An.offset?An.offset:function Fs(L){if("string"==typeof L)return null;let y=null;if(Array.isArray(L))L.forEach(d=>{if(d instanceof Map&&d.has("offset")){const p=d;y=parseFloat(p.get("offset")),p.delete("offset")}});else if(L instanceof Map&&L.has("offset")){const d=L;y=parseFloat(d.get("offset")),d.delete("offset")}return y}(An.styles),Pn=0;return null!=gr&&(T++,Pn=An.offset=gr),J=J||Pn<0||Pn>1,H=H||Pn<fe,fe=Pn,F.push(Pn),An});J&&d.errors.push(function Hn(){return new R.vHH(3012,!1)}()),H&&d.errors.push(function yr(){return new R.vHH(3200,!1)}());const Je=y.steps.length;let Dt=0;T>0&&T<Je?d.errors.push(function Bn(){return new R.vHH(3202,!1)}()):0==T&&(Dt=1/(Je-1));const ct=Je-1,gt=d.currentTime,vt=d.currentAnimateTimings,Yt=vt.duration;return ze.forEach((bn,An)=>{const gr=Dt>0?An==ct?1:Dt*An:F[An],Pn=gr*Yt;d.currentTime=gt+vt.delay+Pn,vt.duration=Pn,this._validateStyleAst(bn,d),bn.offset=gr,p.styles.push(bn)}),p}visitReference(y,d){return{type:8,animation:un(this,on(y.animation),d),options:Vn(y.options)}}visitAnimateChild(y,d){return d.depCount++,{type:9,options:Vn(y.options)}}visitAnimateRef(y,d){return{type:10,animation:this.visitReference(y.animation,d),options:Vn(y.options)}}visitQuery(y,d){const p=d.currentQuerySelector,m=y.options||{};d.queryCount++,d.currentQuery=y;const[T,F]=function ks(L){const y=!!L.split(/\s*,\s*/).find(d=>":self"==d);return y&&(L=L.replace(Dn,"")),L=L.replace(/@\*/g,he).replace(/@\w+/g,d=>he+"-"+d.slice(1)).replace(/:animating/g,st),[L,y]}(y.selector);d.currentQuerySelector=p.length?p+" "+T:T,En(d.collectedStyles,d.currentQuerySelector,new Map);const H=un(this,on(y.animation),d);return d.currentQuery=null,d.currentQuerySelector=p,{type:11,selector:T,limit:m.limit||0,optional:!!m.optional,includeSelf:F,animation:H,originalSelector:y.selector,options:Vn(y.options)}}visitStagger(y,d){d.currentQuery||d.errors.push(function Kn(){return new R.vHH(3013,!1)}());const p="full"===y.timings?{duration:0,delay:0,easing:"full"}:an(y.timings,d.errors,!0);return{type:12,animation:un(this,on(y.animation),d),timings:p,options:null}}}class to{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Vn(L){return L?(L=Tn(L)).params&&(L.params=function xi(L){return L?Tn(L):null}(L.params)):L={},L}function No(L,y,d){return{duration:L,delay:y,easing:d}}function vr(L,y,d,p,m,T,F=null,H=!1){return{type:1,element:L,keyframes:y,preStyleProps:d,postStyleProps:p,duration:m,delay:T,totalTime:m+T,easing:F,subTimeline:H}}class qr{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,d){let p=this._map.get(y);p||this._map.set(y,p=[]),p.push(...d)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const Ni=new RegExp(":enter","g"),ns=new RegExp(":leave","g");function no(L,y,d,p,m,T=new Map,F=new Map,H,J,fe=[]){return(new Ls).buildKeyframes(L,y,d,p,m,T,F,H,J,fe)}class Ls{buildKeyframes(y,d,p,m,T,F,H,J,fe,ze=[]){fe=fe||new qr;const Je=new Vs(y,d,fe,m,T,ze,[]);Je.options=J;const Dt=J.delay?at(J.delay):0;Je.currentTimeline.delayNextStep(Dt),Je.currentTimeline.setStyles([F],null,Je.errors,J),un(this,p,Je);const ct=Je.timelines.filter(gt=>gt.containsAnimation());if(ct.length&&H.size){let gt;for(let vt=ct.length-1;vt>=0;vt--){const Yt=ct[vt];if(Yt.element===d){gt=Yt;break}}gt&&!gt.allowOnlyTimelineStyles()&&gt.setStyles([H],null,Je.errors,J)}return ct.length?ct.map(gt=>gt.buildKeyframes()):[vr(d,[],[],[],0,Dt,"",!1)]}visitTrigger(y,d){}visitState(y,d){}visitTransition(y,d){}visitAnimateChild(y,d){const p=d.subInstructions.get(d.element);if(p){const m=d.createSubContext(y.options),T=d.currentTimeline.currentTime,F=this._visitSubInstructions(p,m,m.options);T!=F&&d.transformIntoNewTimeline(F)}d.previousNode=y}visitAnimateRef(y,d){const p=d.createSubContext(y.options);p.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],d,p),this.visitReference(y.animation,p),d.transformIntoNewTimeline(p.currentTimeline.currentTime),d.previousNode=y}_applyAnimationRefDelays(y,d,p){for(const m of y){const T=m?.delay;if(T){const F="number"==typeof T?T:at($n(T,m?.params??{},d.errors));p.delayNextStep(F)}}}_visitSubInstructions(y,d,p){let T=d.currentTimeline.currentTime;const F=null!=p.duration?at(p.duration):null,H=null!=p.delay?at(p.delay):null;return 0!==F&&y.forEach(J=>{const fe=d.appendInstructionToTimeline(J,F,H);T=Math.max(T,fe.duration+fe.delay)}),T}visitReference(y,d){d.updateOptions(y.options,!0),un(this,y.animation,d),d.previousNode=y}visitSequence(y,d){const p=d.subContextCount;let m=d;const T=y.options;if(T&&(T.params||T.delay)&&(m=d.createSubContext(T),m.transformIntoNewTimeline(),null!=T.delay)){6==m.previousNode.type&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=ro);const F=at(T.delay);m.delayNextStep(F)}y.steps.length&&(y.steps.forEach(F=>un(this,F,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>p&&m.transformIntoNewTimeline()),d.previousNode=y}visitGroup(y,d){const p=[];let m=d.currentTimeline.currentTime;const T=y.options&&y.options.delay?at(y.options.delay):0;y.steps.forEach(F=>{const H=d.createSubContext(y.options);T&&H.delayNextStep(T),un(this,F,H),m=Math.max(m,H.currentTimeline.currentTime),p.push(H.currentTimeline)}),p.forEach(F=>d.currentTimeline.mergeTimelineCollectedStyles(F)),d.transformIntoNewTimeline(m),d.previousNode=y}_visitTiming(y,d){if(y.dynamic){const p=y.strValue;return an(d.params?$n(p,d.params,d.errors):p,d.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,d){const p=d.currentAnimateTimings=this._visitTiming(y.timings,d),m=d.currentTimeline;p.delay&&(d.incrementTime(p.delay),m.snapshotCurrentStyles());const T=y.style;5==T.type?this.visitKeyframes(T,d):(d.incrementTime(p.duration),this.visitStyle(T,d),m.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=y}visitStyle(y,d){const p=d.currentTimeline,m=d.currentAnimateTimings;!m&&p.hasCurrentStyleProperties()&&p.forwardFrame();const T=m&&m.easing||y.easing;y.isEmptyStep?p.applyEmptyStep(T):p.setStyles(y.styles,T,d.errors,d.options),d.previousNode=y}visitKeyframes(y,d){const p=d.currentAnimateTimings,m=d.currentTimeline.duration,T=p.duration,H=d.createSubContext().currentTimeline;H.easing=p.easing,y.styles.forEach(J=>{H.forwardTime((J.offset||0)*T),H.setStyles(J.styles,J.easing,d.errors,d.options),H.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(H),d.transformIntoNewTimeline(m+T),d.previousNode=y}visitQuery(y,d){const p=d.currentTimeline.currentTime,m=y.options||{},T=m.delay?at(m.delay):0;T&&(6===d.previousNode.type||0==p&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=ro);let F=p;const H=d.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!m.optional,d.errors);d.currentQueryTotal=H.length;let J=null;H.forEach((fe,ze)=>{d.currentQueryIndex=ze;const Je=d.createSubContext(y.options,fe);T&&Je.delayNextStep(T),fe===d.element&&(J=Je.currentTimeline),un(this,y.animation,Je),Je.currentTimeline.applyStylesToKeyframe(),F=Math.max(F,Je.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(F),J&&(d.currentTimeline.mergeTimelineCollectedStyles(J),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=y}visitStagger(y,d){const p=d.parentContext,m=d.currentTimeline,T=y.timings,F=Math.abs(T.duration),H=F*(d.currentQueryTotal-1);let J=F*d.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":J=H-J;break;case"full":J=p.currentStaggerTime}const ze=d.currentTimeline;J&&ze.delayNextStep(J);const Je=ze.currentTime;un(this,y.animation,d),d.previousNode=y,p.currentStaggerTime=m.currentTime-Je+(m.startTime-p.currentTimeline.startTime)}}const ro={};class Vs{constructor(y,d,p,m,T,F,H,J){this._driver=y,this.element=d,this.subInstructions=p,this._enterClassName=m,this._leaveClassName=T,this.errors=F,this.timelines=H,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ro,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=J||new Ro(this._driver,d,0),H.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,d){if(!y)return;const p=y;let m=this.options;null!=p.duration&&(m.duration=at(p.duration)),null!=p.delay&&(m.delay=at(p.delay));const T=p.params;if(T){let F=m.params;F||(F=this.options.params={}),Object.keys(T).forEach(H=>{(!d||!F.hasOwnProperty(H))&&(F[H]=$n(T[H],F,this.errors))})}}_copyOptions(){const y={};if(this.options){const d=this.options.params;if(d){const p=y.params={};Object.keys(d).forEach(m=>{p[m]=d[m]})}}return y}createSubContext(y=null,d,p){const m=d||this.element,T=new Vs(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,p||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(y),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(y){return this.previousNode=ro,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,d,p){const m={duration:d??y.duration,delay:this.currentTimeline.currentTime+(p??0)+y.delay,easing:""},T=new _a(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,m,y.stretchStartingKeyframe);return this.timelines.push(T),m}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,d,p,m,T,F){let H=[];if(m&&H.push(this.element),y.length>0){y=(y=y.replace(Ni,"."+this._enterClassName)).replace(ns,"."+this._leaveClassName);let fe=this._driver.query(this.element,y,1!=p);0!==p&&(fe=p<0?fe.slice(fe.length+p,fe.length):fe.slice(0,p)),H.push(...fe)}return!T&&0==H.length&&F.push(function Ut(L){return new R.vHH(3014,!1)}()),H}}class Ro{constructor(y,d,p,m){this._driver=y,this.element=d,this.startTime=p,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+y),d&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,d){return this.applyStylesToKeyframe(),new Ro(this._driver,y,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,d){this._localTimelineStyles.set(y,d),this._globalTimelineStyles.set(y,d),this._styleSummary.set(y,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[d,p]of this._globalTimelineStyles)this._backFill.set(d,p||re),this._currentKeyframe.set(d,re);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,d,p,m){d&&this._previousKeyframe.set("easing",d);const T=m&&m.params||{},F=function rs(L,y){const d=new Map;let p;return L.forEach(m=>{if("*"===m){p=p||y.keys();for(let T of p)d.set(T,re)}else Ar(m,d)}),d}(y,this._globalTimelineStyles);for(let[H,J]of F){const fe=$n(J,T,p);this._pendingStyles.set(H,fe),this._localTimelineStyles.has(H)||this._backFill.set(H,this._globalTimelineStyles.get(H)??re),this._updateStyle(H,fe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,d)=>{this._currentKeyframe.set(d,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,y)}))}snapshotCurrentStyles(){for(let[y,d]of this._localTimelineStyles)this._pendingStyles.set(y,d),this._updateStyle(y,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let d in this._currentKeyframe)y.push(d);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((d,p)=>{const m=this._styleSummary.get(p);(!m||d.time>m.time)&&this._updateStyle(p,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,d=new Set,p=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((H,J)=>{const fe=Ar(H,new Map,this._backFill);fe.forEach((ze,Je)=>{ze===qe?y.add(Je):ze===re&&d.add(Je)}),p||fe.set("offset",J/this.duration),m.push(fe)});const T=y.size?ni(y.values()):[],F=d.size?ni(d.values()):[];if(p){const H=m[0],J=new Map(H);H.set("offset",0),J.set("offset",1),m=[H,J]}return vr(this.element,m,T,F,this.duration,this.startTime,this.easing,!1)}}class _a extends Ro{constructor(y,d,p,m,T,F,H=!1){super(y,d,F.delay),this.keyframes=p,this.preStyleProps=m,this.postStyleProps=T,this._stretchStartingKeyframe=H,this.timings={duration:F.duration,delay:F.delay,easing:F.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:d,duration:p,easing:m}=this.timings;if(this._stretchStartingKeyframe&&d){const T=[],F=p+d,H=d/F,J=Ar(y[0]);J.set("offset",0),T.push(J);const fe=Ar(y[0]);fe.set("offset",Po(H)),T.push(fe);const ze=y.length-1;for(let Je=1;Je<=ze;Je++){let Dt=Ar(y[Je]);const ct=Dt.get("offset");Dt.set("offset",Po((d+ct*p)/F)),T.push(Dt)}p=F,d=0,m="",y=T}return vr(this.element,y,this.preStyleProps,this.postStyleProps,p,d,m,!0)}}function Po(L,y=3){const d=Math.pow(10,y-1);return Math.round(L*d)/d}class Xo{}const ko=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Jo extends Xo{normalizePropertyName(y,d){return es(y)}normalizeStyleValue(y,d,p,m){let T="";const F=p.toString().trim();if(ko.has(d)&&0!==p&&"0"!==p)if("number"==typeof p)T="px";else{const H=p.match(/^[+-]?[\d\.]+([a-z]*)$/);H&&0==H[1].length&&m.push(function Ft(L,y){return new R.vHH(3005,!1)}())}return F+T}}function Ri(L,y,d,p,m,T,F,H,J,fe,ze,Je,Dt){return{type:0,element:L,triggerName:y,isRemovalTransition:m,fromState:d,fromStyles:T,toState:p,toStyles:F,timelines:H,queriedElements:J,preStyleProps:fe,postStyleProps:ze,totalTime:Je,errors:Dt}}const io={};class Oa{constructor(y,d,p){this._triggerName=y,this.ast=d,this._stateStyles=p}match(y,d,p,m){return function Ya(L,y,d,p,m){return L.some(T=>T(y,d,p,m))}(this.ast.matchers,y,d,p,m)}buildStyles(y,d,p){let m=this._stateStyles.get("*");return void 0!==y&&(m=this._stateStyles.get(y?.toString())||m),m?m.buildStyles(d,p):new Map}build(y,d,p,m,T,F,H,J,fe,ze){const Je=[],Dt=this.ast.options&&this.ast.options.params||io,gt=this.buildStyles(p,H&&H.params||io,Je),vt=J&&J.params||io,Yt=this.buildStyles(m,vt,Je),bn=new Set,An=new Map,gr=new Map,Pn="void"===m,li={params:ys(vt,Dt),delay:this.ast.options?.delay},Pr=ze?[]:no(y,d,this.ast.animation,T,F,gt,Yt,li,fe,Je);let Er=0;if(Pr.forEach(Gs=>{Er=Math.max(Gs.duration+Gs.delay,Er)}),Je.length)return Ri(d,this._triggerName,p,m,Pn,gt,Yt,[],[],An,gr,Er,Je);Pr.forEach(Gs=>{const Or=Gs.element,Ia=En(An,Or,new Set);Gs.preStyleProps.forEach(Da=>Ia.add(Da));const ho=En(gr,Or,new Set);Gs.postStyleProps.forEach(Da=>ho.add(Da)),Or!==d&&bn.add(Or)});const as=ni(bn.values());return Ri(d,this._triggerName,p,m,Pn,gt,Yt,Pr,as,An,gr,Er)}}function ys(L,y){const d=Tn(y);for(const p in L)L.hasOwnProperty(p)&&null!=L[p]&&(d[p]=L[p]);return d}class ea{constructor(y,d,p){this.styles=y,this.defaultParams=d,this.normalizer=p}buildStyles(y,d){const p=new Map,m=Tn(this.defaultParams);return Object.keys(y).forEach(T=>{const F=y[T];null!==F&&(m[T]=F)}),this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((F,H)=>{F&&(F=$n(F,m,d));const J=this.normalizer.normalizePropertyName(H,d);F=this.normalizer.normalizeStyleValue(H,J,F,d),p.set(H,F)})}),p}}class Fo{constructor(y,d,p){this.name=y,this.ast=d,this._normalizer=p,this.transitionFactories=[],this.states=new Map,d.states.forEach(m=>{this.states.set(m.name,new ea(m.style,m.options&&m.options.params||{},p))}),$i(this.states,"true","1"),$i(this.states,"false","0"),d.transitions.forEach(m=>{this.transitionFactories.push(new Oa(y,m,this.states))}),this.fallbackTransition=function Cr(L,y,d){return new Oa(L,{type:1,animation:{type:2,steps:[],options:null},matchers:[(F,H)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,d,p,m){return this.transitionFactories.find(F=>F.match(y,d,p,m))||null}matchStyles(y,d,p){return this.fallbackTransition.buildStyles(y,d,p)}}function $i(L,y,d){L.has(y)?L.has(d)||L.set(d,L.get(y)):L.has(d)&&L.set(y,L.get(d))}const Lo=new qr;class Vo{constructor(y,d,p){this.bodyNode=y,this._driver=d,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,d){const p=[],m=[],T=Mi(this._driver,d,p,m);if(p.length)throw function Br(L){return new R.vHH(3503,!1)}();this._animations.set(y,T)}_buildPlayer(y,d,p){const m=y.element,T=We(0,this._normalizer,0,y.keyframes,d,p);return this._driver.animate(m,T,y.duration,y.delay,y.easing,[],!0)}create(y,d,p={}){const m=[],T=this._animations.get(y);let F;const H=new Map;if(T?(F=no(this._driver,d,T,ce,se,new Map,new Map,p,Lo,m),F.forEach(ze=>{const Je=En(H,ze.element,new Map);ze.postStyleProps.forEach(Dt=>Je.set(Dt,null))})):(m.push(function yi(){return new R.vHH(3300,!1)}()),F=[]),m.length)throw function $r(L){return new R.vHH(3504,!1)}();H.forEach((ze,Je)=>{ze.forEach((Dt,ct)=>{ze.set(ct,this._driver.computeStyle(Je,ct,re))})});const fe=pt(F.map(ze=>{const Je=H.get(ze.element);return this._buildPlayer(ze,new Map,Je)}));return this._playersById.set(y,fe),fe.onDestroy(()=>this.destroy(y)),this.players.push(fe),fe}destroy(y){const d=this._getPlayer(y);d.destroy(),this._playersById.delete(y);const p=this.players.indexOf(d);p>=0&&this.players.splice(p,1)}_getPlayer(y){const d=this._playersById.get(y);if(!d)throw function ir(L){return new R.vHH(3301,!1)}();return d}listen(y,d,p,m){const T=Ln(d,"","","");return hr(this._getPlayer(y),p,T,m),()=>{}}command(y,d,p,m){if("register"==p)return void this.register(y,m[0]);if("create"==p)return void this.create(y,d,m[0]||{});const T=this._getPlayer(y);switch(p){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(y)}}}const _s="ng-animate-queued",Uo="ng-animate-disabled",Qr=[],oo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wr="__ng_removed";class vs{get params(){return this.options.params}constructor(y,d=""){this.namespaceId=d;const p=y&&y.hasOwnProperty("value");if(this.value=function uo(L){return L??null}(p?y.value:y),p){const T=Tn(y);delete T.value,this.options=T}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const d=y.params;if(d){const p=this.options.params;Object.keys(d).forEach(m=>{null==p[m]&&(p[m]=d[m])})}}}const ur="void",$o=new vs(ur);class ao{constructor(y,d,p){this.id=y,this.hostElement=d,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Nr(d,this._hostClassName)}listen(y,d,p,m){if(!this._triggers.has(d))throw function vn(L,y){return new R.vHH(3302,!1)}();if(null==p||0==p.length)throw function Ct(L){return new R.vHH(3303,!1)}();if(!function pr(L){return"start"==L||"done"==L}(p))throw function rn(L,y){return new R.vHH(3400,!1)}();const T=En(this._elementListeners,y,[]),F={name:d,phase:p,callback:m};T.push(F);const H=En(this._engine.statesByElement,y,new Map);return H.has(d)||(Nr(y,W),Nr(y,W+"-"+d),H.set(d,$o)),()=>{this._engine.afterFlush(()=>{const J=T.indexOf(F);J>=0&&T.splice(J,1),this._triggers.has(d)||H.delete(d)})}}register(y,d){return!this._triggers.has(y)&&(this._triggers.set(y,d),!0)}_getTrigger(y){const d=this._triggers.get(y);if(!d)throw function _i(L){return new R.vHH(3401,!1)}();return d}trigger(y,d,p,m=!0){const T=this._getTrigger(d),F=new lr(this.id,d,y);let H=this._engine.statesByElement.get(y);H||(Nr(y,W),Nr(y,W+"-"+d),this._engine.statesByElement.set(y,H=new Map));let J=H.get(d);const fe=new vs(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&J&&fe.absorbOptions(J.options),H.set(d,fe),J||(J=$o),fe.value!==ur&&J.value===fe.value){if(!function j(L,y){const d=Object.keys(L),p=Object.keys(y);if(d.length!=p.length)return!1;for(let m=0;m<d.length;m++){const T=d[m];if(!y.hasOwnProperty(T)||L[T]!==y[T])return!1}return!0}(J.params,fe.params)){const vt=[],Yt=T.matchStyles(J.value,J.params,vt),bn=T.matchStyles(fe.value,fe.params,vt);vt.length?this._engine.reportError(vt):this._engine.afterFlush(()=>{Mr(y,Yt),Hr(y,bn)})}return}const Dt=En(this._engine.playersByElement,y,[]);Dt.forEach(vt=>{vt.namespaceId==this.id&&vt.triggerName==d&&vt.queued&&vt.destroy()});let ct=T.matchTransition(J.value,fe.value,y,fe.params),gt=!1;if(!ct){if(!m)return;ct=T.fallbackTransition,gt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:d,transition:ct,fromState:J,toState:fe,player:F,isFallbackTransition:gt}),gt||(Nr(y,_s),F.onStart(()=>{Es(y,_s)})),F.onDone(()=>{let vt=this.players.indexOf(F);vt>=0&&this.players.splice(vt,1);const Yt=this._engine.playersByElement.get(y);if(Yt){let bn=Yt.indexOf(F);bn>=0&&Yt.splice(bn,1)}}),this.players.push(F),Dt.push(F),F}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(d=>d.delete(y)),this._elementListeners.forEach((d,p)=>{this._elementListeners.set(p,d.filter(m=>m.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const d=this._engine.playersByElement.get(y);d&&(d.forEach(p=>p.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,d){const p=this._engine.driver.query(y,he,!0);p.forEach(m=>{if(m[Wr])return;const T=this._engine.fetchNamespacesByElement(m);T.size?T.forEach(F=>F.triggerLeaveAnimation(m,d,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(y,d,p,m){const T=this._engine.statesByElement.get(y),F=new Map;if(T){const H=[];if(T.forEach((J,fe)=>{if(F.set(fe,J.value),this._triggers.has(fe)){const ze=this.trigger(y,fe,ur,m);ze&&H.push(ze)}}),H.length)return this._engine.markElementAsRemoved(this.id,y,!0,d,F),p&&pt(H).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const d=this._elementListeners.get(y),p=this._engine.statesByElement.get(y);if(d&&p){const m=new Set;d.forEach(T=>{const F=T.name;if(m.has(F))return;m.add(F);const J=this._triggers.get(F).fallbackTransition,fe=p.get(F)||$o,ze=new vs(ur),Je=new lr(this.id,F,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:F,transition:J,fromState:fe,toState:ze,player:Je,isFallbackTransition:!0})})}}removeNode(y,d){const p=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,d),this.triggerLeaveAnimation(y,d,!0))return;let m=!1;if(p.totalAnimations){const T=p.players.length?p.playersByQueriedElement.get(y):[];if(T&&T.length)m=!0;else{let F=y;for(;F=F.parentNode;)if(p.statesByElement.get(F)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(y),m)p.markElementAsRemoved(this.id,y,!1,d);else{const T=y[Wr];(!T||T===oo)&&(p.afterFlush(()=>this.clearElementCache(y)),p.destroyInnerAnimations(y),p._onRemovalComplete(y,d))}}insertNode(y,d){Nr(y,this._hostClassName)}drainQueuedTransitions(y){const d=[];return this._queue.forEach(p=>{const m=p.player;if(m.destroyed)return;const T=p.element,F=this._elementListeners.get(T);F&&F.forEach(H=>{if(H.name==p.triggerName){const J=Ln(T,p.triggerName,p.fromState.value,p.toState.value);J._data=y,hr(p.player,H.phase,J,H.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):d.push(p)}),this._queue=[],d.sort((p,m)=>{const T=p.transition.ast.depCount,F=m.transition.ast.depCount;return 0==T||0==F?T-F:this._engine.driver.containsElement(p.element,m.element)?1:-1})}destroy(y){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}elementContainsData(y){let d=!1;return this._elementListeners.has(y)&&(d=!0),d=!!this._queue.find(p=>p.element===y)||d,d}}class is{_onRemovalComplete(y,d){this.onRemovalComplete(y,d)}constructor(y,d,p){this.bodyNode=y,this.driver=d,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(m,T)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(d=>{d.players.forEach(p=>{p.queued&&y.push(p)})}),y}createNamespace(y,d){const p=new ao(y,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(p,d):(this.newHostElements.set(d,p),this.collectEnterElement(d)),this._namespaceLookup[y]=p}_balanceNamespaceList(y,d){const p=this._namespaceList,m=this.namespacesByHostElement;if(p.length-1>=0){let F=!1,H=this.driver.getParentElement(d);for(;H;){const J=m.get(H);if(J){const fe=p.indexOf(J);p.splice(fe+1,0,y),F=!0;break}H=this.driver.getParentElement(H)}F||p.unshift(y)}else p.push(y);return m.set(d,y),y}register(y,d){let p=this._namespaceLookup[y];return p||(p=this.createNamespace(y,d)),p}registerTrigger(y,d,p){let m=this._namespaceLookup[y];m&&m.register(d,p)&&this.totalAnimations++}destroy(y,d){if(!y)return;const p=this._fetchNamespace(y);this.afterFlush(()=>{this.namespacesByHostElement.delete(p.hostElement),delete this._namespaceLookup[y];const m=this._namespaceList.indexOf(p);m>=0&&this._namespaceList.splice(m,1)}),this.afterFlushAnimationsDone(()=>p.destroy(d))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const d=new Set,p=this.statesByElement.get(y);if(p)for(let m of p.values())if(m.namespaceId){const T=this._fetchNamespace(m.namespaceId);T&&d.add(T)}return d}trigger(y,d,p,m){if(ji(d)){const T=this._fetchNamespace(y);if(T)return T.trigger(d,p,m),!0}return!1}insertNode(y,d,p,m){if(!ji(d))return;const T=d[Wr];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const F=this.collectedLeaveElements.indexOf(d);F>=0&&this.collectedLeaveElements.splice(F,1)}if(y){const F=this._fetchNamespace(y);F&&F.insertNode(d,p)}m&&this.collectEnterElement(d)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,d){d?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Nr(y,Uo)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Es(y,Uo))}removeNode(y,d,p,m){if(ji(d)){const T=y?this._fetchNamespace(y):null;if(T?T.removeNode(d,m):this.markElementAsRemoved(y,d,!1,m),p){const F=this.namespacesByHostElement.get(d);F&&F.id!==y&&F.removeNode(d,m)}}else this._onRemovalComplete(d,m)}markElementAsRemoved(y,d,p,m,T){this.collectedLeaveElements.push(d),d[Wr]={namespaceId:y,setForRemoval:m,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:T}}listen(y,d,p,m,T){return ji(d)?this._fetchNamespace(y).listen(d,p,m,T):()=>{}}_buildInstruction(y,d,p,m,T){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,p,m,y.fromState.options,y.toState.options,d,T)}destroyInnerAnimations(y){let d=this.driver.query(y,he,!0);d.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(y,st,!0),d.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(y){const d=this.playersByElement.get(y);d&&d.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(y){const d=this.playersByQueriedElement.get(y);d&&d.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return pt(this.players).onDone(()=>y());y()})}processLeaveNode(y){const d=y[Wr];if(d&&d.setForRemoval){if(y[Wr]=oo,d.namespaceId){this.destroyInnerAnimations(y);const p=this._fetchNamespace(d.namespaceId);p&&p.clearElementCache(y)}this._onRemovalComplete(y,d.setForRemoval)}y.classList?.contains(Uo)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(y=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,m)=>this._balanceNamespaceList(p,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)Nr(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{d=this._flushAnimations(p,y)}finally{for(let m=0;m<p.length;m++)p[m]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],d.length?pt(d).onDone(()=>{p.forEach(m=>m())}):p.forEach(m=>m())}}reportError(y){throw function jr(L){return new R.vHH(3402,!1)}()}_flushAnimations(y,d){const p=new qr,m=[],T=new Map,F=[],H=new Map,J=new Map,fe=new Map,ze=new Set;this.disabledNodes.forEach(Mt=>{ze.add(Mt);const At=this.driver.query(Mt,".ng-animate-queued",!0);for(let Zt=0;Zt<At.length;Zt++)ze.add(At[Zt])});const Je=this.bodyNode,Dt=Array.from(this.statesByElement.keys()),ct=$t(Dt,this.collectedEnterElements),gt=new Map;let vt=0;ct.forEach((Mt,At)=>{const Zt=ce+vt++;gt.set(At,Zt),Mt.forEach(gn=>Nr(gn,Zt))});const Yt=[],bn=new Set,An=new Set;for(let Mt=0;Mt<this.collectedLeaveElements.length;Mt++){const At=this.collectedLeaveElements[Mt],Zt=At[Wr];Zt&&Zt.setForRemoval&&(Yt.push(At),bn.add(At),Zt.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(gn=>bn.add(gn)):An.add(At))}const gr=new Map,Pn=$t(Dt,Array.from(bn));Pn.forEach((Mt,At)=>{const Zt=se+vt++;gr.set(At,Zt),Mt.forEach(gn=>Nr(gn,Zt))}),y.push(()=>{ct.forEach((Mt,At)=>{const Zt=gt.get(At);Mt.forEach(gn=>Es(gn,Zt))}),Pn.forEach((Mt,At)=>{const Zt=gr.get(At);Mt.forEach(gn=>Es(gn,Zt))}),Yt.forEach(Mt=>{this.processLeaveNode(Mt)})});const li=[],Pr=[];for(let Mt=this._namespaceList.length-1;Mt>=0;Mt--)this._namespaceList[Mt].drainQueuedTransitions(d).forEach(Zt=>{const gn=Zt.player,Kr=Zt.element;if(li.push(gn),this.collectedEnterElements.length){const kr=Kr[Wr];if(kr&&kr.setForMove){if(kr.previousTriggersValues&&kr.previousTriggersValues.has(Zt.triggerName)){const Oi=kr.previousTriggersValues.get(Zt.triggerName),qi=this.statesByElement.get(Zt.element);if(qi&&qi.has(Zt.triggerName)){const fo=qi.get(Zt.triggerName);fo.value=Oi,qi.set(Zt.triggerName,fo)}}return void gn.destroy()}}const bs=!Je||!this.driver.containsElement(Je,Kr),zi=gr.get(Kr),zs=gt.get(Kr),wr=this._buildInstruction(Zt,p,zs,zi,bs);if(wr.errors&&wr.errors.length)return void Pr.push(wr);if(bs)return gn.onStart(()=>Mr(Kr,wr.fromStyles)),gn.onDestroy(()=>Hr(Kr,wr.toStyles)),void m.push(gn);if(Zt.isFallbackTransition)return gn.onStart(()=>Mr(Kr,wr.fromStyles)),gn.onDestroy(()=>Hr(Kr,wr.toStyles)),void m.push(gn);const Is=[];wr.timelines.forEach(kr=>{kr.stretchStartingKeyframe=!0,this.disabledNodes.has(kr.element)||Is.push(kr)}),wr.timelines=Is,p.append(Kr,wr.timelines),F.push({instruction:wr,player:gn,element:Kr}),wr.queriedElements.forEach(kr=>En(H,kr,[]).push(gn)),wr.preStyleProps.forEach((kr,Oi)=>{if(kr.size){let qi=J.get(Oi);qi||J.set(Oi,qi=new Set),kr.forEach((fo,ci)=>qi.add(ci))}}),wr.postStyleProps.forEach((kr,Oi)=>{let qi=fe.get(Oi);qi||fe.set(Oi,qi=new Set),kr.forEach((fo,ci)=>qi.add(ci))})});if(Pr.length){const Mt=[];Pr.forEach(At=>{Mt.push(function Ye(L,y){return new R.vHH(3505,!1)}())}),li.forEach(At=>At.destroy()),this.reportError(Mt)}const Er=new Map,as=new Map;F.forEach(Mt=>{const At=Mt.element;p.has(At)&&(as.set(At,At),this._beforeAnimationBuild(Mt.player.namespaceId,Mt.instruction,Er))}),m.forEach(Mt=>{const At=Mt.element;this._getPreviousPlayers(At,!1,Mt.namespaceId,Mt.triggerName,null).forEach(gn=>{En(Er,At,[]).push(gn),gn.destroy()})});const Gs=Yt.filter(Mt=>Te(Mt,J,fe)),Or=new Map;_o(Or,this.driver,An,fe,re).forEach(Mt=>{Te(Mt,J,fe)&&Gs.push(Mt)});const ho=new Map;ct.forEach((Mt,At)=>{_o(ho,this.driver,new Set(Mt),J,qe)}),Gs.forEach(Mt=>{const At=Or.get(Mt),Zt=ho.get(Mt);Or.set(Mt,new Map([...Array.from(At?.entries()??[]),...Array.from(Zt?.entries()??[])]))});const Da=[],Ta=[],Ja={};F.forEach(Mt=>{const{element:At,player:Zt,instruction:gn}=Mt;if(p.has(At)){if(ze.has(At))return Zt.onDestroy(()=>Hr(At,gn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(gn.totalTime),void m.push(Zt);let Kr=Ja;if(as.size>1){let zi=At;const zs=[];for(;zi=zi.parentNode;){const wr=as.get(zi);if(wr){Kr=wr;break}zs.push(zi)}zs.forEach(wr=>as.set(wr,Kr))}const bs=this._buildAnimation(Zt.namespaceId,gn,Er,T,ho,Or);if(Zt.setRealPlayer(bs),Kr===Ja)Da.push(Zt);else{const zi=this.playersByElement.get(Kr);zi&&zi.length&&(Zt.parentPlayer=pt(zi)),m.push(Zt)}}else Mr(At,gn.fromStyles),Zt.onDestroy(()=>Hr(At,gn.toStyles)),Ta.push(Zt),ze.has(At)&&m.push(Zt)}),Ta.forEach(Mt=>{const At=T.get(Mt.element);if(At&&At.length){const Zt=pt(At);Mt.setRealPlayer(Zt)}}),m.forEach(Mt=>{Mt.parentPlayer?Mt.syncPlayerEvents(Mt.parentPlayer):Mt.destroy()});for(let Mt=0;Mt<Yt.length;Mt++){const At=Yt[Mt],Zt=At[Wr];if(Es(At,se),Zt&&Zt.hasAnimation)continue;let gn=[];if(H.size){let bs=H.get(At);bs&&bs.length&&gn.push(...bs);let zi=this.driver.query(At,st,!0);for(let zs=0;zs<zi.length;zs++){let wr=H.get(zi[zs]);wr&&wr.length&&gn.push(...wr)}}const Kr=gn.filter(bs=>!bs.destroyed);Kr.length?P(this,At,Kr):this.processLeaveNode(At)}return Yt.length=0,Da.forEach(Mt=>{this.players.push(Mt),Mt.onDone(()=>{Mt.destroy();const At=this.players.indexOf(Mt);this.players.splice(At,1)}),Mt.play()}),Da}elementContainsData(y,d){let p=!1;const m=d[Wr];return m&&m.setForRemoval&&(p=!0),this.playersByElement.has(d)&&(p=!0),this.playersByQueriedElement.has(d)&&(p=!0),this.statesByElement.has(d)&&(p=!0),this._fetchNamespace(y).elementContainsData(d)||p}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,d,p,m,T){let F=[];if(d){const H=this.playersByQueriedElement.get(y);H&&(F=H)}else{const H=this.playersByElement.get(y);if(H){const J=!T||T==ur;H.forEach(fe=>{fe.queued||!J&&fe.triggerName!=m||F.push(fe)})}}return(p||m)&&(F=F.filter(H=>!(p&&p!=H.namespaceId||m&&m!=H.triggerName))),F}_beforeAnimationBuild(y,d,p){const T=d.element,F=d.isRemovalTransition?void 0:y,H=d.isRemovalTransition?void 0:d.triggerName;for(const J of d.timelines){const fe=J.element,ze=fe!==T,Je=En(p,fe,[]);this._getPreviousPlayers(fe,ze,F,H,d.toState).forEach(ct=>{const gt=ct.getRealPlayer();gt.beforeDestroy&&gt.beforeDestroy(),ct.destroy(),Je.push(ct)})}Mr(T,d.fromStyles)}_buildAnimation(y,d,p,m,T,F){const H=d.triggerName,J=d.element,fe=[],ze=new Set,Je=new Set,Dt=d.timelines.map(gt=>{const vt=gt.element;ze.add(vt);const Yt=vt[Wr];if(Yt&&Yt.removedBeforeQueried)return new nt(gt.duration,gt.delay);const bn=vt!==J,An=function N(L){const y=[];return S(L,y),y}((p.get(vt)||Qr).map(Er=>Er.getRealPlayer())).filter(Er=>!!Er.element&&Er.element===vt),gr=T.get(vt),Pn=F.get(vt),li=We(0,this._normalizer,0,gt.keyframes,gr,Pn),Pr=this._buildPlayer(gt,li,An);if(gt.subTimeline&&m&&Je.add(vt),bn){const Er=new lr(y,H,vt);Er.setRealPlayer(Pr),fe.push(Er)}return Pr});fe.forEach(gt=>{En(this.playersByQueriedElement,gt.element,[]).push(gt),gt.onDone(()=>function ka(L,y,d){let p=L.get(y);if(p){if(p.length){const m=p.indexOf(d);p.splice(m,1)}0==p.length&&L.delete(y)}return p}(this.playersByQueriedElement,gt.element,gt))}),ze.forEach(gt=>Nr(gt,De));const ct=pt(Dt);return ct.onDestroy(()=>{ze.forEach(gt=>Es(gt,De)),Hr(J,d.toStyles)}),Je.forEach(gt=>{En(m,gt,[]).push(ct)}),ct}_buildPlayer(y,d,p){return d.length>0?this.driver.animate(y.element,d,y.duration,y.delay,y.easing,p):new nt(y.duration,y.delay)}}class lr{constructor(y,d,p){this.namespaceId=y,this.triggerName=d,this.element=p,this._player=new nt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((d,p)=>{d.forEach(m=>hr(y,p,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const d=this._player;d.triggerCallback&&y.onStart(()=>d.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,d){En(this._queuedCallbacks,y,[]).push(d)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const d=this._player;d.triggerCallback&&d.triggerCallback(y)}}function ji(L){return L&&1===L.nodeType}function ss(L,y){const d=L.style.display;return L.style.display=y??"none",d}function _o(L,y,d,p,m){const T=[];d.forEach(J=>T.push(ss(J)));const F=[];p.forEach((J,fe)=>{const ze=new Map;J.forEach(Je=>{const Dt=y.computeStyle(fe,Je,m);ze.set(Je,Dt),(!Dt||0==Dt.length)&&(fe[Wr]=Mn,F.push(fe))}),L.set(fe,ze)});let H=0;return d.forEach(J=>ss(J,T[H++])),F}function $t(L,y){const d=new Map;if(L.forEach(H=>d.set(H,[])),0==y.length)return d;const p=1,m=new Set(y),T=new Map;function F(H){if(!H)return p;let J=T.get(H);if(J)return J;const fe=H.parentNode;return J=d.has(fe)?fe:m.has(fe)?p:F(fe),T.set(H,J),J}return y.forEach(H=>{const J=F(H);J!==p&&d.get(J).push(H)}),d}function Nr(L,y){L.classList?.add(y)}function Es(L,y){L.classList?.remove(y)}function P(L,y,d){pt(d).onDone(()=>L.processLeaveNode(y))}function S(L,y){for(let d=0;d<L.length;d++){const p=L[d];p instanceof dt?S(p.players,y):y.push(p)}}function Te(L,y,d){const p=d.get(L);if(!p)return!1;let m=y.get(L);return m?p.forEach(T=>m.add(T)):y.set(L,p),d.delete(L),!0}class _t{constructor(y,d,p){this.bodyNode=y,this._driver=d,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(m,T)=>{},this._transitionEngine=new is(y,d,p),this._timelineEngine=new Vo(y,d,p),this._transitionEngine.onRemovalComplete=(m,T)=>this.onRemovalComplete(m,T)}registerTrigger(y,d,p,m,T){const F=y+"-"+m;let H=this._triggerCache[F];if(!H){const J=[],fe=[],ze=Mi(this._driver,T,J,fe);if(J.length)throw function dr(L,y){return new R.vHH(3404,!1)}();H=function fr(L,y,d){return new Fo(L,y,d)}(m,ze,this._normalizer),this._triggerCache[F]=H}this._transitionEngine.registerTrigger(d,m,H)}register(y,d){this._transitionEngine.register(y,d)}destroy(y,d){this._transitionEngine.destroy(y,d)}onInsert(y,d,p,m){this._transitionEngine.insertNode(y,d,p,m)}onRemove(y,d,p,m){this._transitionEngine.removeNode(y,d,m||!1,p)}disableAnimations(y,d){this._transitionEngine.markElementAsDisabled(y,d)}process(y,d,p,m){if("@"==p.charAt(0)){const[T,F]=Zn(p);this._timelineEngine.command(T,d,F,m)}else this._transitionEngine.trigger(y,d,p,m)}listen(y,d,p,m,T){if("@"==p.charAt(0)){const[F,H]=Zn(p);return this._timelineEngine.listen(F,d,H,T)}return this._transitionEngine.listen(y,d,p,m,T)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Kt=(()=>{class L{constructor(d,p,m){this._element=d,this._startStyles=p,this._endStyles=m,this._state=0;let T=L.initialStylesByElement.get(d);T||L.initialStylesByElement.set(d,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&Hr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hr(this._element,this._initialStyles),this._endStyles&&(Hr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(L.initialStylesByElement.delete(this._element),this._startStyles&&(Mr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mr(this._element,this._endStyles),this._endStyles=null),Hr(this._element,this._initialStyles),this._state=3)}}return L.initialStylesByElement=new WeakMap,L})();function Pi(L){let y=null;return L.forEach((d,p)=>{(function Bs(L){return"display"===L||"position"===L})(p)&&(y=y||new Map,y.set(p,d))}),y}class Sn{constructor(y,d,p,m){this.element=y,this.keyframes=d,this.options=p,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const d=[];return y.forEach(p=>{d.push(Object.fromEntries(p))}),d}_triggerWebAnimation(y,d,p){return y.animate(this._convertKeyframesToObject(d),p)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,m)=>{"offset"!==m&&y.set(m,this._finished?p:Gr(this.element,m))}),this.currentSnapshot=y}triggerCallback(y){const d="start"===y?this._onStartFns:this._onDoneFns;d.forEach(p=>p()),d.length=0}}class Rr{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,d){return!1}containsElement(y,d){return xe(y,d)}getParentElement(y){return tn(y)}query(y,d,p){return q(y,d,p)}computeStyle(y,d,p){return window.getComputedStyle(y)[d]}animate(y,d,p,m,T,F=[]){const J={duration:p,delay:m,fill:0==m?"both":"forwards"};T&&(J.easing=T);const fe=new Map,ze=F.filter(ct=>ct instanceof Sn);(function ht(L,y){return 0===L||0===y})(p,m)&&ze.forEach(ct=>{ct.currentSnapshot.forEach((gt,vt)=>fe.set(vt,gt))});let Je=function Xs(L){return L.length?L[0]instanceof Map?L:L.map(y=>Qi(y)):[]}(d).map(ct=>Ar(ct));Je=function qt(L,y,d){if(d.size&&y.length){let p=y[0],m=[];if(d.forEach((T,F)=>{p.has(F)||m.push(F),p.set(F,T)}),m.length)for(let T=1;T<y.length;T++){let F=y[T];m.forEach(H=>F.set(H,Gr(L,H)))}}return y}(y,Je,fe);const Dt=function Oe(L,y){let d=null,p=null;return Array.isArray(y)&&y.length?(d=Pi(y[0]),y.length>1&&(p=Pi(y[y.length-1]))):y instanceof Map&&(d=Pi(y)),d||p?new Kt(L,d,p):null}(y,Je);return new Sn(y,Je,J,Dt)}}var Hi=Q(6895);let ai=(()=>{class L extends ae{constructor(d,p){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(p.body,{id:"0",encapsulation:R.ifc.None,styles:[],data:{animation:[]}})}build(d){const p=this._nextAnimationId.toString();this._nextAnimationId++;const m=Array.isArray(d)?ye(d):d;return Ho(this._renderer,null,p,"register",[m]),new jo(p,this._renderer)}}return L.\u0275fac=function(d){return new(d||L)(R.LFG(R.FYo),R.LFG(Hi.K0))},L.\u0275prov=R.Yz7({token:L,factory:L.\u0275fac}),L})();class jo extends Ee{constructor(y,d){super(),this._id=y,this._renderer=d}create(y,d){return new ta(this._id,y,d||{},this._renderer)}}class ta{constructor(y,d,p,m){this.id=y,this.element=d,this._renderer=m,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(y,d){return this._renderer.listen(this.element,`@@${this.id}:${y}`,d)}_command(y,...d){return Ho(this._renderer,this.element,this.id,y,d)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ho(L,y,d,p,m){return L.setProperty(y,`@@${d}:${p}`,m)}const $s="@.disabled";let ui=(()=>{class L{constructor(d,p,m){this.delegate=d,this.engine=p,this._zone=m,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),p.onRemovalComplete=(T,F)=>{const H=F?.parentNode(T);H&&F.removeChild(H,T)}}createRenderer(d,p){const T=this.delegate.createRenderer(d,p);if(!(d&&p&&p.data&&p.data.animation)){let ze=this._rendererCache.get(T);return ze||(ze=new Xr("",T,this.engine,()=>this._rendererCache.delete(T)),this._rendererCache.set(T,ze)),ze}const F=p.id,H=p.id+"-"+this._currentId;this._currentId++,this.engine.register(H,d);const J=ze=>{Array.isArray(ze)?ze.forEach(J):this.engine.registerTrigger(F,H,d,ze.name,ze)};return p.data.animation.forEach(J),new js(this,H,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,p,m){d>=0&&d<this._microtaskId?this._zone.run(()=>p(m)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(T=>{const[F,H]=T;F(H)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,m]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return L.\u0275fac=function(d){return new(d||L)(R.LFG(R.FYo),R.LFG(_t),R.LFG(R.R0b))},L.\u0275prov=R.Yz7({token:L,factory:L.\u0275fac}),L})();class Xr{constructor(y,d,p,m){this.namespaceId=y,this.delegate=d,this.engine=p,this._onDestroy=m,this.destroyNode=this.delegate.destroyNode?T=>d.destroyNode(T):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(y,d){return this.delegate.createElement(y,d)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,d){this.delegate.appendChild(y,d),this.engine.onInsert(this.namespaceId,d,y,!1)}insertBefore(y,d,p,m=!0){this.delegate.insertBefore(y,d,p),this.engine.onInsert(this.namespaceId,d,y,m)}removeChild(y,d,p){this.engine.onRemove(this.namespaceId,d,this.delegate,p)}selectRootElement(y,d){return this.delegate.selectRootElement(y,d)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,d,p,m){this.delegate.setAttribute(y,d,p,m)}removeAttribute(y,d,p){this.delegate.removeAttribute(y,d,p)}addClass(y,d){this.delegate.addClass(y,d)}removeClass(y,d){this.delegate.removeClass(y,d)}setStyle(y,d,p,m){this.delegate.setStyle(y,d,p,m)}removeStyle(y,d,p){this.delegate.removeStyle(y,d,p)}setProperty(y,d,p){"@"==d.charAt(0)&&d==$s?this.disableAnimations(y,!!p):this.delegate.setProperty(y,d,p)}setValue(y,d){this.delegate.setValue(y,d)}listen(y,d,p){return this.delegate.listen(y,d,p)}disableAnimations(y,d){this.engine.disableAnimations(y,d)}}class js extends Xr{constructor(y,d,p,m,T){super(d,p,m,T),this.factory=y,this.namespaceId=d}setProperty(y,d,p){"@"==d.charAt(0)?"."==d.charAt(1)&&d==$s?this.disableAnimations(y,p=void 0===p||!!p):this.engine.process(this.namespaceId,y,d.slice(1),p):this.delegate.setProperty(y,d,p)}listen(y,d,p){if("@"==d.charAt(0)){const m=function os(L){switch(L){case"body":return document.body;case"document":return document;case"window":return window;default:return L}}(y);let T=d.slice(1),F="";return"@"!=T.charAt(0)&&([T,F]=function Gi(L){const y=L.indexOf(".");return[L.substring(0,y),L.slice(y+1)]}(T)),this.engine.listen(this.namespaceId,m,T,F,H=>{this.factory.scheduleListenerCallback(H._data||-1,p,H)})}return this.delegate.listen(y,d,p)}}const Fa=[{provide:ae,useClass:ai},{provide:Xo,useFactory:function lo(){return new Jo}},{provide:_t,useClass:(()=>{class L extends _t{constructor(d,p,m,T){super(d.body,p,m)}ngOnDestroy(){this.flush()}}return L.\u0275fac=function(d){return new(d||L)(R.LFG(Hi.K0),R.LFG(Se),R.LFG(Xo),R.LFG(R.z2F))},L.\u0275prov=R.Yz7({token:L,factory:L.\u0275fac}),L})()},{provide:R.FYo,useFactory:function vu(L,y,d){return new ui(L,y,d)},deps:[b.se,_t,R.R0b]}],Ea=[{provide:Se,useFactory:()=>new Rr},{provide:R.QbO,useValue:"BrowserAnimations"},...Fa],vo=[{provide:Se,useClass:oe},{provide:R.QbO,useValue:"NoopAnimations"},...Fa];let Eu=(()=>{class L{static withConfig(d){return{ngModule:L,providers:d.disableAnimations?vo:Ea}}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=R.oAB({type:L}),L.\u0275inj=R.cJS({providers:Ea,imports:[b.b2]}),L})();var Eo=Q(5720);const co=[{path:"",loadChildren:()=>Q.e(805).then(Q.bind(Q,805)).then(L=>L.LayoutModule)},{path:"**",redirectTo:""}];let wa=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=R.oAB({type:L}),L.\u0275inj=R.cJS({imports:[Eo.Bz.forRoot(co,{scrollPositionRestoration:"enabled"}),Eo.Bz]}),L})();var wo=Q(4719),Go=Q(7417),Qa=Q(3835);let Gu=(()=>{class L{constructor(d,p,m){this.fb=d,this.router=p,this.masterService=m,this.myDate=new Date,this.year=this.myDate.getFullYear(),this.form=new wo.cw({}),this.exchangeRate=new Go.X}ngOnInit(){this.createForm(),this.masterService.getExchangeRate().subscribe(d=>{this.exchangeRate=d})}createForm(){this.form=this.fb.group({amount_local:[0,wo.kI.required],amount_foreign:[0,wo.kI.required],operation:["buy"]})}changeOperation(d=""){let p;d?p=d:(p=this.form.get("operation")?.value,p="buy"==p?"sale":"buy"),this.form.get("operation")?.setValue(p),this.calculate()}calculate(d="amount_local"){let p=this.form.get("operation")?.value,m="buy"==p?this.exchangeRate.rate_buy:this.exchangeRate.rate_sale,T=this.form.get(d)?.value,F=0;console.log({operation:p}),"amount_local"==d&&(F=T/m),"amount_foreign"==d&&(F=T*m),this.form.get("amount_local"==d?"amount_foreign":"amount_local")?.setValue(F.toFixed(2))}onSubmit(){localStorage.setItem("calculator",JSON.stringify(this.form.value)),this.router.navigate(["/operations/add"])}}return L.\u0275fac=function(d){return new(d||L)(R.Y36(wo.qu),R.Y36(Eo.F0),R.Y36(Qa.m))},L.\u0275cmp=R.Xpm({type:L,selectors:[["app-footer"]],decls:134,vars:2,consts:[[1,"container","d-block","d-sm-block","d-md-none","py-3","text-center","myDarkerGrey"],[1,"row"],[1,"col-xs-12"],["src","../../../../assets/img/logoPeruMoney.png",1,"img-fluid"],[1,"row","d-flex","justify-content-center","align-items-center","mb-4"],[1,"col-3"],["href","https://www.facebook.com/perumoney","target","_blank"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512","width","20","heigh","20","fill","#FFFFFF"],["d","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"],["href","https://www.instagram.com/peru_money/","target","_blank"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512","width","20","heigh","20","fill","#FFFFFF"],["d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"],["href","https://pe.linkedin.com/company/peru-money-sac","target","_blank"],["d","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"],[1,"mySecondaryColor","fw-bold"],[1,"information"],[1,"row","mt-3"],["routerLink","/nosotros",1,"pm-link"],["routerLink","/agencias",1,"pm-link"],["href","#service",1,"pm-link"],["href","#faq",1,"pm-link"],[1,"text-nowrap"],["href","https://www.nubefact.com/20535694550","target","_blank",1,"pm-link"],["href","https://perumoney.pe/documentos/politicas/130721_politica_de_privacidad.pdf","target","_blank",1,"pm-link"],["href","https://perumoney.pe/documentos/terminos/130721_terminos_y_condiciones.pdf","target","_blank",1,"pm-link"],["href","https://pm-virtual-book.web.app",1,"pm-link"],[1,"mt-5"],[1,"myBtn"],["href","https://wa.link/6zjmg4","target","_blank"],["src","assets/icons/whatsapp.png","alt","",2,"width","70px","height","70px"],[1,"container","d-none","d-sm-block","py-3","myDarkerGrey"],[1,"col-6","text-start"],[1,"col-2"],[1,"col-6"],[1,"col"],["src","assets/images/logo/perumoney.png",1,"myFooterImg","float-end"],[1,"row","text-center"],[1,"col-4"],[1,"h6","mySecondaryColor","fw-bold"],[1,"row","text-center","mt-4"],[1,""]],template:function(d,p){1&d&&(R.TgZ(0,"div",0)(1,"div",1)(2,"div",2),R._UZ(3,"img",3),R.qZA()(),R.TgZ(4,"div",4)(5,"div",5)(6,"a",6),R.O4$(),R.TgZ(7,"svg",7),R._UZ(8,"path",8),R.qZA()()(),R.kcU(),R.TgZ(9,"div",5)(10,"a",9),R.O4$(),R.TgZ(11,"svg",10),R._UZ(12,"path",11),R.qZA()()(),R.kcU(),R.TgZ(13,"div",5)(14,"a",12),R.O4$(),R.TgZ(15,"svg",10),R._UZ(16,"path",13),R.qZA()()()(),R.kcU(),R.TgZ(17,"div",1)(18,"h4",14),R._uU(19,"Informaci\xf3n de contacto"),R.qZA(),R.TgZ(20,"div",15)(21,"p"),R._uU(22,"contacto@perumoney.pe"),R.qZA(),R.TgZ(23,"p"),R._uU(24,"(+51)948-722-792"),R.qZA(),R.TgZ(25,"p"),R._uU(26,"PJ. SAN ISIDRO NRO. 115"),R.qZA(),R.TgZ(27,"p"),R._uU(28,"LIMA - LIMA - SANTIAGO DE SURCO"),R.qZA()()(),R.TgZ(29,"div",16)(30,"h4",14),R._uU(31,"Enlaces"),R.qZA(),R.TgZ(32,"div",15)(33,"p")(34,"a",17),R._uU(35,"Nosotros"),R.qZA()(),R.TgZ(36,"p")(37,"a",18),R._uU(38,"Agencias"),R.qZA()(),R.TgZ(39,"p")(40,"a",19),R._uU(41,"Servicios"),R.qZA()(),R.TgZ(42,"p")(43,"a",20),R._uU(44,"Preguntas"),R.qZA()()()(),R.TgZ(45,"div",16)(46,"h4",14),R._uU(47,"Legal"),R.qZA(),R.TgZ(48,"div",15)(49,"p",21)(50,"a",22),R._uU(51,"Comprobantes Electr\xf3nicos"),R.qZA()(),R.TgZ(52,"p")(53,"a",23),R._uU(54,"Pol\xedticas de privacidad"),R.qZA()(),R.TgZ(55,"p")(56,"a",24),R._uU(57,"T\xe9rminos y condiciones"),R.qZA()(),R.TgZ(58,"p")(59,"a",25),R._uU(60,"Libro de reclamaciones"),R.qZA()()(),R.TgZ(61,"p",26),R._uU(62),R.qZA()()(),R.TgZ(63,"div",27)(64,"a",28),R._UZ(65,"img",29),R.qZA()(),R.TgZ(66,"div",30)(67,"div",1)(68,"div",31)(69,"div",1)(70,"div",32)(71,"a",6),R.O4$(),R.TgZ(72,"svg",7),R._UZ(73,"path",8),R.qZA()()(),R.kcU(),R.TgZ(74,"div",32)(75,"a",9),R.O4$(),R.TgZ(76,"svg",10),R._UZ(77,"path",11),R.qZA()()(),R.kcU(),R.TgZ(78,"div",32)(79,"a",12),R.O4$(),R.TgZ(80,"svg",10),R._UZ(81,"path",13),R.qZA()()()()(),R.kcU(),R.TgZ(82,"div",33)(83,"div",1)(84,"div",34),R._UZ(85,"img",35),R.qZA()()()(),R.TgZ(86,"div",36)(87,"div",37)(88,"p",38),R._uU(89,"Informaci\xf3n de contacto"),R.qZA(),R.TgZ(90,"div",15)(91,"p"),R._uU(92,"contacto@perumoney.pe"),R.qZA(),R.TgZ(93,"p"),R._uU(94,"(+51)948-722-792"),R.qZA(),R.TgZ(95,"p"),R._uU(96,"PJ. SAN ISIDRO NRO. 115"),R.qZA(),R.TgZ(97,"p"),R._uU(98,"LIMA - LIMA - SANTIAGO DE SURCO"),R.qZA()()(),R.TgZ(99,"div",37)(100,"p",38),R._uU(101,"Enlaces"),R.qZA(),R.TgZ(102,"div",15)(103,"p")(104,"a",17),R._uU(105,"Nosotros"),R.qZA()(),R.TgZ(106,"p")(107,"a",18),R._uU(108,"Agencias"),R.qZA()(),R.TgZ(109,"p")(110,"a",19),R._uU(111,"Servicios"),R.qZA()(),R.TgZ(112,"p")(113,"a",20),R._uU(114,"Preguntas"),R.qZA()()()(),R.TgZ(115,"div",37)(116,"p",38),R._uU(117,"Legal"),R.qZA(),R.TgZ(118,"div",15)(119,"p",21)(120,"a",22),R._uU(121,"Comprobantes Electr\xf3nicos"),R.qZA()(),R.TgZ(122,"p")(123,"a",23),R._uU(124,"Pol\xedticas de privacidad"),R.qZA()(),R.TgZ(125,"p")(126,"a",24),R._uU(127,"T\xe9rminos y condiciones"),R.qZA()(),R.TgZ(128,"p")(129,"a",25),R._uU(130,"Libro de reclamaciones"),R.qZA()()()()(),R.TgZ(131,"div",39)(132,"p",40),R._uU(133),R.qZA()()()),2&d&&(R.xp6(62),R.hij("",p.year," PeruMoney, Todos los derechos reservados."),R.xp6(71),R.hij("",p.year," PeruMoney, Todos los derechos reservados."))},dependencies:[Eo.rH],styles:["img[_ngcontent-%COMP%]{width:120px}.pm-link[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.information[_ngcontent-%COMP%]{margin-top:1rem;line-height:.5rem}.myBtn[_ngcontent-%COMP%]{position:fixed;bottom:3rem;right:1rem;z-index:10!important}.myFooterImg[_ngcontent-%COMP%]{margin-top:-1.25rem}.myInfoCol[_ngcontent-%COMP%]{margin-bottom:0rem}.calculator[_ngcontent-%COMP%]{max-width:484px;border-radius:16px}.calculator[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:30px}.calculator[_ngcontent-%COMP%]   .text-time-exchanger[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.97rem}.calculator[_ngcontent-%COMP%]   .info-exchanger[_ngcontent-%COMP%]{background-color:#f7f7f7;border:none;border-bottom:1px solid #cecece;display:flex;border-radius:15px;padding:.2rem!important;overflow:hidden}.calculator[_ngcontent-%COMP%]   .info-exchanger[_ngcontent-%COMP%]   .separate[_ngcontent-%COMP%]{border-right:1px solid #ed277e!important;border-radius:0}.calculator[_ngcontent-%COMP%]   .info-exchanger[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:12px}.calculator[_ngcontent-%COMP%]   .info-exchanger[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#323232!important;transition:.5s}.calculator[_ngcontent-%COMP%]   .info-exchanger[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:16px}.calculator[_ngcontent-%COMP%]   .info-exchanger[_ngcontent-%COMP%]   .btn-active[_ngcontent-%COMP%]{background-color:#ed277e}.calculator[_ngcontent-%COMP%]   .info-exchanger[_ngcontent-%COMP%]   .btn-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff!important}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-solid[_ngcontent-%COMP%]{background-color:#fff}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:2rem;font-weight:900;color:#282829}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border:1px solid #1A1A1A;padding:3px;border-radius:15px}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:500;background:#DEDEDE;color:#1a1a1a;width:160px;position:relative;border-radius:12px!important;display:flex}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:right}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.9rem;font-weight:400!important}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   .svg-icon[_ngcontent-%COMP%]{position:absolute;top:-2.2rem;left:-1.7rem;background:#fff;border-radius:50px;padding:2px;border:2px solid #fff;cursor:pointer;box-shadow:1px 1px 10px #999;z-index:10}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text.country[_ngcontent-%COMP%]{padding:2px 10px}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text.country[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;border-radius:50px;margin-right:10px}@media (max-width: 460px){.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text.country[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}}@media (max-width: 460px){.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-field[_ngcontent-%COMP%]   .input-group-text.country[_ngcontent-%COMP%]{width:130px;font-size:1rem}}.calculator[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:15px}.calculator[_ngcontent-%COMP%]   .alert-secondary[_ngcontent-%COMP%]{background-color:#fdf6f9}.calculator[_ngcontent-%COMP%]   .btn-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative}.calculator[_ngcontent-%COMP%]   .btn-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:400;position:absolute;bottom:-55px;min-width:250px}.card[_ngcontent-%COMP%]{--bs-card-border-color: none}.btn-light[_ngcontent-%COMP%]{--bs-btn-bg: #DEDEDE}.form-control[_ngcontent-%COMP%]{border:var(--bs-border-width) solid transparent}.myPrimaryButtonC[_ngcontent-%COMP%]:hover{background-color:#bfd647!important;border-color:#bfd647!important;color:#000!important}@media (max-width: 400px){.myFontSizeXS[_ngcontent-%COMP%]{font-size:1rem!important}.mySvgXS[_ngcontent-%COMP%]{width:40px!important}}"]}),L})(),Xa=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275cmp=R.Xpm({type:L,selectors:[["app-header"]],decls:58,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary","fixed-top","myNavbarBlack","myNavbarPadding"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","assets/images/logo/perumoney.png","width","100"],["href","http://app.perumoney.pe",1,"d-none","d-sm-block","d-md-block","d-lg-none","text-decoration-none","mySecondaryColor","myLoginFS","myLoginRegisterTitlesForMD"],["href","https://app.perumoney.pe/auth/sing-up",1,"d-none","d-sm-block","d-md-block","d-lg-none","btn","ms-1","fw-bold","mySecondaryButton","myLoginRegisterTitlesForMD","registerButton"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-bottom","myNavbarBlack","myOffcanvasHeight"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16","data-bs-dismiss","offcanvas","aria-label","Close",1,"bi","bi-x","myPrimaryColor"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"offcanvas-body","d-lg-none","d-xl-none","d-xxl-none","d-xxl-none"],[1,"navbar-nav","justify-content-bottom","flex-grow-1","text-center"],[1,"nav-item"],["data-bs-dismiss","offcanvas","routerLink","/nosotros",1,"nav-link","text-white"],[1,"myLine"],["data-bs-dismiss","offcanvas","routerLink","/agencias",1,"nav-link","text-white"],["href","#service",1,"nav-link","text-white"],["href","#faq",1,"nav-link","text-white"],[1,"nav-item","my-3"],["type","button","href","http://app.perumoney.pe/auth/sing-up",1,"btn","btn-sm","mySecondaryButton","fw-bold"],["href","http://app.perumoney.pe",1,"nav-link","mySecondaryColor"],[1,"collapse","navbar-collapse","d-none","d-sm-none","d-md-none","d-lg-block"],[1,"navbar-nav","me-auto","my-2","my-lg-0",2,"--bs-scroll-height","100px"],[1,"nav-item","myLeftBorder"],["routerLink","/nosotros",1,"nav-link","myDarkerGrey"],["routerLink","/agencias",1,"nav-link","myDarkerGrey"],["href","#service",1,"nav-link","myDarkerGrey"],["href","#faq",1,"nav-link","myDarkerGrey"],["role","search",1,"d-flex","me-5"],["href","http://app.perumoney.pe",1,"nav-link","mySecondaryColor","me-4"]],template:function(d,p){1&d&&(R.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),R._UZ(3,"img",3),R.TgZ(4,"a",4),R._uU(5,"| Iniciar sesi\xf3n"),R.qZA(),R.TgZ(6,"a",5),R._uU(7,"Registrarse"),R.qZA()(),R.TgZ(8,"button",6),R._UZ(9,"span",7),R.qZA(),R.TgZ(10,"div",8)(11,"div",9),R._UZ(12,"h5",10),R.O4$(),R.TgZ(13,"svg",11),R._UZ(14,"path",12),R.qZA()(),R.kcU(),R.TgZ(15,"div",13)(16,"ul",14)(17,"li",15)(18,"a",16),R._uU(19,"Nosotros"),R.qZA()(),R._UZ(20,"li",17),R.TgZ(21,"li",15)(22,"a",18),R._uU(23,"Agencias"),R.qZA()(),R._UZ(24,"li",17),R.TgZ(25,"li",15)(26,"a",19),R._uU(27,"Servicios"),R.qZA()(),R._UZ(28,"li",17),R.TgZ(29,"li",15)(30,"a",20),R._uU(31,"Preguntas frecuentes"),R.qZA()(),R._UZ(32,"li",17),R.TgZ(33,"li",21)(34,"a",22),R._uU(35,"Registrarse"),R.qZA()(),R.TgZ(36,"li",15)(37,"a",23),R._uU(38,"Iniciar sesi\xf3n"),R.qZA()()()(),R.TgZ(39,"div",24)(40,"ul",25)(41,"li",26)(42,"a",27),R._uU(43,"Nosotros"),R.qZA()(),R.TgZ(44,"li",15)(45,"a",28),R._uU(46,"Agencias"),R.qZA()(),R.TgZ(47,"li",15)(48,"a",29),R._uU(49,"Servicios"),R.qZA()(),R.TgZ(50,"li",15)(51,"a",30),R._uU(52,"Preguntas frecuentes"),R.qZA()()(),R.TgZ(53,"div",31)(54,"a",32),R._uU(55,"Iniciar sesi\xf3n"),R.qZA(),R.TgZ(56,"a",22),R._uU(57,"Registrarse"),R.qZA()()()()()())},dependencies:[Eo.rH],styles:[".myNavbarBlack[_ngcontent-%COMP%]{background-color:#1a1a1a!important}.myNavbarPadding[_ngcontent-%COMP%]{padding:0!important}.myLine[_ngcontent-%COMP%]{margin:10px auto;border-bottom:1px solid #FFF;width:90%}.myOffcanvasHeight[_ngcontent-%COMP%]{height:65vh}.myFontSize[_ngcontent-%COMP%]{font-size:1.5rem}.myLoginFS[_ngcontent-%COMP%]{font-size:1rem}.registerButton[_ngcontent-%COMP%]{--bs-btn-padding-y: 0rem;--bs-btn-padding-x: .3rem;--bs-btn-font-size: .75rem}.navbar[_ngcontent-%COMP%]{--bs-navbar-toggler-border-color: none;--bs-navbar-toggler-icon-bg: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='%23BFD647' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\") }@media (min-width: 576px) and (max-width: 992px){.myLoginRegisterTitlesForMD[_ngcontent-%COMP%]{display:inline-flex!important}}.myLeftBorder[_ngcontent-%COMP%]{border-left:1px solid #BFD647}@media (min-width: 992px){.navbar-brand[_ngcontent-%COMP%]{margin-left:3rem}}"]}),L})(),bi=(()=>{class L{constructor(){this.title="web-front-2023"}ngOnInit(){}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275cmp=R.Xpm({type:L,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"myBlackBG"]],template:function(d,p){1&d&&(R.TgZ(0,"div",0),R._UZ(1,"app-header")(2,"router-outlet")(3,"app-footer"),R.qZA())},dependencies:[Eo.lC,Gu,Xa]}),L})();var Hs=Q(529),ln=Q(577),ra=Q(3692);const zu_firebase={apiKey:"AIzaSyA409P66nXATicRrb6C0f8898P6HAnuQEA",authDomain:"perudesarrollo-94f1b.firebaseapp.com",databaseURL:"https://perudesarrollo-94f1b-default-rtdb.firebaseio.com",projectId:"perudesarrollo-94f1b",storageBucket:"perudesarrollo-94f1b.appspot.com",messagingSenderId:"740080084011",appId:"1:740080084011:web:7d0745a4cf1cbd449e766e"};var ba=Q(81);let bu=(()=>{class L{}return L.\u0275fac=function(d){return new(d||L)},L.\u0275mod=R.oAB({type:L,bootstrap:[bi]}),L.\u0275inj=R.cJS({providers:[{provide:Hi.S$,useClass:Hi.Do}],imports:[b.b2,wa,wo.UX,wo.u5,Hs.JF,Eu,ln._J.forRoot(),(0,ra.hX)(()=>(0,ra.ZF)(zu_firebase)),(0,ba.Cm)(()=>(0,ba.ad)()),wo.u5,wo.UX]}),L})();b.q6().bootstrapModule(bu).catch(L=>console.error(L))},6498:(Ht,je,Q)=>{Q.d(je,{y:()=>ye});var b=Q(3489),ae=Q(7668),Ee=Q(3292),me=Q(3821),Ne=Q(4843),Ce=Q(2830);let ye=(()=>{class Y{constructor(Me){this._isScalar=!1,Me&&(this._subscribe=Me)}lift(Me){const Be=new Y;return Be.source=this,Be.operator=Me,Be}subscribe(Me,Be,Ve){const{operator:lt}=this,yt=function re(Y,le,Me){if(Y){if(Y instanceof b.L)return Y;if(Y[ae.b])return Y[ae.b]()}return Y||le||Me?new b.L(Y,le,Me):new b.L(Ee.c)}(Me,Be,Ve);if(yt.add(lt?lt.call(yt,this.source):this.source||Ce.v.useDeprecatedSynchronousErrorHandling&&!yt.syncErrorThrowable?this._subscribe(yt):this._trySubscribe(yt)),Ce.v.useDeprecatedSynchronousErrorHandling&&yt.syncErrorThrowable&&(yt.syncErrorThrowable=!1,yt.syncErrorThrown))throw yt.syncErrorValue;return yt}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Be){Ce.v.useDeprecatedSynchronousErrorHandling&&(Me.syncErrorThrown=!0,Me.syncErrorValue=Be),function R(Y){for(;Y;){const{closed:le,destination:Me,isStopped:Be}=Y;if(le||Be)return!1;Y=Me&&Me instanceof b.L?Me:null}return!0}(Me)?Me.error(Be):console.warn(Be)}}forEach(Me,Be){return new(Be=X(Be))((Ve,lt)=>{let yt;yt=this.subscribe(St=>{try{Me(St)}catch(zt){lt(zt),yt&&yt.unsubscribe()}},lt,Ve)})}_subscribe(Me){const{source:Be}=this;return Be&&Be.subscribe(Me)}[me.L](){return this}pipe(...Me){return 0===Me.length?this:(0,Ne.U)(Me)(this)}toPromise(Me){return new(Me=X(Me))((Be,Ve)=>{let lt;this.subscribe(yt=>lt=yt,yt=>Ve(yt),()=>Be(lt))})}}return Y.create=le=>new Y(le),Y})();function X(Y){if(Y||(Y=Ce.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},3292:(Ht,je,Q)=>{Q.d(je,{c:()=>ae});var b=Q(2830),R=Q(2782);const ae={closed:!0,next(Ee){},error(Ee){if(b.v.useDeprecatedSynchronousErrorHandling)throw Ee;(0,R.z)(Ee)},complete(){}}},5529:(Ht,je,Q)=>{Q.d(je,{xQ:()=>Ce,Yc:()=>Ne});var b=Q(6498),R=Q(3489),ae=Q(2654),Ee=Q(5279);class re extends ae.w{constructor(Y,le){super(),this.subject=Y,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Y=this.subject,le=Y.observers;if(this.subject=null,!le||0===le.length||Y.isStopped||Y.closed)return;const Me=le.indexOf(this.subscriber);-1!==Me&&le.splice(Me,1)}}var me=Q(7668);class Ne extends R.L{constructor(Y){super(Y),this.destination=Y}}let Ce=(()=>{class X extends b.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[me.b](){return new Ne(this)}lift(le){const Me=new ye(this,this);return Me.operator=le,Me}next(le){if(this.closed)throw new Ee.N;if(!this.isStopped){const{observers:Me}=this,Be=Me.length,Ve=Me.slice();for(let lt=0;lt<Be;lt++)Ve[lt].next(le)}}error(le){if(this.closed)throw new Ee.N;this.hasError=!0,this.thrownError=le,this.isStopped=!0;const{observers:Me}=this,Be=Me.length,Ve=Me.slice();for(let lt=0;lt<Be;lt++)Ve[lt].error(le);this.observers.length=0}complete(){if(this.closed)throw new Ee.N;this.isStopped=!0;const{observers:le}=this,Me=le.length,Be=le.slice();for(let Ve=0;Ve<Me;Ve++)Be[Ve].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(le){if(this.closed)throw new Ee.N;return super._trySubscribe(le)}_subscribe(le){if(this.closed)throw new Ee.N;return this.hasError?(le.error(this.thrownError),ae.w.EMPTY):this.isStopped?(le.complete(),ae.w.EMPTY):(this.observers.push(le),new re(this,le))}asObservable(){const le=new b.y;return le.source=this,le}}return X.create=(Y,le)=>new ye(Y,le),X})();class ye extends Ce{constructor(Y,le){super(),this.destination=Y,this.source=le}next(Y){const{destination:le}=this;le&&le.next&&le.next(Y)}error(Y){const{destination:le}=this;le&&le.error&&this.destination.error(Y)}complete(){const{destination:Y}=this;Y&&Y.complete&&this.destination.complete()}_subscribe(Y){const{source:le}=this;return le?this.source.subscribe(Y):ae.w.EMPTY}}},3489:(Ht,je,Q)=>{Q.d(je,{L:()=>Ne});var b=Q(7043),R=Q(3292),ae=Q(2654),Ee=Q(7668),re=Q(2830),me=Q(2782);class Ne extends ae.w{constructor(X,Y,le){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=R.c;break;case 1:if(!X){this.destination=R.c;break}if("object"==typeof X){X instanceof Ne?(this.syncErrorThrowable=X.syncErrorThrowable,this.destination=X,X.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ce(this,X));break}default:this.syncErrorThrowable=!0,this.destination=new Ce(this,X,Y,le)}}[Ee.b](){return this}static create(X,Y,le){const Me=new Ne(X,Y,le);return Me.syncErrorThrowable=!1,Me}next(X){this.isStopped||this._next(X)}error(X){this.isStopped||(this.isStopped=!0,this._error(X))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(X){this.destination.next(X)}_error(X){this.destination.error(X),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:X}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=X,this}}class Ce extends Ne{constructor(X,Y,le,Me){super(),this._parentSubscriber=X;let Be,Ve=this;(0,b.m)(Y)?Be=Y:Y&&(Be=Y.next,le=Y.error,Me=Y.complete,Y!==R.c&&(Ve=Object.create(Y),(0,b.m)(Ve.unsubscribe)&&this.add(Ve.unsubscribe.bind(Ve)),Ve.unsubscribe=this.unsubscribe.bind(this))),this._context=Ve,this._next=Be,this._error=le,this._complete=Me}next(X){if(!this.isStopped&&this._next){const{_parentSubscriber:Y}=this;re.v.useDeprecatedSynchronousErrorHandling&&Y.syncErrorThrowable?this.__tryOrSetError(Y,this._next,X)&&this.unsubscribe():this.__tryOrUnsub(this._next,X)}}error(X){if(!this.isStopped){const{_parentSubscriber:Y}=this,{useDeprecatedSynchronousErrorHandling:le}=re.v;if(this._error)le&&Y.syncErrorThrowable?(this.__tryOrSetError(Y,this._error,X),this.unsubscribe()):(this.__tryOrUnsub(this._error,X),this.unsubscribe());else if(Y.syncErrorThrowable)le?(Y.syncErrorValue=X,Y.syncErrorThrown=!0):(0,me.z)(X),this.unsubscribe();else{if(this.unsubscribe(),le)throw X;(0,me.z)(X)}}}complete(){if(!this.isStopped){const{_parentSubscriber:X}=this;if(this._complete){const Y=()=>this._complete.call(this._context);re.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?(this.__tryOrSetError(X,Y),this.unsubscribe()):(this.__tryOrUnsub(Y),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(X,Y){try{X.call(this._context,Y)}catch(le){if(this.unsubscribe(),re.v.useDeprecatedSynchronousErrorHandling)throw le;(0,me.z)(le)}}__tryOrSetError(X,Y,le){if(!re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Y.call(this._context,le)}catch(Me){return re.v.useDeprecatedSynchronousErrorHandling?(X.syncErrorValue=Me,X.syncErrorThrown=!0,!0):((0,me.z)(Me),!0)}return!1}_unsubscribe(){const{_parentSubscriber:X}=this;this._context=null,this._parentSubscriber=null,X.unsubscribe()}}},2654:(Ht,je,Q)=>{Q.d(je,{w:()=>me});var b=Q(6688),R=Q(7830),ae=Q(7043);const re=(()=>{function Ce(ye){return Error.call(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((X,Y)=>`${Y+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye,this}return Ce.prototype=Object.create(Error.prototype),Ce})();class me{constructor(ye){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ye&&(this._ctorUnsubscribe=!0,this._unsubscribe=ye)}unsubscribe(){let ye;if(this.closed)return;let{_parentOrParents:X,_ctorUnsubscribe:Y,_unsubscribe:le,_subscriptions:Me}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,X instanceof me)X.remove(this);else if(null!==X)for(let Be=0;Be<X.length;++Be)X[Be].remove(this);if((0,ae.m)(le)){Y&&(this._unsubscribe=void 0);try{le.call(this)}catch(Be){ye=Be instanceof re?Ne(Be.errors):[Be]}}if((0,b.k)(Me)){let Be=-1,Ve=Me.length;for(;++Be<Ve;){const lt=Me[Be];if((0,R.K)(lt))try{lt.unsubscribe()}catch(yt){ye=ye||[],yt instanceof re?ye=ye.concat(Ne(yt.errors)):ye.push(yt)}}}if(ye)throw new re(ye)}add(ye){let X=ye;if(!ye)return me.EMPTY;switch(typeof ye){case"function":X=new me(ye);case"object":if(X===this||X.closed||"function"!=typeof X.unsubscribe)return X;if(this.closed)return X.unsubscribe(),X;if(!(X instanceof me)){const Me=X;X=new me,X._subscriptions=[Me]}break;default:throw new Error("unrecognized teardown "+ye+" added to Subscription.")}let{_parentOrParents:Y}=X;if(null===Y)X._parentOrParents=this;else if(Y instanceof me){if(Y===this)return X;X._parentOrParents=[Y,this]}else{if(-1!==Y.indexOf(this))return X;Y.push(this)}const le=this._subscriptions;return null===le?this._subscriptions=[X]:le.push(X),X}remove(ye){const X=this._subscriptions;if(X){const Y=X.indexOf(ye);-1!==Y&&X.splice(Y,1)}}}var Ce;function Ne(Ce){return Ce.reduce((ye,X)=>ye.concat(X instanceof re?X.errors:X),[])}me.EMPTY=((Ce=new me).closed=!0,Ce)},2830:(Ht,je,Q)=>{Q.d(je,{v:()=>R});let b=!1;const R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ae){if(ae){const Ee=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ee.stack)}else b&&console.log("RxJS: Back to a better error behavior. Thank you. <3");b=ae},get useDeprecatedSynchronousErrorHandling(){return b}}},1177:(Ht,je,Q)=>{Q.d(je,{Ds:()=>me,IY:()=>Ee,ft:()=>Ce});var b=Q(3489),R=Q(6498),ae=Q(9249);class Ee extends b.L{constructor(X){super(),this.parent=X}_next(X){this.parent.notifyNext(X)}_error(X){this.parent.notifyError(X),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class me extends b.L{notifyNext(X){this.destination.next(X)}notifyError(X){this.destination.error(X)}notifyComplete(){this.destination.complete()}}function Ce(ye,X){if(X.closed)return;if(ye instanceof R.y)return ye.subscribe(X);let Y;try{Y=(0,ae.s)(ye)(X)}catch(le){X.error(le)}return Y}},1762:(Ht,je,Q)=>{Q.d(je,{N:()=>me,c:()=>re});var b=Q(5529),R=Q(6498),ae=Q(2654),Ee=Q(4327);class re extends R.y{constructor(Y,le){super(),this.source=Y,this.subjectFactory=le,this._refCount=0,this._isComplete=!1}_subscribe(Y){return this.getSubject().subscribe(Y)}getSubject(){const Y=this._subject;return(!Y||Y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Y=this._connection;return Y||(this._isComplete=!1,Y=this._connection=new ae.w,Y.add(this.source.subscribe(new Ne(this.getSubject(),this))),Y.closed&&(this._connection=null,Y=ae.w.EMPTY)),Y}refCount(){return(0,Ee.x)()(this)}}const me=(()=>{const X=re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}}})();class Ne extends b.Yc{constructor(Y,le){super(Y),this.connectable=le}_error(Y){this._unsubscribe(),super._error(Y)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Y=this.connectable;if(Y){this.connectable=null;const le=Y._connection;Y._refCount=0,Y._subject=null,Y._connection=null,le&&le.unsubscribe()}}}},8896:(Ht,je,Q)=>{Q.d(je,{E:()=>R,c:()=>ae});var b=Q(6498);const R=new b.y(re=>re.complete());function ae(re){return re?function Ee(re){return new b.y(me=>re.schedule(()=>me.complete()))}(re):R}},5254:(Ht,je,Q)=>{Q.d(je,{D:()=>Ve});var b=Q(6498),R=Q(9249),ae=Q(2654),Ee=Q(3821),Ne=Q(6454),Ce=Q(5430),Y=Q(8955),le=Q(8515);function Ve(lt,yt){return yt?function Be(lt,yt){if(null!=lt){if(function X(lt){return lt&&"function"==typeof lt[Ee.L]}(lt))return function re(lt,yt){return new b.y(St=>{const zt=new ae.w;return zt.add(yt.schedule(()=>{const nt=lt[Ee.L]();zt.add(nt.subscribe({next(dt){zt.add(yt.schedule(()=>St.next(dt)))},error(dt){zt.add(yt.schedule(()=>St.error(dt)))},complete(){zt.add(yt.schedule(()=>St.complete()))}}))})),zt})}(lt,yt);if((0,Y.t)(lt))return function me(lt,yt){return new b.y(St=>{const zt=new ae.w;return zt.add(yt.schedule(()=>lt.then(nt=>{zt.add(yt.schedule(()=>{St.next(nt),zt.add(yt.schedule(()=>St.complete()))}))},nt=>{zt.add(yt.schedule(()=>St.error(nt)))}))),zt})}(lt,yt);if((0,le.z)(lt))return(0,Ne.r)(lt,yt);if(function Me(lt){return lt&&"function"==typeof lt[Ce.hZ]}(lt)||"string"==typeof lt)return function ye(lt,yt){if(!lt)throw new Error("Iterable cannot be null");return new b.y(St=>{const zt=new ae.w;let nt;return zt.add(()=>{nt&&"function"==typeof nt.return&&nt.return()}),zt.add(yt.schedule(()=>{nt=lt[Ce.hZ](),zt.add(yt.schedule(function(){if(St.closed)return;let dt,qe;try{const we=nt.next();dt=we.value,qe=we.done}catch(we){return void St.error(we)}qe?St.complete():(St.next(dt),this.schedule())}))})),zt})}(lt,yt)}throw new TypeError((null!==lt&&typeof lt||lt)+" is not observable")}(lt,yt):lt instanceof b.y?lt:new b.y((0,R.s)(lt))}},3009:(Ht,je,Q)=>{Q.d(je,{n:()=>Ee});var b=Q(6498),R=Q(3650),ae=Q(6454);function Ee(re,me){return me?(0,ae.r)(re,me):new b.y((0,R.V)(re))}},1086:(Ht,je,Q)=>{Q.d(je,{of:()=>Ee});var b=Q(2866),R=Q(3009),ae=Q(6454);function Ee(...re){let me=re[re.length-1];return(0,b.K)(me)?(re.pop(),(0,ae.r)(re,me)):(0,R.n)(re)}},1737:(Ht,je,Q)=>{Q.d(je,{_:()=>R});var b=Q(6498);function R(Ee,re){return new b.y(re?me=>re.schedule(ae,0,{error:Ee,subscriber:me}):me=>me.error(Ee))}function ae({error:Ee,subscriber:re}){re.error(Ee)}},7221:(Ht,je,Q)=>{Q.d(je,{K:()=>R});var b=Q(1177);function R(re){return function(Ne){const Ce=new ae(re),ye=Ne.lift(Ce);return Ce.caught=ye}}class ae{constructor(me){this.selector=me}call(me,Ne){return Ne.subscribe(new Ee(me,this.selector,this.caught))}}class Ee extends b.Ds{constructor(me,Ne,Ce){super(me),this.selector=Ne,this.caught=Ce}error(me){if(!this.isStopped){let Ne;try{Ne=this.selector(me,this.caught)}catch(X){return void super.error(X)}this._unsubscribeAndRecycle();const Ce=new b.IY(this);this.add(Ce);const ye=(0,b.ft)(Ne,Ce);ye!==Ce&&this.add(ye)}}}},1406:(Ht,je,Q)=>{Q.d(je,{b:()=>R});var b=Q(1709);function R(ae,Ee){return(0,b.zg)(ae,Ee,1)}},2198:(Ht,je,Q)=>{Q.d(je,{h:()=>R});var b=Q(3489);function R(re,me){return function(Ce){return Ce.lift(new ae(re,me))}}class ae{constructor(me,Ne){this.predicate=me,this.thisArg=Ne}call(me,Ne){return Ne.subscribe(new Ee(me,this.predicate,this.thisArg))}}class Ee extends b.L{constructor(me,Ne,Ce){super(me),this.predicate=Ne,this.thisArg=Ce,this.count=0}_next(me){let Ne;try{Ne=this.predicate.call(this.thisArg,me,this.count++)}catch(Ce){return void this.destination.error(Ce)}Ne&&this.destination.next(me)}}},537:(Ht,je,Q)=>{Q.d(je,{x:()=>ae});var b=Q(3489),R=Q(2654);function ae(me){return Ne=>Ne.lift(new Ee(me))}class Ee{constructor(Ne){this.callback=Ne}call(Ne,Ce){return Ce.subscribe(new re(Ne,this.callback))}}class re extends b.L{constructor(Ne,Ce){super(Ne),this.add(new R.w(Ce))}}},4850:(Ht,je,Q)=>{Q.d(je,{U:()=>R});var b=Q(3489);function R(re,me){return function(Ce){if("function"!=typeof re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ce.lift(new ae(re,me))}}class ae{constructor(me,Ne){this.project=me,this.thisArg=Ne}call(me,Ne){return Ne.subscribe(new Ee(me,this.project,this.thisArg))}}class Ee extends b.L{constructor(me,Ne,Ce){super(me),this.project=Ne,this.count=0,this.thisArg=Ce||this}_next(me){let Ne;try{Ne=this.project.call(this.thisArg,me,this.count++)}catch(Ce){return void this.destination.error(Ce)}this.destination.next(Ne)}}},9146:(Ht,je,Q)=>{Q.d(je,{J:()=>ae});var b=Q(1709),R=Q(5379);function ae(Ee=Number.POSITIVE_INFINITY){return(0,b.zg)(R.y,Ee)}},1709:(Ht,je,Q)=>{Q.d(je,{zg:()=>Ee});var b=Q(4850),R=Q(5254),ae=Q(1177);function Ee(Ce,ye,X=Number.POSITIVE_INFINITY){return"function"==typeof ye?Y=>Y.pipe(Ee((le,Me)=>(0,R.D)(Ce(le,Me)).pipe((0,b.U)((Be,Ve)=>ye(le,Be,Me,Ve))),X)):("number"==typeof ye&&(X=ye),Y=>Y.lift(new re(Ce,X)))}class re{constructor(ye,X=Number.POSITIVE_INFINITY){this.project=ye,this.concurrent=X}call(ye,X){return X.subscribe(new me(ye,this.project,this.concurrent))}}class me extends ae.Ds{constructor(ye,X,Y=Number.POSITIVE_INFINITY){super(ye),this.project=X,this.concurrent=Y,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ye){this.active<this.concurrent?this._tryNext(ye):this.buffer.push(ye)}_tryNext(ye){let X;const Y=this.index++;try{X=this.project(ye,Y)}catch(le){return void this.destination.error(le)}this.active++,this._innerSub(X)}_innerSub(ye){const X=new ae.IY(this),Y=this.destination;Y.add(X);const le=(0,ae.ft)(ye,X);le!==X&&Y.add(le)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ye){this.destination.next(ye)}notifyComplete(){const ye=this.buffer;this.active--,ye.length>0?this._next(ye.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4327:(Ht,je,Q)=>{Q.d(je,{x:()=>R});var b=Q(3489);function R(){return function(me){return me.lift(new ae(me))}}class ae{constructor(me){this.connectable=me}call(me,Ne){const{connectable:Ce}=this;Ce._refCount++;const ye=new Ee(me,Ce),X=Ne.subscribe(ye);return ye.closed||(ye.connection=Ce.connect()),X}}class Ee extends b.L{constructor(me,Ne){super(me),this.connectable=Ne}_unsubscribe(){const{connectable:me}=this;if(!me)return void(this.connection=null);this.connectable=null;const Ne=me._refCount;if(Ne<=0)return void(this.connection=null);if(me._refCount=Ne-1,Ne>1)return void(this.connection=null);const{connection:Ce}=this,ye=me._connection;this.connection=null,ye&&(!Ce||ye===Ce)&&ye.unsubscribe()}}},2474:(Ht,je,Q)=>{Q.d(je,{B:()=>Ne});var b=Q(1762);class ae{constructor(ye,X){this.subjectFactory=ye,this.selector=X}call(ye,X){const{selector:Y}=this,le=this.subjectFactory(),Me=Y(le).subscribe(ye);return Me.add(X.subscribe(le)),Me}}var Ee=Q(4327),re=Q(5529);function me(){return new re.xQ}function Ne(){return Ce=>(0,Ee.x)()(function R(Ce,ye){return function(Y){let le;if(le="function"==typeof Ce?Ce:function(){return Ce},"function"==typeof ye)return Y.lift(new ae(le,ye));const Me=Object.create(Y,b.N);return Me.source=Y,Me.subjectFactory=le,Me}}(me)(Ce))}},2868:(Ht,je,Q)=>{Q.d(je,{b:()=>Ee});var b=Q(3489);function R(){}var ae=Q(7043);function Ee(Ne,Ce,ye){return function(Y){return Y.lift(new re(Ne,Ce,ye))}}class re{constructor(Ce,ye,X){this.nextOrObserver=Ce,this.error=ye,this.complete=X}call(Ce,ye){return ye.subscribe(new me(Ce,this.nextOrObserver,this.error,this.complete))}}class me extends b.L{constructor(Ce,ye,X,Y){super(Ce),this._tapNext=R,this._tapError=R,this._tapComplete=R,this._tapError=X||R,this._tapComplete=Y||R,(0,ae.m)(ye)?(this._context=this,this._tapNext=ye):ye&&(this._context=ye,this._tapNext=ye.next||R,this._tapError=ye.error||R,this._tapComplete=ye.complete||R)}_next(Ce){try{this._tapNext.call(this._context,Ce)}catch(ye){return void this.destination.error(ye)}this.destination.next(Ce)}_error(Ce){try{this._tapError.call(this._context,Ce)}catch(ye){return void this.destination.error(ye)}this.destination.error(Ce)}_complete(){try{this._tapComplete.call(this._context)}catch(Ce){return void this.destination.error(Ce)}return this.destination.complete()}}},6454:(Ht,je,Q)=>{Q.d(je,{r:()=>ae});var b=Q(6498),R=Q(2654);function ae(Ee,re){return new b.y(me=>{const Ne=new R.w;let Ce=0;return Ne.add(re.schedule(function(){Ce!==Ee.length?(me.next(Ee[Ce++]),me.closed||Ne.add(this.schedule())):me.complete()})),Ne})}},5430:(Ht,je,Q)=>{Q.d(je,{hZ:()=>R});const R=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Ht,je,Q)=>{Q.d(je,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Ht,je,Q)=>{Q.d(je,{b:()=>b});const b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(Ht,je,Q)=>{Q.d(je,{N:()=>R});const R=(()=>{function ae(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ae.prototype=Object.create(Error.prototype),ae})()},2782:(Ht,je,Q)=>{function b(R){setTimeout(()=>{throw R},0)}Q.d(je,{z:()=>b})},5379:(Ht,je,Q)=>{function b(R){return R}Q.d(je,{y:()=>b})},6688:(Ht,je,Q)=>{Q.d(je,{k:()=>b});const b=Array.isArray||(R=>R&&"number"==typeof R.length)},8515:(Ht,je,Q)=>{Q.d(je,{z:()=>b});const b=R=>R&&"number"==typeof R.length&&"function"!=typeof R},7043:(Ht,je,Q)=>{function b(R){return"function"==typeof R}Q.d(je,{m:()=>b})},7830:(Ht,je,Q)=>{function b(R){return null!==R&&"object"==typeof R}Q.d(je,{K:()=>b})},8955:(Ht,je,Q)=>{function b(R){return!!R&&"function"!=typeof R.subscribe&&"function"==typeof R.then}Q.d(je,{t:()=>b})},2866:(Ht,je,Q)=>{function b(R){return R&&"function"==typeof R.schedule}Q.d(je,{K:()=>b})},4843:(Ht,je,Q)=>{Q.d(je,{U:()=>ae,z:()=>R});var b=Q(5379);function R(...Ee){return ae(Ee)}function ae(Ee){return 0===Ee.length?b.y:1===Ee.length?Ee[0]:function(me){return Ee.reduce((Ne,Ce)=>Ce(Ne),me)}}},9249:(Ht,je,Q)=>{Q.d(je,{s:()=>Y});var b=Q(3650),R=Q(2782),Ee=Q(5430),me=Q(3821),Ce=Q(8515),ye=Q(8955),X=Q(7830);const Y=le=>{if(le&&"function"==typeof le[me.L])return(le=>Me=>{const Be=le[me.L]();if("function"!=typeof Be.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Be.subscribe(Me)})(le);if((0,Ce.z)(le))return(0,b.V)(le);if((0,ye.t)(le))return(le=>Me=>(le.then(Be=>{Me.closed||(Me.next(Be),Me.complete())},Be=>Me.error(Be)).then(null,R.z),Me))(le);if(le&&"function"==typeof le[Ee.hZ])return(le=>Me=>{const Be=le[Ee.hZ]();for(;;){let Ve;try{Ve=Be.next()}catch(lt){return Me.error(lt),Me}if(Ve.done){Me.complete();break}if(Me.next(Ve.value),Me.closed)break}return"function"==typeof Be.return&&Me.add(()=>{Be.return&&Be.return()}),Me})(le);{const Be=`You provided ${(0,X.K)(le)?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Be)}}},3650:(Ht,je,Q)=>{Q.d(je,{V:()=>b});const b=R=>ae=>{for(let Ee=0,re=R.length;Ee<re&&!ae.closed;Ee++)ae.next(R[Ee]);ae.complete()}},6895:(Ht,je,Q)=>{Q.d(je,{Do:()=>zt,EM:()=>fr,HT:()=>Ee,JF:()=>Vo,JJ:()=>Vs,K0:()=>me,Mx:()=>$n,O5:()=>zr,S$:()=>lt,V_:()=>ye,Ye:()=>nt,b0:()=>St,bD:()=>ko,ez:()=>Oo,mk:()=>es,q:()=>ae,sg:()=>Gr,w_:()=>re});var b=Q(5675);let R=null;function ae(){return R}function Ee(d){R||(R=d)}class re{}const me=new b.OlP("DocumentToken");let Ne=(()=>{class d{historyGo(m){throw new Error("Not implemented")}}return d.\u0275fac=function(m){return new(m||d)},d.\u0275prov=b.Yz7({token:d,factory:function(){return function Ce(){return(0,b.LFG)(X)}()},providedIn:"platform"}),d})();const ye=new b.OlP("Location Initialized");let X=(()=>{class d extends Ne{constructor(m){super(),this._doc=m,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(m){const T=ae().getGlobalEventTarget(this._doc,"window");return T.addEventListener("popstate",m,!1),()=>T.removeEventListener("popstate",m)}onHashChange(m){const T=ae().getGlobalEventTarget(this._doc,"window");return T.addEventListener("hashchange",m,!1),()=>T.removeEventListener("hashchange",m)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(m){this._location.pathname=m}pushState(m,T,F){Y()?this._history.pushState(m,T,F):this._location.hash=F}replaceState(m,T,F){Y()?this._history.replaceState(m,T,F):this._location.hash=F}forward(){this._history.forward()}back(){this._history.back()}historyGo(m=0){this._history.go(m)}getState(){return this._history.state}}return d.\u0275fac=function(m){return new(m||d)(b.LFG(me))},d.\u0275prov=b.Yz7({token:d,factory:function(){return function le(){return new X((0,b.LFG)(me))}()},providedIn:"platform"}),d})();function Y(){return!!window.history.pushState}function Me(d,p){if(0==d.length)return p;if(0==p.length)return d;let m=0;return d.endsWith("/")&&m++,p.startsWith("/")&&m++,2==m?d+p.substring(1):1==m?d+p:d+"/"+p}function Be(d){const p=d.match(/#|\?|$/),m=p&&p.index||d.length;return d.slice(0,m-("/"===d[m-1]?1:0))+d.slice(m)}function Ve(d){return d&&"?"!==d[0]?"?"+d:d}let lt=(()=>{class d{historyGo(m){throw new Error("Not implemented")}}return d.\u0275fac=function(m){return new(m||d)},d.\u0275prov=b.Yz7({token:d,factory:function(){return(0,b.f3M)(St)},providedIn:"root"}),d})();const yt=new b.OlP("appBaseHref");let St=(()=>{class d extends lt{constructor(m,T){super(),this._platformLocation=m,this._removeListenerFns=[],this._baseHref=T??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(m){this._removeListenerFns.push(this._platformLocation.onPopState(m),this._platformLocation.onHashChange(m))}getBaseHref(){return this._baseHref}prepareExternalUrl(m){return Me(this._baseHref,m)}path(m=!1){const T=this._platformLocation.pathname+Ve(this._platformLocation.search),F=this._platformLocation.hash;return F&&m?`${T}${F}`:T}pushState(m,T,F,H){const J=this.prepareExternalUrl(F+Ve(H));this._platformLocation.pushState(m,T,J)}replaceState(m,T,F,H){const J=this.prepareExternalUrl(F+Ve(H));this._platformLocation.replaceState(m,T,J)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(m=0){this._platformLocation.historyGo?.(m)}}return d.\u0275fac=function(m){return new(m||d)(b.LFG(Ne),b.LFG(yt,8))},d.\u0275prov=b.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),zt=(()=>{class d extends lt{constructor(m,T){super(),this._platformLocation=m,this._baseHref="",this._removeListenerFns=[],null!=T&&(this._baseHref=T)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(m){this._removeListenerFns.push(this._platformLocation.onPopState(m),this._platformLocation.onHashChange(m))}getBaseHref(){return this._baseHref}path(m=!1){let T=this._platformLocation.hash;return null==T&&(T="#"),T.length>0?T.substring(1):T}prepareExternalUrl(m){const T=Me(this._baseHref,m);return T.length>0?"#"+T:T}pushState(m,T,F,H){let J=this.prepareExternalUrl(F+Ve(H));0==J.length&&(J=this._platformLocation.pathname),this._platformLocation.pushState(m,T,J)}replaceState(m,T,F,H){let J=this.prepareExternalUrl(F+Ve(H));0==J.length&&(J=this._platformLocation.pathname),this._platformLocation.replaceState(m,T,J)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(m=0){this._platformLocation.historyGo?.(m)}}return d.\u0275fac=function(m){return new(m||d)(b.LFG(Ne),b.LFG(yt,8))},d.\u0275prov=b.Yz7({token:d,factory:d.\u0275fac}),d})(),nt=(()=>{class d{constructor(m){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=m;const T=this._locationStrategy.getBaseHref();this._basePath=function Ke(d){if(new RegExp("^(https?:)?//").test(d)){const[,m]=d.split(/\/\/[^\/]+/);return m}return d}(Be(we(T))),this._locationStrategy.onPopState(F=>{this._subject.emit({url:this.path(!0),pop:!0,state:F.state,type:F.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(m=!1){return this.normalize(this._locationStrategy.path(m))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(m,T=""){return this.path()==this.normalize(m+Ve(T))}normalize(m){return d.stripTrailingSlash(function qe(d,p){if(!d||!p.startsWith(d))return p;const m=p.substring(d.length);return""===m||["/",";","?","#"].includes(m[0])?m:p}(this._basePath,we(m)))}prepareExternalUrl(m){return m&&"/"!==m[0]&&(m="/"+m),this._locationStrategy.prepareExternalUrl(m)}go(m,T="",F=null){this._locationStrategy.pushState(F,"",m,T),this._notifyUrlChangeListeners(this.prepareExternalUrl(m+Ve(T)),F)}replaceState(m,T="",F=null){this._locationStrategy.replaceState(F,"",m,T),this._notifyUrlChangeListeners(this.prepareExternalUrl(m+Ve(T)),F)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(m=0){this._locationStrategy.historyGo?.(m)}onUrlChange(m){return this._urlChangeListeners.push(m),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(T=>{this._notifyUrlChangeListeners(T.url,T.state)})),()=>{const T=this._urlChangeListeners.indexOf(m);this._urlChangeListeners.splice(T,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(m="",T){this._urlChangeListeners.forEach(F=>F(m,T))}subscribe(m,T,F){return this._subject.subscribe({next:m,error:T,complete:F})}}return d.normalizeQueryParams=Ve,d.joinWithSlash=Me,d.stripTrailingSlash=Be,d.\u0275fac=function(m){return new(m||d)(b.LFG(lt))},d.\u0275prov=b.Yz7({token:d,factory:function(){return function dt(){return new nt((0,b.LFG)(lt))}()},providedIn:"root"}),d})();function we(d){return d.replace(/\/index.html$/,"")}var Fe=(()=>((Fe=Fe||{})[Fe.Decimal=0]="Decimal",Fe[Fe.Percent=1]="Percent",Fe[Fe.Currency=2]="Currency",Fe[Fe.Scientific=3]="Scientific",Fe))(),He=(()=>((He=He||{})[He.Decimal=0]="Decimal",He[He.Group=1]="Group",He[He.List=2]="List",He[He.PercentSign=3]="PercentSign",He[He.PlusSign=4]="PlusSign",He[He.MinusSign=5]="MinusSign",He[He.Exponential=6]="Exponential",He[He.SuperscriptingExponent=7]="SuperscriptingExponent",He[He.PerMille=8]="PerMille",He[He.Infinity=9]="Infinity",He[He.NaN=10]="NaN",He[He.TimeSeparator=11]="TimeSeparator",He[He.CurrencyDecimal=12]="CurrencyDecimal",He[He.CurrencyGroup=13]="CurrencyGroup",He))();function _n(d,p){const m=(0,b.cg1)(d),T=m[b.wAp.NumberSymbols][p];if(typeof T>"u"){if(p===He.CurrencyDecimal)return m[b.wAp.NumberSymbols][He.Decimal];if(p===He.CurrencyGroup)return m[b.wAp.NumberSymbols][He.Group]}return T}const se=/^(\d+)?\.((\d+)(-(\d+))?)?$/,W=22,he=".",De="0",st=";",at=",",ot="#";function Mr(d){const p=parseInt(d);if(isNaN(p))throw new Error("Invalid integer literal when parsing "+d);return p}function $n(d,p){p=encodeURIComponent(p);for(const m of d.split(";")){const T=m.indexOf("="),[F,H]=-1==T?[m,""]:[m.slice(0,T),m.slice(T+1)];if(F.trim()===p)return decodeURIComponent(H)}return null}const ni=/\s+/,gs=[];let es=(()=>{class d{constructor(m,T,F,H){this._iterableDiffers=m,this._keyValueDiffers=T,this._ngEl=F,this._renderer=H,this.initialClasses=gs,this.stateMap=new Map}set klass(m){this.initialClasses=null!=m?m.trim().split(ni):gs}set ngClass(m){this.rawClass="string"==typeof m?m.trim().split(ni):m}ngDoCheck(){for(const T of this.initialClasses)this._updateState(T,!0);const m=this.rawClass;if(Array.isArray(m)||m instanceof Set)for(const T of m)this._updateState(T,!0);else if(null!=m)for(const T of Object.keys(m))this._updateState(T,Boolean(m[T]));this._applyStateDiff()}_updateState(m,T){const F=this.stateMap.get(m);void 0!==F?(F.enabled!==T&&(F.changed=!0,F.enabled=T),F.touched=!0):this.stateMap.set(m,{enabled:T,changed:!0,touched:!0})}_applyStateDiff(){for(const m of this.stateMap){const T=m[0],F=m[1];F.changed?(this._toggleClass(T,F.enabled),F.changed=!1):F.touched||(F.enabled&&this._toggleClass(T,!1),this.stateMap.delete(T)),F.touched=!1}}_toggleClass(m,T){(m=m.trim()).length>0&&m.split(ni).forEach(F=>{T?this._renderer.addClass(this._ngEl.nativeElement,F):this._renderer.removeClass(this._ngEl.nativeElement,F)})}}return d.\u0275fac=function(m){return new(m||d)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))},d.\u0275dir=b.lG2({type:d,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),d})();class un{constructor(p,m,T,F){this.$implicit=p,this.ngForOf=m,this.index=T,this.count=F}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gr=(()=>{class d{set ngForOf(m){this._ngForOf=m,this._ngForOfDirty=!0}set ngForTrackBy(m){this._trackByFn=m}get ngForTrackBy(){return this._trackByFn}constructor(m,T,F){this._viewContainer=m,this._template=T,this._differs=F,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(m){m&&(this._template=m)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const m=this._ngForOf;!this._differ&&m&&(this._differ=this._differs.find(m).create(this.ngForTrackBy))}if(this._differ){const m=this._differ.diff(this._ngForOf);m&&this._applyChanges(m)}}_applyChanges(m){const T=this._viewContainer;m.forEachOperation((F,H,J)=>{if(null==F.previousIndex)T.createEmbeddedView(this._template,new un(F.item,this._ngForOf,-1,-1),null===J?void 0:J);else if(null==J)T.remove(null===H?void 0:H);else if(null!==H){const fe=T.get(H);T.move(fe,J),ii(fe,F)}});for(let F=0,H=T.length;F<H;F++){const fe=T.get(F).context;fe.index=F,fe.count=H,fe.ngForOf=this._ngForOf}m.forEachIdentityChange(F=>{ii(T.get(F.currentIndex),F)})}static ngTemplateContextGuard(m,T){return!0}}return d.\u0275fac=function(m){return new(m||d)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},d.\u0275dir=b.lG2({type:d,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),d})();function ii(d,p){d.context.$implicit=p.item}let zr=(()=>{class d{constructor(m,T){this._viewContainer=m,this._context=new Xn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=T}set ngIf(m){this._context.$implicit=this._context.ngIf=m,this._updateView()}set ngIfThen(m){vi("ngIfThen",m),this._thenTemplateRef=m,this._thenViewRef=null,this._updateView()}set ngIfElse(m){vi("ngIfElse",m),this._elseTemplateRef=m,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(m,T){return!0}}return d.\u0275fac=function(m){return new(m||d)(b.Y36(b.s_b),b.Y36(b.Rgc))},d.\u0275dir=b.lG2({type:d,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),d})();class Xn{constructor(){this.$implicit=null,this.ngIf=null}}function vi(d,p){if(p&&!p.createEmbeddedView)throw new Error(`${d} must be a TemplateRef, but received '${(0,b.AaK)(p)}'.`)}let Vs=(()=>{class d{constructor(m){this._locale=m}transform(m,T,F){if(!function Po(d){return!(null==d||""===d||d!=d)}(m))return null;F=F||this._locale;try{return function Js(d,p,m){return function Tn(d,p,m,T,F,H,J=!1){let fe="",ze=!1;if(isFinite(d)){let Je=function Ji(d){let T,F,H,J,fe,p=Math.abs(d)+"",m=0;for((F=p.indexOf(he))>-1&&(p=p.replace(he,"")),(H=p.search(/e/i))>0?(F<0&&(F=H),F+=+p.slice(H+1),p=p.substring(0,H)):F<0&&(F=p.length),H=0;p.charAt(H)===De;H++);if(H===(fe=p.length))T=[0],F=1;else{for(fe--;p.charAt(fe)===De;)fe--;for(F-=H,T=[],J=0;H<=fe;H++,J++)T[J]=Number(p.charAt(H))}return F>W&&(T=T.splice(0,W-1),m=F-1,F=1),{digits:T,exponent:m,integerLen:F}}(d);J&&(Je=function Xi(d){if(0===d.digits[0])return d;const p=d.digits.length-d.integerLen;return d.exponent?d.exponent+=2:(0===p?d.digits.push(0,0):1===p&&d.digits.push(0),d.integerLen+=2),d}(Je));let Dt=p.minInt,ct=p.minFrac,gt=p.maxFrac;if(H){const Pn=H.match(se);if(null===Pn)throw new Error(`${H} is not a valid digit info`);const li=Pn[1],Pr=Pn[3],Er=Pn[5];null!=li&&(Dt=Mr(li)),null!=Pr&&(ct=Mr(Pr)),null!=Er?gt=Mr(Er):null!=Pr&&ct>gt&&(gt=ct)}!function Hr(d,p,m){if(p>m)throw new Error(`The minimum number of digits after fraction (${p}) is higher than the maximum (${m}).`);let T=d.digits,F=T.length-d.integerLen;const H=Math.min(Math.max(p,F),m);let J=H+d.integerLen,fe=T[J];if(J>0){T.splice(Math.max(d.integerLen,J));for(let ct=J;ct<T.length;ct++)T[ct]=0}else{F=Math.max(0,F),d.integerLen=1,T.length=Math.max(1,J=H+1),T[0]=0;for(let ct=1;ct<J;ct++)T[ct]=0}if(fe>=5)if(J-1<0){for(let ct=0;ct>J;ct--)T.unshift(0),d.integerLen++;T.unshift(1),d.integerLen++}else T[J-1]++;for(;F<Math.max(0,H);F++)T.push(0);let ze=0!==H;const Je=p+d.integerLen,Dt=T.reduceRight(function(ct,gt,vt,Yt){return Yt[vt]=(gt+=ct)<10?gt:gt-10,ze&&(0===Yt[vt]&&vt>=Je?Yt.pop():ze=!1),gt>=10?1:0},0);Dt&&(T.unshift(Dt),d.integerLen++)}(Je,ct,gt);let vt=Je.digits,Yt=Je.integerLen;const bn=Je.exponent;let An=[];for(ze=vt.every(Pn=>!Pn);Yt<Dt;Yt++)vt.unshift(0);for(;Yt<0;Yt++)vt.unshift(0);Yt>0?An=vt.splice(Yt,vt.length):(An=vt,vt=[0]);const gr=[];for(vt.length>=p.lgSize&&gr.unshift(vt.splice(-p.lgSize,vt.length).join(""));vt.length>p.gSize;)gr.unshift(vt.splice(-p.gSize,vt.length).join(""));vt.length&&gr.unshift(vt.join("")),fe=gr.join(_n(m,T)),An.length&&(fe+=_n(m,F)+An.join("")),bn&&(fe+=_n(m,He.Exponential)+"+"+bn)}else fe=_n(m,He.Infinity);return fe=d<0&&!ze?p.negPre+fe+p.negSuf:p.posPre+fe+p.posSuf,fe}(d,function Ar(d,p="-"){const m={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},T=d.split(st),F=T[0],H=T[1],J=-1!==F.indexOf(he)?F.split(he):[F.substring(0,F.lastIndexOf(De)+1),F.substring(F.lastIndexOf(De)+1)],fe=J[0],ze=J[1]||"";m.posPre=fe.substring(0,fe.indexOf(ot));for(let Dt=0;Dt<ze.length;Dt++){const ct=ze.charAt(Dt);ct===De?m.minFrac=m.maxFrac=Dt+1:ct===ot?m.maxFrac=Dt+1:m.posSuf+=ct}const Je=fe.split(at);if(m.gSize=Je[1]?Je[1].length:0,m.lgSize=Je[2]||Je[1]?(Je[2]||Je[1]).length:0,H){const Dt=F.length-m.posPre.length-m.posSuf.length,ct=H.indexOf(ot);m.negPre=H.substring(0,ct).replace(/'/g,""),m.negSuf=H.slice(ct+Dt).replace(/'/g,"")}else m.negPre=p+m.posPre,m.negSuf=m.posSuf;return m}(function Zr(d,p){return(0,b.cg1)(d)[b.wAp.NumberFormats][p]}(p,Fe.Decimal),_n(p,He.MinusSign)),p,He.Group,He.Decimal,m)}(function rs(d){if("string"==typeof d&&!isNaN(Number(d)-parseFloat(d)))return Number(d);if("number"!=typeof d)throw new Error(`${d} is not a number`);return d}(m),F,T)}catch(H){throw function Dn(d,p){return new b.vHH(2100,!1)}()}}}return d.\u0275fac=function(m){return new(m||d)(b.Y36(b.soG,16))},d.\u0275pipe=b.Yjl({name:"number",type:d,pure:!0,standalone:!0}),d})();let Oo=(()=>{class d{}return d.\u0275fac=function(m){return new(m||d)},d.\u0275mod=b.oAB({type:d}),d.\u0275inj=b.cJS({}),d})();const ko="browser";let fr=(()=>{class d{}return d.\u0275prov=(0,b.Yz7)({token:d,providedIn:"root",factory:()=>new Fo((0,b.LFG)(me),window)}),d})();class Fo{constructor(p,m){this.document=p,this.window=m,this.offset=()=>[0,0]}setOffset(p){this.offset=Array.isArray(p)?()=>p:p}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(p){this.supportsScrolling()&&this.window.scrollTo(p[0],p[1])}scrollToAnchor(p){if(!this.supportsScrolling())return;const m=function $i(d,p){const m=d.getElementById(p)||d.getElementsByName(p)[0];if(m)return m;if("function"==typeof d.createTreeWalker&&d.body&&(d.body.createShadowRoot||d.body.attachShadow)){const T=d.createTreeWalker(d.body,NodeFilter.SHOW_ELEMENT);let F=T.currentNode;for(;F;){const H=F.shadowRoot;if(H){const J=H.getElementById(p)||H.querySelector(`[name="${p}"]`);if(J)return J}F=T.nextNode()}}return null}(this.document,p);m&&(this.scrollToElement(m),m.focus())}setHistoryScrollRestoration(p){if(this.supportScrollRestoration()){const m=this.window.history;m&&m.scrollRestoration&&(m.scrollRestoration=p)}}scrollToElement(p){const m=p.getBoundingClientRect(),T=m.left+this.window.pageXOffset,F=m.top+this.window.pageYOffset,H=this.offset();this.window.scrollTo(T-H[0],F-H[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const p=Cr(this.window.history)||Cr(Object.getPrototypeOf(this.window.history));return!(!p||!p.writable&&!p.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Cr(d){return Object.getOwnPropertyDescriptor(d,"scrollRestoration")}class Vo{}},529:(Ht,je,Q)=>{Q.d(je,{JF:()=>Yn,eN:()=>Fn});var b=Q(6895),R=Q(5675),ae=Q(1086),Ee=Q(6498),re=Q(1406),me=Q(2198),Ne=Q(4850);class Ce{}class ye{}class X{constructor(ne){this.normalizedNames=new Map,this.lazyUpdate=null,ne?this.lazyInit="string"==typeof ne?()=>{this.headers=new Map,ne.split("\n").forEach(ie=>{const xe=ie.indexOf(":");if(xe>0){const q=ie.slice(0,xe),Z=q.toLowerCase(),oe=ie.slice(xe+1).trim();this.maybeSetNormalizedName(q,Z),this.headers.has(Z)?this.headers.get(Z).push(oe):this.headers.set(Z,[oe])}})}:()=>{this.headers=new Map,Object.entries(ne).forEach(([ie,xe])=>{let q;if(q="string"==typeof xe?[xe]:"number"==typeof xe?[xe.toString()]:xe.map(Z=>Z.toString()),q.length>0){const Z=ie.toLowerCase();this.headers.set(Z,q),this.maybeSetNormalizedName(ie,Z)}})}:this.headers=new Map}has(ne){return this.init(),this.headers.has(ne.toLowerCase())}get(ne){this.init();const ie=this.headers.get(ne.toLowerCase());return ie&&ie.length>0?ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ne){return this.init(),this.headers.get(ne.toLowerCase())||null}append(ne,ie){return this.clone({name:ne,value:ie,op:"a"})}set(ne,ie){return this.clone({name:ne,value:ie,op:"s"})}delete(ne,ie){return this.clone({name:ne,value:ie,op:"d"})}maybeSetNormalizedName(ne,ie){this.normalizedNames.has(ie)||this.normalizedNames.set(ie,ne)}init(){this.lazyInit&&(this.lazyInit instanceof X?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ne=>this.applyUpdate(ne)),this.lazyUpdate=null))}copyFrom(ne){ne.init(),Array.from(ne.headers.keys()).forEach(ie=>{this.headers.set(ie,ne.headers.get(ie)),this.normalizedNames.set(ie,ne.normalizedNames.get(ie))})}clone(ne){const ie=new X;return ie.lazyInit=this.lazyInit&&this.lazyInit instanceof X?this.lazyInit:this,ie.lazyUpdate=(this.lazyUpdate||[]).concat([ne]),ie}applyUpdate(ne){const ie=ne.name.toLowerCase();switch(ne.op){case"a":case"s":let xe=ne.value;if("string"==typeof xe&&(xe=[xe]),0===xe.length)return;this.maybeSetNormalizedName(ne.name,ie);const q=("a"===ne.op?this.headers.get(ie):void 0)||[];q.push(...xe),this.headers.set(ie,q);break;case"d":const Z=ne.value;if(Z){let oe=this.headers.get(ie);if(!oe)return;oe=oe.filter(Se=>-1===Z.indexOf(Se)),0===oe.length?(this.headers.delete(ie),this.normalizedNames.delete(ie)):this.headers.set(ie,oe)}else this.headers.delete(ie),this.normalizedNames.delete(ie)}}forEach(ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(ie=>ne(this.normalizedNames.get(ie),this.headers.get(ie)))}}class le{encodeKey(ne){return lt(ne)}encodeValue(ne){return lt(ne)}decodeKey(ne){return decodeURIComponent(ne)}decodeValue(ne){return decodeURIComponent(ne)}}const Be=/%(\d[a-f0-9])/gi,Ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lt(ue){return encodeURIComponent(ue).replace(Be,(ne,ie)=>Ve[ie]??ne)}function yt(ue){return`${ue}`}class St{constructor(ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ne.encoder||new le,ne.fromString){if(ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Me(ue,ne){const ie=new Map;return ue.length>0&&ue.replace(/^\?/,"").split("&").forEach(q=>{const Z=q.indexOf("="),[oe,Se]=-1==Z?[ne.decodeKey(q),""]:[ne.decodeKey(q.slice(0,Z)),ne.decodeValue(q.slice(Z+1))],pe=ie.get(oe)||[];pe.push(Se),ie.set(oe,pe)}),ie}(ne.fromString,this.encoder)}else ne.fromObject?(this.map=new Map,Object.keys(ne.fromObject).forEach(ie=>{const xe=ne.fromObject[ie],q=Array.isArray(xe)?xe.map(yt):[yt(xe)];this.map.set(ie,q)})):this.map=null}has(ne){return this.init(),this.map.has(ne)}get(ne){this.init();const ie=this.map.get(ne);return ie?ie[0]:null}getAll(ne){return this.init(),this.map.get(ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ne,ie){return this.clone({param:ne,value:ie,op:"a"})}appendAll(ne){const ie=[];return Object.keys(ne).forEach(xe=>{const q=ne[xe];Array.isArray(q)?q.forEach(Z=>{ie.push({param:xe,value:Z,op:"a"})}):ie.push({param:xe,value:q,op:"a"})}),this.clone(ie)}set(ne,ie){return this.clone({param:ne,value:ie,op:"s"})}delete(ne,ie){return this.clone({param:ne,value:ie,op:"d"})}toString(){return this.init(),this.keys().map(ne=>{const ie=this.encoder.encodeKey(ne);return this.map.get(ne).map(xe=>ie+"="+this.encoder.encodeValue(xe)).join("&")}).filter(ne=>""!==ne).join("&")}clone(ne){const ie=new St({encoder:this.encoder});return ie.cloneFrom=this.cloneFrom||this,ie.updates=(this.updates||[]).concat(ne),ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ne=>this.map.set(ne,this.cloneFrom.map.get(ne))),this.updates.forEach(ne=>{switch(ne.op){case"a":case"s":const ie=("a"===ne.op?this.map.get(ne.param):void 0)||[];ie.push(yt(ne.value)),this.map.set(ne.param,ie);break;case"d":if(void 0===ne.value){this.map.delete(ne.param);break}{let xe=this.map.get(ne.param)||[];const q=xe.indexOf(yt(ne.value));-1!==q&&xe.splice(q,1),xe.length>0?this.map.set(ne.param,xe):this.map.delete(ne.param)}}}),this.cloneFrom=this.updates=null)}}class nt{constructor(){this.map=new Map}set(ne,ie){return this.map.set(ne,ie),this}get(ne){return this.map.has(ne)||this.map.set(ne,ne.defaultValue()),this.map.get(ne)}delete(ne){return this.map.delete(ne),this}has(ne){return this.map.has(ne)}keys(){return this.map.keys()}}function qe(ue){return typeof ArrayBuffer<"u"&&ue instanceof ArrayBuffer}function we(ue){return typeof Blob<"u"&&ue instanceof Blob}function Ke(ue){return typeof FormData<"u"&&ue instanceof FormData}class Fe{constructor(ne,ie,xe,q){let Z;if(this.url=ie,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ne.toUpperCase(),function dt(ue){switch(ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||q?(this.body=void 0!==xe?xe:null,Z=q):Z=xe,Z&&(this.reportProgress=!!Z.reportProgress,this.withCredentials=!!Z.withCredentials,Z.responseType&&(this.responseType=Z.responseType),Z.headers&&(this.headers=Z.headers),Z.context&&(this.context=Z.context),Z.params&&(this.params=Z.params)),this.headers||(this.headers=new X),this.context||(this.context=new nt),this.params){const oe=this.params.toString();if(0===oe.length)this.urlWithParams=ie;else{const Se=ie.indexOf("?");this.urlWithParams=ie+(-1===Se?"?":Se<ie.length-1?"&":"")+oe}}else this.params=new St,this.urlWithParams=ie}serializeBody(){return null===this.body?null:qe(this.body)||we(this.body)||Ke(this.body)||function kt(ue){return typeof URLSearchParams<"u"&&ue instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof St?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:we(this.body)?this.body.type||null:qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof St?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ne={}){const ie=ne.method||this.method,xe=ne.url||this.url,q=ne.responseType||this.responseType,Z=void 0!==ne.body?ne.body:this.body,oe=void 0!==ne.withCredentials?ne.withCredentials:this.withCredentials,Se=void 0!==ne.reportProgress?ne.reportProgress:this.reportProgress;let pe=ne.headers||this.headers,et=ne.params||this.params;const Nt=ne.context??this.context;return void 0!==ne.setHeaders&&(pe=Object.keys(ne.setHeaders).reduce((ce,se)=>ce.set(se,ne.setHeaders[se]),pe)),ne.setParams&&(et=Object.keys(ne.setParams).reduce((ce,se)=>ce.set(se,ne.setParams[se]),et)),new Fe(ie,xe,Z,{params:et,headers:pe,context:Nt,reportProgress:Se,responseType:q,withCredentials:oe})}}var ke=(()=>((ke=ke||{})[ke.Sent=0]="Sent",ke[ke.UploadProgress=1]="UploadProgress",ke[ke.ResponseHeader=2]="ResponseHeader",ke[ke.DownloadProgress=3]="DownloadProgress",ke[ke.Response=4]="Response",ke[ke.User=5]="User",ke))();class rt{constructor(ne,ie=200,xe="OK"){this.headers=ne.headers||new X,this.status=void 0!==ne.status?ne.status:ie,this.statusText=ne.statusText||xe,this.url=ne.url||null,this.ok=this.status>=200&&this.status<300}}class It extends rt{constructor(ne={}){super(ne),this.type=ke.ResponseHeader}clone(ne={}){return new It({headers:ne.headers||this.headers,status:void 0!==ne.status?ne.status:this.status,statusText:ne.statusText||this.statusText,url:ne.url||this.url||void 0})}}class Ft extends rt{constructor(ne={}){super(ne),this.type=ke.Response,this.body=void 0!==ne.body?ne.body:null}clone(ne={}){return new Ft({body:void 0!==ne.body?ne.body:this.body,headers:ne.headers||this.headers,status:void 0!==ne.status?ne.status:this.status,statusText:ne.statusText||this.statusText,url:ne.url||this.url||void 0})}}class He extends rt{constructor(ne){super(ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ne.url||"(unknown url)"}`:`Http failure response for ${ne.url||"(unknown url)"}: ${ne.status} ${ne.statusText}`,this.error=ne.error||null}}function nn(ue,ne){return{body:ne,headers:ue.headers,context:ue.context,observe:ue.observe,params:ue.params,reportProgress:ue.reportProgress,responseType:ue.responseType,withCredentials:ue.withCredentials}}let Fn=(()=>{class ue{constructor(ie){this.handler=ie}request(ie,xe,q={}){let Z;if(ie instanceof Fe)Z=ie;else{let pe,et;pe=q.headers instanceof X?q.headers:new X(q.headers),q.params&&(et=q.params instanceof St?q.params:new St({fromObject:q.params})),Z=new Fe(ie,xe,void 0!==q.body?q.body:null,{headers:pe,context:q.context,params:et,reportProgress:q.reportProgress,responseType:q.responseType||"json",withCredentials:q.withCredentials})}const oe=(0,ae.of)(Z).pipe((0,re.b)(pe=>this.handler.handle(pe)));if(ie instanceof Fe||"events"===q.observe)return oe;const Se=oe.pipe((0,me.h)(pe=>pe instanceof Ft));switch(q.observe||"body"){case"body":switch(Z.responseType){case"arraybuffer":return Se.pipe((0,Ne.U)(pe=>{if(null!==pe.body&&!(pe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return pe.body}));case"blob":return Se.pipe((0,Ne.U)(pe=>{if(null!==pe.body&&!(pe.body instanceof Blob))throw new Error("Response is not a Blob.");return pe.body}));case"text":return Se.pipe((0,Ne.U)(pe=>{if(null!==pe.body&&"string"!=typeof pe.body)throw new Error("Response is not a string.");return pe.body}));default:return Se.pipe((0,Ne.U)(pe=>pe.body))}case"response":return Se;default:throw new Error(`Unreachable: unhandled observe type ${q.observe}}`)}}delete(ie,xe={}){return this.request("DELETE",ie,xe)}get(ie,xe={}){return this.request("GET",ie,xe)}head(ie,xe={}){return this.request("HEAD",ie,xe)}jsonp(ie,xe){return this.request("JSONP",ie,{params:(new St).append(xe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ie,xe={}){return this.request("OPTIONS",ie,xe)}patch(ie,xe,q={}){return this.request("PATCH",ie,nn(q,xe))}post(ie,xe,q={}){return this.request("POST",ie,nn(q,xe))}put(ie,xe,q={}){return this.request("PUT",ie,nn(q,xe))}}return ue.\u0275fac=function(ie){return new(ie||ue)(R.LFG(Ce))},ue.\u0275prov=R.Yz7({token:ue,factory:ue.\u0275fac}),ue})();function Wn(ue,ne){return ne(ue)}function Ci(ue,ne){return(ie,xe)=>ne.intercept(ie,{handle:q=>ue(q,xe)})}const gi=new R.OlP("HTTP_INTERCEPTORS"),Hn=new R.OlP("HTTP_INTERCEPTOR_FNS");function yr(){let ue=null;return(ne,ie)=>(null===ue&&(ue=((0,R.f3M)(gi,{optional:!0})??[]).reduceRight(Ci,Wn)),ue(ne,ie))}let Bn=(()=>{class ue extends Ce{constructor(ie,xe){super(),this.backend=ie,this.injector=xe,this.chain=null}handle(ie){if(null===this.chain){const xe=Array.from(new Set(this.injector.get(Hn)));this.chain=xe.reduceRight((q,Z)=>function Sr(ue,ne,ie){return(xe,q)=>ie.runInContext(()=>ne(xe,Z=>ue(Z,q)))}(q,Z,this.injector),Wn)}return this.chain(ie,xe=>this.backend.handle(xe))}}return ue.\u0275fac=function(ie){return new(ie||ue)(R.LFG(ye),R.LFG(R.lqb))},ue.\u0275prov=R.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const ir=/^\)\]\}',?\n/;let Ct=(()=>{class ue{constructor(ie){this.xhrFactory=ie}handle(ie){if("JSONP"===ie.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ee.y(xe=>{const q=this.xhrFactory.build();if(q.open(ie.method,ie.urlWithParams),ie.withCredentials&&(q.withCredentials=!0),ie.headers.forEach((W,he)=>q.setRequestHeader(W,he.join(","))),ie.headers.has("Accept")||q.setRequestHeader("Accept","application/json, text/plain, */*"),!ie.headers.has("Content-Type")){const W=ie.detectContentTypeHeader();null!==W&&q.setRequestHeader("Content-Type",W)}if(ie.responseType){const W=ie.responseType.toLowerCase();q.responseType="json"!==W?W:"text"}const Z=ie.serializeBody();let oe=null;const Se=()=>{if(null!==oe)return oe;const W=q.statusText||"OK",he=new X(q.getAllResponseHeaders()),De=function vn(ue){return"responseURL"in ue&&ue.responseURL?ue.responseURL:/^X-Request-URL:/m.test(ue.getAllResponseHeaders())?ue.getResponseHeader("X-Request-URL"):null}(q)||ie.url;return oe=new It({headers:he,status:q.status,statusText:W,url:De}),oe},pe=()=>{let{headers:W,status:he,statusText:De,url:st}=Se(),at=null;204!==he&&(at=typeof q.response>"u"?q.responseText:q.response),0===he&&(he=at?200:0);let ot=he>=200&&he<300;if("json"===ie.responseType&&"string"==typeof at){const an=at;at=at.replace(ir,"");try{at=""!==at?JSON.parse(at):null}catch(Yi){at=an,ot&&(ot=!1,at={error:Yi,text:at})}}ot?(xe.next(new Ft({body:at,headers:W,status:he,statusText:De,url:st||void 0})),xe.complete()):xe.error(new He({error:at,headers:W,status:he,statusText:De,url:st||void 0}))},et=W=>{const{url:he}=Se(),De=new He({error:W,status:q.status||0,statusText:q.statusText||"Unknown Error",url:he||void 0});xe.error(De)};let Nt=!1;const ce=W=>{Nt||(xe.next(Se()),Nt=!0);let he={type:ke.DownloadProgress,loaded:W.loaded};W.lengthComputable&&(he.total=W.total),"text"===ie.responseType&&q.responseText&&(he.partialText=q.responseText),xe.next(he)},se=W=>{let he={type:ke.UploadProgress,loaded:W.loaded};W.lengthComputable&&(he.total=W.total),xe.next(he)};return q.addEventListener("load",pe),q.addEventListener("error",et),q.addEventListener("timeout",et),q.addEventListener("abort",et),ie.reportProgress&&(q.addEventListener("progress",ce),null!==Z&&q.upload&&q.upload.addEventListener("progress",se)),q.send(Z),xe.next({type:ke.Sent}),()=>{q.removeEventListener("error",et),q.removeEventListener("abort",et),q.removeEventListener("load",pe),q.removeEventListener("timeout",et),ie.reportProgress&&(q.removeEventListener("progress",ce),null!==Z&&q.upload&&q.upload.removeEventListener("progress",se)),q.readyState!==q.DONE&&q.abort()}})}}return ue.\u0275fac=function(ie){return new(ie||ue)(R.LFG(b.JF))},ue.\u0275prov=R.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const rn=new R.OlP("XSRF_ENABLED"),jr=new R.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ye=new R.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class In{}let fn=(()=>{class ue{constructor(ie,xe,q){this.doc=ie,this.platform=xe,this.cookieName=q,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ie=this.doc.cookie||"";return ie!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b.Mx)(ie,this.cookieName),this.lastCookieString=ie),this.lastToken}}return ue.\u0275fac=function(ie){return new(ie||ue)(R.LFG(b.K0),R.LFG(R.Lbi),R.LFG(jr))},ue.\u0275prov=R.Yz7({token:ue,factory:ue.\u0275fac}),ue})();function pn(ue,ne){const ie=ue.url.toLowerCase();if(!(0,R.f3M)(rn)||"GET"===ue.method||"HEAD"===ue.method||ie.startsWith("http://")||ie.startsWith("https://"))return ne(ue);const xe=(0,R.f3M)(In).getToken(),q=(0,R.f3M)(Ye);return null!=xe&&!ue.headers.has(q)&&(ue=ue.clone({headers:ue.headers.set(q,xe)})),ne(ue)}var We=(()=>((We=We||{})[We.Interceptors=0]="Interceptors",We[We.LegacyInterceptors=1]="LegacyInterceptors",We[We.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",We[We.NoXsrfProtection=3]="NoXsrfProtection",We[We.JsonpSupport=4]="JsonpSupport",We[We.RequestsMadeViaParent=5]="RequestsMadeViaParent",We))();function hr(ue,ne){return{\u0275kind:ue,\u0275providers:ne}}function Tr(...ue){const ne=[Fn,Ct,Bn,{provide:Ce,useExisting:Bn},{provide:ye,useExisting:Ct},{provide:Hn,useValue:pn,multi:!0},{provide:rn,useValue:!0},{provide:In,useClass:fn}];for(const ie of ue)ne.push(...ie.\u0275providers);return(0,R.MR2)(ne)}const En=new R.OlP("LEGACY_INTERCEPTOR_FN");let Yn=(()=>{class ue{}return ue.\u0275fac=function(ie){return new(ie||ue)},ue.\u0275mod=R.oAB({type:ue}),ue.\u0275inj=R.cJS({providers:[Tr(hr(We.LegacyInterceptors,[{provide:En,useFactory:yr},{provide:Hn,useExisting:En,multi:!0}]))]}),ue})()},5675:(Ht,je,Q)=>{Q.d(je,{QbO:()=>nw,tb:()=>Up,AFp:()=>ew,ip1:()=>Hu,CZH:()=>qh,hGG:()=>e_,z2F:()=>zp,sBO:()=>SI,Sil:()=>EI,_Vd:()=>Rl,EJc:()=>Kh,Xts:()=>Lg,SBq:()=>Ud,lqb:()=>el,qLn:()=>Bd,vpe:()=>Ao,XFs:()=>xt,OlP:()=>er,zs3:()=>uu,ZZ4:()=>rf,aQg:()=>Qy,soG:()=>mu,YKP:()=>DE,h0i:()=>ha,PXZ:()=>hw,R0b:()=>ma,FiY:()=>Yu,Lbi:()=>mI,g9A:()=>Wh,Qsj:()=>K_,FYo:()=>Wg,JOm:()=>ls,tp0:()=>au,Rgc:()=>Lh,dDg:()=>$y,eoX:()=>lw,q4F:()=>Q_,GfV:()=>Ob,s_b:()=>fa,ifc:()=>ce,MMx:()=>Tp,Lck:()=>Qo,eFA:()=>Gy,Gpc:()=>Be,f3M:()=>ie,$WT:()=>Qn,MR2:()=>Bg,_c5:()=>Jy,c2e:()=>yI,zSh:()=>Gg,wAp:()=>Qt,vHH:()=>nt,lri:()=>Uy,rWj:()=>By,D6c:()=>t_,cg1:()=>Wl,kL8:()=>Lm,dqk:()=>We,Z0I:()=>yi,eJc:()=>Bu,CqO:()=>bm,QGY:()=>ip,F4k:()=>Wc,RDi:()=>kD,AaK:()=>Y,qOj:()=>Lc,TTD:()=>Cr,_Bn:()=>ey,jDz:()=>TE,xp6:()=>Ks,uIk:()=>Jf,Gre:()=>dl,ekj:()=>qv,Suo:()=>zE,Xpm:()=>Tn,lG2:()=>Hr,Yz7:()=>Nn,cJS:()=>mi,oAB:()=>Ar,Yjl:()=>Mr,Y36:()=>rl,_UZ:()=>np,qZA:()=>ul,TgZ:()=>zc,n5z:()=>bd,LFG:()=>ue,$8M:()=>Ca,$Z:()=>$f,NdJ:()=>sp,CRH:()=>vy,kcU:()=>ba,O4$:()=>ra,oxw:()=>Cm,ALo:()=>cd,xi3:()=>Sp,Hsn:()=>Am,F$t:()=>Sm,Q6J:()=>Ha,s9C:()=>ap,DdM:()=>ic,VKq:()=>iy,iGM:()=>HE,LSH:()=>kg,P3R:()=>Fg,YNc:()=>Em,_uU:()=>Rm,Oqu:()=>Pm,hij:()=>Ga});var b=Q(5529),R=Q(2654),ae=Q(6498),Ee=Q(2866),re=Q(9146),me=Q(3009),Ce=Q(2474);function ye(i){for(let s in i)if(i[s]===ye)return s;throw Error("Could not find renamed property on target object.")}function X(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Y(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Y).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Me=ye({__forward_ref__:ye});function Be(i){return i.__forward_ref__=Be,i.toString=function(){return Y(this())},i}function Ve(i){return lt(i)?i():i}function lt(i){return"function"==typeof i&&i.hasOwnProperty(Me)&&i.__forward_ref__===Be}function yt(i){return i&&!!i.\u0275providers}const zt="https://g.co/ng/security#xss";class nt extends Error{constructor(s,o){super(dt(s,o)),this.code=s}}function dt(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function qe(i){return"string"==typeof i?i:null==i?"":String(i)}function ke(i,s){throw new nt(-201,!1)}function Kn(i,s){null==i&&function Ut(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function Nn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function mi(i){return{providers:i.providers||[],imports:i.imports||[]}}function Br(i){return $r(i,Ct)||$r(i,_i)}function yi(i){return null!==Br(i)}function $r(i,s){return i.hasOwnProperty(s)?i[s]:null}function vn(i){return i&&(i.hasOwnProperty(rn)||i.hasOwnProperty(jr))?i[rn]:null}const Ct=ye({\u0275prov:ye}),rn=ye({\u0275inj:ye}),_i=ye({ngInjectableDef:ye}),jr=ye({ngInjectorDef:ye});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let Ye;function fn(i){const s=Ye;return Ye=i,s}function pn(i,s,o){const u=Br(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&xt.Optional?null:void 0!==s?s:void ke(Y(i))}const We=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),En={},Zn="__NG_DI_FLAG__",Si="ngTempTokenPath",wn="ngTokenPath",Vt=/\n/gm,tn="\u0275",Ui="__source";let Yn;function Qe(i){const s=Yn;return Yn=i,s}function Pe(i,s=xt.Default){if(void 0===Yn)throw new nt(-203,!1);return null===Yn?pn(i,void 0,s):Yn.get(i,s&xt.Optional?null:void 0,s)}function ue(i,s=xt.Default){return(function In(){return Ye}()||Pe)(Ve(i),s)}function ie(i,s=xt.Default){return ue(i,xe(s))}function xe(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function q(i){const s=[];for(let o=0;o<i.length;o++){const u=Ve(i[o]);if(Array.isArray(u)){if(0===u.length)throw new nt(900,!1);let c,h=xt.Default;for(let _=0;_<u.length;_++){const I=u[_],M=oe(I);"number"==typeof M?-1===M?c=I.token:h|=M:c=I}s.push(ue(c,h))}else s.push(ue(u))}return s}function Z(i,s){return i[Zn]=s,i.prototype[Zn]=s,i}function oe(i){return i[Zn]}function et(i){return{toString:i}.toString()}var Nt=(()=>((Nt=Nt||{})[Nt.OnPush=0]="OnPush",Nt[Nt.Default=1]="Default",Nt))(),ce=(()=>{return(i=ce||(ce={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ce;var i})();const se={},W=[],he=ye({\u0275cmp:ye}),De=ye({\u0275dir:ye}),st=ye({\u0275pipe:ye}),at=ye({\u0275mod:ye}),ot=ye({\u0275fac:ye}),an=ye({__NG_ELEMENT_ID__:ye});let Yi=0;function Tn(i){return et(()=>{const s=ni(i),o={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||ce.Emulated,id:"c"+Yi++,styles:i.styles||W,_:null,schemas:i.schemas||null,tView:null};gs(o);const u=i.dependencies;return o.directiveDefs=es(u,!1),o.pipeDefs=es(u,!0),o})}function Xs(i){return on(i)||sr(i)}function Js(i){return null!==i}function Ar(i){return et(()=>({type:i.type,bootstrap:i.bootstrap||W,declarations:i.declarations||W,imports:i.imports||W,exports:i.exports||W,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ji(i,s){if(null==i)return se;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,s&&(s[c]=h)}return o}function Hr(i){return et(()=>{const s=ni(i);return gs(s),s})}function Mr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function on(i){return i[he]||null}function sr(i){return i[De]||null}function _r(i){return i[st]||null}function Qn(i){const s=on(i)||sr(i)||_r(i);return null!==s&&s.standalone}function $n(i,s){const o=i[at]||null;if(!o&&!0===s)throw new Error(`Type ${Y(i)} does not have '\u0275mod' property.`);return o}function ni(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||W,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ji(i.inputs,s),outputs:Ji(i.outputs)}}function gs(i){i.features?.forEach(s=>s(i))}function es(i,s){if(!i)return null;const o=s?_r:Xs;return()=>("function"==typeof i?i():i).map(u=>o(u)).filter(Js)}const ri=0,ht=1,qt=2,un=3,Gr=4,ii=5,Rn=6,zr=7,Xn=8,vi=9,Ai=10,en=11,ts=12,eo=13,_u=14,Bi=15,or=16,Ei=17,Os=18,wi=19,Dn=20,Mi=21,Cn=22,ks=1,xi=2,to=7,Fs=8,ms=9,Vn=10;function vr(i){return Array.isArray(i)&&"object"==typeof i[ks]}function qr(i){return Array.isArray(i)&&!0===i[ks]}function si(i){return 0!=(4&i.flags)}function Yr(i){return i.componentOffset>-1}function Ni(i){return 1==(1&i.flags)}function ar(i){return!!i.template}function ns(i){return 0!=(256&i[qt])}function fr(i,s){return i.hasOwnProperty(ot)?i[ot]:null}class Fo{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Cr(){return $i}function $i(i){return i.type.prototype.ngOnChanges&&(i.setInput=Vo),Lo}function Lo(){const i=oi(this),s=i?.current;if(s){const o=i.previous;if(o===se)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Vo(i,s,o,u){const c=this.declaredInputs[o],h=oi(i)||function Uo(i,s){return i[_s]=s}(i,{previous:se,current:null}),_=h.current||(h.current={}),I=h.previous,M=I[c];_[c]=new Fo(M&&M.currentValue,s,I===se),i[u]=s}Cr.ngInherit=!0;const _s="__ngSimpleChanges__";function oi(i){return i[_s]||null}const xr=function(i,s,o){},Qr="svg";function Mn(i){for(;Array.isArray(i);)i=i[ri];return i}function vs(i,s){return Mn(s[i])}function ur(i,s){return Mn(s[i.index])}function ao(i,s){return i.data[s]}function lr(i,s){const o=s[i];return vr(o)?o:o[ri]}function uo(i){return 64==(64&i[qt])}function pr(i,s){return null==s?null:i[s]}function ss(i){i[Os]=0}function _o(i,s){i[ii]+=s;let o=i,u=i[un];for(;null!==u&&(1===s&&1===o[ii]||-1===s&&0===o[ii]);)u[ii]+=s,o=u,u=u[un]}const $t={lFrame:wa(null),bindingsEnabled:!0};function j(){return $t.bindingsEnabled}function Oe(){return $t.lFrame.lView}function Kt(){return $t.lFrame.tView}function Sn(){let i=Rr();for(;null!==i&&64===i.type;)i=i.parent;return i}function Rr(){return $t.lFrame.currentTNode}function ai(i,s){const o=$t.lFrame;o.currentTNode=i,o.isParent=s}function jo(){return $t.lFrame.isParent}function ta(){$t.lFrame.isParent=!1}function ui(){const i=$t.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function os(){return $t.lFrame.bindingIndex++}function Gi(i){const s=$t.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function vu(i,s){const o=$t.lFrame;o.bindingIndex=o.bindingRootIndex=i,Ea(s)}function Ea(i){$t.lFrame.currentDirectiveIndex=i}function Eu(){return $t.lFrame.currentQueryIndex}function na(i){$t.lFrame.currentQueryIndex=i}function wd(i){const s=i[ht];return 2===s.type?s.declTNode:1===s.type?i[Rn]:null}function wu(i,s,o){if(o&xt.SkipSelf){let c=s,h=i;for(;!(c=c.parent,null!==c||o&xt.Host||(c=wd(h),null===c||(h=h[Bi],10&c.type))););if(null===c)return!1;s=c,i=h}const u=$t.lFrame=co();return u.currentTNode=s,u.lView=i,!0}function Eo(i){const s=co(),o=i[ht];$t.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function co(){const i=$t.lFrame,s=null===i?null:i.child;return null===s?wa(i):s}function wa(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function wo(){const i=$t.lFrame;return $t.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Go=wo;function Qa(){const i=wo();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function bi(){return $t.lFrame.selectedIndex}function Hs(i){$t.lFrame.selectedIndex=i}function ln(){const i=$t.lFrame;return ao(i.tView,i.selectedIndex)}function ra(){$t.lFrame.currentNamespace=Qr}function ba(){!function bu(){$t.lFrame.currentNamespace=null}()}function d(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:M,ngAfterViewChecked:V,ngOnDestroy:G}=h;_&&(i.contentHooks??(i.contentHooks=[])).push(-o,_),I&&((i.contentHooks??(i.contentHooks=[])).push(o,I),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(o,I)),M&&(i.viewHooks??(i.viewHooks=[])).push(-o,M),V&&((i.viewHooks??(i.viewHooks=[])).push(o,V),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(o,V)),null!=G&&(i.destroyHooks??(i.destroyHooks=[])).push(o,G)}}function p(i,s,o){F(i,s,3,o)}function m(i,s,o,u){(3&i[qt])===o&&F(i,s,o,u)}function T(i,s){let o=i[qt];(3&o)===s&&(o&=2047,o+=1,i[qt]=o)}function F(i,s,o,u){const h=u??-1,_=s.length-1;let I=0;for(let M=void 0!==u?65535&i[Os]:0;M<_;M++)if("number"==typeof s[M+1]){if(I=s[M],null!=u&&I>=u)break}else s[M]<0&&(i[Os]+=65536),(I<h||-1==h)&&(H(i,o,s,M),i[Os]=(4294901760&i[Os])+M+2),M++}function H(i,s,o,u){const c=o[u]<0,h=o[u+1],I=i[c?-o[u]:o[u]];if(c){if(i[qt]>>11<i[Os]>>16&&(3&i[qt])===s){i[qt]+=2048,xr(4,I,h);try{h.call(I)}finally{xr(5,I,h)}}}else{xr(4,I,h);try{h.call(I)}finally{xr(5,I,h)}}}const J=-1;class fe{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function An(i,s,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const h=o[u++],_=o[u++],I=o[u++];i.setAttribute(s,_,I,h)}else{const h=c,_=o[++u];Pn(h)?i.setProperty(s,h,_):i.setAttribute(s,h,_),u++}}return u}function gr(i){return 3===i||4===i||6===i}function Pn(i){return 64===i.charCodeAt(0)}function li(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||Pr(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function Pr(i,s,o,u,c){let h=0,_=i.length;if(-1===s)_=-1;else for(;h<i.length;){const I=i[h++];if("number"==typeof I){if(I===s){_=-1;break}if(I>s){_=h-1;break}}}for(;h<i.length;){const I=i[h];if("number"==typeof I)break;if(I===o){if(null===u)return void(null!==c&&(i[h+1]=c));if(u===i[h+1])return void(i[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==_&&(i.splice(_,0,s),h=_+1),i.splice(h++,0,o),null!==u&&i.splice(h++,0,u),null!==c&&i.splice(h++,0,c)}function Er(i){return i!==J}function as(i){return 32767&i}function Or(i,s){let o=function Gs(i){return i>>16}(i),u=s;for(;o>0;)u=u[Bi],o--;return u}let Ia=!0;function ho(i){const s=Ia;return Ia=i,s}const Ta=255,Ja=5;let Mt=0;const At={};function gn(i,s){const o=bs(i,s);if(-1!==o)return o;const u=s[ht];u.firstCreatePass&&(i.injectorIndex=s.length,Kr(u.data,i),Kr(s,null),Kr(u.blueprint,null));const c=zi(i,s),h=i.injectorIndex;if(Er(c)){const _=as(c),I=Or(c,s),M=I[ht].data;for(let V=0;V<8;V++)s[h+V]=I[_+V]|M[_+V]}return s[h+8]=c,h}function Kr(i,s){i.push(0,0,0,0,0,0,0,0,s)}function bs(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function zi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){if(u=Id(c),null===u)return J;if(o++,c=c[Bi],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return J}function zs(i,s,o){!function Zt(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(an)&&(u=o[an]),null==u&&(u=o[an]=Mt++);const c=u&Ta;s.data[i+(c>>Ja)]|=1<<c}(i,s,o)}function Is(i,s,o){if(o&xt.Optional||void 0!==i)return i;ke()}function eu(i,s,o,u){if(o&xt.Optional&&void 0===u&&(u=null),!(o&(xt.Self|xt.Host))){const c=i[vi],h=fn(void 0);try{return c?c.get(s,u,o&xt.Optional):pn(s,u,o&xt.Optional)}finally{fn(h)}}return Is(u,0,o)}function kr(i,s,o,u=xt.Default,c){if(null!==i){if(1024&s[qt]){const _=function Ku(i,s,o,u,c){let h=i,_=s;for(;null!==h&&null!==_&&1024&_[qt]&&!(256&_[qt]);){const I=Oi(h,_,o,u|xt.Self,At);if(I!==At)return I;let M=h.parent;if(!M){const V=_[Mi];if(V){const G=V.get(o,At,u);if(G!==At)return G}M=Id(_),_=_[Bi]}h=M}return c}(i,s,o,u,At);if(_!==At)return _}const h=Oi(i,s,o,u,At);if(h!==At)return h}return eu(s,o,u,c)}function Oi(i,s,o,u,c){const h=function br(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(an)?i[an]:void 0;return"number"==typeof s?s>=0?s&Ta:cc:s}(o);if("function"==typeof h){if(!wu(s,i,u))return u&xt.Host?Is(c,0,u):eu(s,o,u,c);try{const _=h(u);if(null!=_||u&xt.Optional)return _;ke()}finally{Go()}}else if("number"==typeof h){let _=null,I=bs(i,s),M=J,V=u&xt.Host?s[or][Rn]:null;for((-1===I||u&xt.SkipSelf)&&(M=-1===I?zi(i,s):s[I+8],M!==J&&Wu(u,!1)?(_=s[ht],I=as(M),s=Or(M,s)):I=-1);-1!==I;){const G=s[ht];if(qu(h,I,G.data)){const te=qi(I,s,o,_,u,V);if(te!==At)return te}M=s[I+8],M!==J&&Wu(u,s[ht].data[I+8]===V)&&qu(h,I,s)?(_=G,I=as(M),s=Or(M,s)):I=-1}}return c}function qi(i,s,o,u,c,h){const _=s[ht],I=_.data[i+8],G=fo(I,_,o,null==u?Yr(I)&&Ia:u!=_&&0!=(3&I.type),c&xt.Host&&h===I);return null!==G?ci(s,_,G,I):At}function fo(i,s,o,u,c){const h=i.providerIndexes,_=s.data,I=1048575&h,M=i.directiveStart,G=h>>20,de=c?I+G:i.directiveEnd;for(let be=u?I:I+G;be<de;be++){const Ue=_[be];if(be<M&&o===Ue||be>=M&&Ue.type===o)return be}if(c){const be=_[M];if(be&&ar(be)&&be.type===o)return M}return null}function ci(i,s,o,u){let c=i[o];const h=s.data;if(function ze(i){return i instanceof fe}(c)){const _=c;_.resolving&&function Ke(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new nt(-200,`Circular dependency in DI detected for ${i}${o}`)}(function we(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():qe(i)}(h[o]));const I=ho(_.canSeeViewProviders);_.resolving=!0;const M=_.injectImpl?fn(_.injectImpl):null;wu(i,u,xt.Default);try{c=i[o]=_.factory(void 0,h,i,u),s.firstCreatePass&&o>=u.directiveStart&&function y(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(u){const _=$i(s);(o.preOrderHooks??(o.preOrderHooks=[])).push(i,_),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,_)}c&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-i,c),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==M&&fn(M),ho(I),_.resolving=!1,Go()}}return c}function qu(i,s,o){return!!(o[s+(i>>Ja)]&1<<i)}function Wu(i,s){return!(i&xt.Self||i&xt.Host&&s)}class tu{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return kr(this._tNode,this._lView,s,xe(u),o)}}function cc(){return new tu(Sn(),Oe())}function bd(i){return et(()=>{const s=i.prototype.constructor,o=s[ot]||dc(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const h=c[ot]||dc(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function dc(i){return lt(i)?()=>{const s=dc(Ve(i));return s&&s()}:fr(i)}function Id(i){const s=i[ht],o=s.type;return 2===o?s.declTNode:1===o?i[Rn]:null}function Ca(i){return function wr(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(gr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===s)return o[c+1];c+=2}}}return null}(Sn(),i)}const Sa="__parameters__";function ru(i,s,o){return et(()=>{const u=function fc(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...h){if(this instanceof c)return u.apply(this,h),this;const _=new c(...h);return I.annotation=_,I;function I(M,V,G){const te=M.hasOwnProperty(Sa)?M[Sa]:Object.defineProperty(M,Sa,{value:[]})[Sa];for(;te.length<=G;)te.push(null);return(te[G]=te[G]||[]).push(_),M}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class er{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Nn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zo(i,s){i.forEach(o=>Array.isArray(o)?zo(o,s):s(o))}function Cl(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function mc(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function su(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}function Ws(i,s,o){let u=Ma(i,s);return u>=0?i[1|u]=o:(u=~u,function Iu(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function La(i,s){const o=Ma(i,s);if(o>=0)return i[1|o]}function Ma(i,s){return function Cd(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const h=u+(c-u>>1),_=i[h<<o];if(s===_)return h<<o;_>s?c=h:u=h+1}return~(c<<o)}(i,s,1)}const Yu=Z(ru("Optional"),8),au=Z(ru("SkipSelf"),4);var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();const fg=new Map;let pg=0;const vc="__ngContext__";function go(i,s){vr(s)?(i[vc]=s[Dn],function qw(i){fg.set(i[Dn],i)}(s)):i[vc]=s}let yg;function _g(i,s){return yg(i,s)}function xd(i){const s=i[un];return qr(s)?s[un]:s}function vg(i){return __(i[eo])}function _f(i){return __(i[Gr])}function __(i){for(;null!==i&&!qr(i);)i=i[Gr];return i}function Xu(i,s,o,u,c){if(null!=u){let h,_=!1;qr(u)?h=u:vr(u)&&(_=!0,u=u[ri]);const I=Mn(u);0===i&&null!==o?null==c?wf(s,o,I):Ec(s,o,I,c||null,!0):1===i&&null!==o?Ec(s,o,I,c||null,!0):2===i?function A_(i,s,o){const u=Dg(i,s);u&&function rb(i,s,o,u){i.removeChild(s,o,u)}(i,u,s,o)}(s,I,_):3===i&&s.destroyNode(I),null!=h&&function MD(i,s,o,u,c){const h=o[to];h!==Mn(o)&&Xu(s,i,u,h,c);for(let I=Vn;I<o.length;I++){const M=o[I];bf(M[ht],M,i,s,u,h)}}(s,i,h,o,c)}}function vf(i,s,o){return i.createElement(s,o)}function I_(i,s){const o=i[ms],u=o.indexOf(s),c=s[un];512&s[qt]&&(s[qt]&=-513,_o(c,-1)),o.splice(u,1)}function Eg(i,s){if(i.length<=Vn)return;const o=Vn+s,u=i[o];if(u){const c=u[Ei];null!==c&&c!==i&&I_(c,u),s>0&&(i[o-1][Gr]=u[Gr]);const h=mc(i,Vn+s);!function CD(i,s){bf(i,s,s[en],2,null,null),s[ri]=null,s[Rn]=null}(u[ht],u);const _=h[wi];null!==_&&_.detachView(h[ht]),u[un]=null,u[Gr]=null,u[qt]&=-65}return u}function wg(i,s){if(!(128&s[qt])){const o=s[en];o.destroyNode&&bf(i,s,o,3,null,null),function eb(i){let s=i[eo];if(!s)return bg(i[ht],i);for(;s;){let o=null;if(vr(s))o=s[eo];else{const u=s[Vn];u&&(o=u)}if(!o){for(;s&&!s[Gr]&&s!==i;)vr(s)&&bg(s[ht],s),s=s[un];null===s&&(s=i),vr(s)&&bg(s[ht],s),o=s&&s[Gr]}s=o}}(s)}}function bg(i,s){if(!(128&s[qt])){s[qt]&=-65,s[qt]|=128,function D_(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof fe)){const h=o[u+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const I=c[h[_]],M=h[_+1];xr(4,I,M);try{M.call(I)}finally{xr(5,I,M)}}else{xr(4,c,h);try{h.call(c)}finally{xr(5,c,h)}}}}}(i,s),function SD(i,s){const o=i.cleanup,u=s[zr];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+3];_>=0?u[c=_]():u[c=-_].unsubscribe(),h+=2}else{const _=u[c=o[h+1]];o[h].call(_)}if(null!==u){for(let h=c+1;h<u.length;h++)(0,u[h])();s[zr]=null}}(i,s),1===s[ht].type&&s[en].destroy();const o=s[Ei];if(null!==o&&qr(s[un])){o!==s[un]&&I_(o,s);const u=s[wi];null!==u&&u.detachView(i)}!function gg(i){fg.delete(i[Dn])}(s)}}function Ef(i,s,o){return function Ig(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[ri];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:h}=i.data[u.directiveStart+c];if(h===ce.None||h===ce.Emulated)return null}return ur(u,o)}}(i,s.parent,o)}function Ec(i,s,o,u,c){i.insertBefore(s,o,u,c)}function wf(i,s,o){i.appendChild(s,o)}function T_(i,s,o,u,c){null!==u?Ec(i,s,o,u,c):wf(i,s,o)}function Dg(i,s){return i.parentNode(s)}function sb(i,s,o){return ab(i,s,o)}let C_,N_,Ag,ab=function ob(i,s,o){return 40&i.type?ur(i,o):null};function Tg(i,s,o,u){const c=Ef(i,u,s),h=s[en],I=sb(u.parent||s[Rn],u,s);if(null!=c)if(Array.isArray(o))for(let M=0;M<o.length;M++)T_(h,c,o[M],I,!1);else T_(h,c,o,I,!1);void 0!==C_&&C_(h,u,s,o,c)}function Cg(i,s){if(null!==s){const o=s.type;if(3&o)return ur(s,i);if(4&o)return S_(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return Cg(i,u);{const c=i[s.index];return qr(c)?S_(-1,c):Mn(c)}}if(32&o)return _g(s,i)()||Mn(i[s.index]);{const u=lb(i,s);return null!==u?Array.isArray(u)?u[0]:Cg(xd(i[or]),u):Cg(i,s.next)}}return null}function lb(i,s){return null!==s?i[or][Rn].projection[s.projection]:null}function S_(i,s){const o=Vn+i+1;if(o<s.length){const u=s[o],c=u[ht].firstChild;if(null!==c)return Cg(u,c)}return s[to]}function M_(i,s,o,u,c,h,_){for(;null!=o;){const I=u[o.index],M=o.type;if(_&&0===s&&(I&&go(Mn(I),u),o.flags|=2),32!=(32&o.flags))if(8&M)M_(i,s,o.child,u,c,h,!1),Xu(s,i,c,I,h);else if(32&M){const V=_g(o,u);let G;for(;G=V();)Xu(s,i,c,G,h);Xu(s,i,c,I,h)}else 16&M?cb(i,s,u,o,c,h):Xu(s,i,c,I,h);o=_?o.projectionNext:o.next}}function bf(i,s,o,u,c,h){M_(o,u,i.firstChild,s,c,h,!1)}function cb(i,s,o,u,c,h){const _=o[or],M=_[Rn].projection[u.projection];if(Array.isArray(M))for(let V=0;V<M.length;V++)Xu(s,i,c,M[V],h);else M_(i,s,M,_[un],c,h,!0)}function db(i,s,o){""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o)}function hb(i,s,o){const{mergedAttrs:u,classes:c,styles:h}=o;null!==u&&An(i,s,u),null!==c&&db(i,s,c),null!==h&&function ND(i,s,o){i.setAttribute(s,"style",o)}(i,s,h)}function kD(i){N_=i}function mb(i){return function R_(){if(void 0===Ag&&(Ag=null,We.trustedTypes))try{Ag=We.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ag}()?.createScriptURL(i)||i}class yb{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zt})`}}function Al(i){return i instanceof yb?i.changingThisBreaksApplicationSecurity:i}function If(i,s){const o=function $D(i){return i instanceof yb&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${zt})`)}return o===s}const zD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Di=(()=>((Di=Di||{})[Di.NONE=0]="NONE",Di[Di.HTML=1]="HTML",Di[Di.STYLE=2]="STYLE",Di[Di.SCRIPT=3]="SCRIPT",Di[Di.URL=4]="URL",Di[Di.RESOURCE_URL=5]="RESOURCE_URL",Di))();function kg(i){const s=kd();return s?s.sanitize(Di.URL,i)||"":If(i,"URL")?Al(i):function P_(i){return(i=String(i)).match(zD)?i:"unsafe:"+i}(qe(i))}function L_(i){const s=kd();if(s)return mb(s.sanitize(Di.RESOURCE_URL,i)||"");if(If(i,"ResourceURL"))return mb(Al(i));throw new nt(904,!1)}function Fg(i,s,o){return function Df(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?L_:kg}(s,o)(i)}function kd(){const i=Oe();return i&&i[ts]}const Lg=new er("ENVIRONMENT_INITIALIZER"),Vg=new er("INJECTOR",-1),Tf=new er("INJECTOR_DEF_TYPES");class Ug{get(s,o=En){if(o===En){const u=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw u.name="NullInjectorError",u}return o}}function Bg(i){return{\u0275providers:i}}function U_(...i){return{\u0275providers:bc(0,i),\u0275fromNgModule:!0}}function bc(i,...s){const o=[],u=new Set;let c;return zo(s,h=>{const _=h;Fd(_,o,[],u)&&(c||(c=[]),c.push(_))}),void 0!==c&&B_(c,o),o}function B_(i,s){for(let o=0;o<i.length;o++){const{providers:c}=i[o];$g(c,h=>{s.push(h)})}}function Fd(i,s,o,u){if(!(i=Ve(i)))return!1;let c=null,h=vn(i);const _=!h&&on(i);if(h||_){if(_&&!_.standalone)return!1;c=i}else{const M=i.ngModule;if(h=vn(M),!h)return!1;c=M}const I=u.has(c);if(_){if(I)return!1;if(u.add(c),_.dependencies){const M="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const V of M)Fd(V,s,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let V;u.add(c);try{zo(h.imports,G=>{Fd(G,s,o,u)&&(V||(V=[]),V.push(G))})}finally{}void 0!==V&&B_(V,s)}if(!I){const V=fr(c)||(()=>new c);s.push({provide:c,useFactory:V,deps:W},{provide:Tf,useValue:c,multi:!0},{provide:Lg,useValue:()=>ue(c),multi:!0})}const M=h.providers;null==M||I||$g(M,G=>{s.push(G)})}}return c!==i&&void 0!==i.providers}function $g(i,s){for(let o of i)yt(o)&&(o=o.\u0275providers),Array.isArray(o)?$g(o,s):s(o)}const jg=ye({provide:String,useValue:ye});function Cf(i){return null!==i&&"object"==typeof i&&jg in i}function xl(i){return"function"==typeof i}const Gg=new er("Set Injector scope."),Nl={},zg={};let Ld;function Ic(){return void 0===Ld&&(Ld=new Ug),Ld}class el{}class j_ extends el{get destroyed(){return this._destroyed}constructor(s,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qg(s,_=>this.processProvider(_)),this.records.set(Vg,Tc(void 0,this)),c.has("environment")&&this.records.set(el,Tc(void 0,this));const h=this.records.get(Gg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Tf.multi,W,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=Qe(this),u=fn(void 0);try{return s()}finally{Qe(o),fn(u)}}get(s,o=En,u=xt.Default){this.assertNotDestroyed(),u=xe(u);const c=Qe(this),h=fn(void 0);try{if(!(u&xt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const M=function Mb(i){return"function"==typeof i||"object"==typeof i&&i instanceof er}(s)&&Br(s);I=M&&this.injectableDefInScope(M)?Tc(Af(s),Nl):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(u&xt.Self?Ic():this.parent).get(s,o=u&xt.Optional&&o===En?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[Si]=_[Si]||[]).unshift(Y(s)),c)throw _;return function Se(i,s,o,u){const c=i[Si];throw s[Ui]&&c.unshift(s[Ui]),i.message=function pe(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==tn?i.slice(2):i;let c=Y(s);if(Array.isArray(s))c=s.map(Y).join(" -> ");else if("object"==typeof s){let h=[];for(let _ in s)if(s.hasOwnProperty(_)){let I=s[_];h.push(_+":"+("string"==typeof I?JSON.stringify(I):Y(I)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(Vt,"\n  ")}`}("\n"+i.message,c,o,u),i[wn]=c,i[Si]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{fn(h),Qe(c)}}resolveInjectorInitializers(){const s=Qe(this),o=fn(void 0);try{const u=this.get(Lg.multi,W,xt.Self);for(const c of u)c()}finally{Qe(s),fn(o)}}toString(){const s=[],o=this.records;for(const u of o.keys())s.push(Y(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(s){let o=xl(s=Ve(s))?s:Ve(s&&s.provide);const u=function H_(i){return Cf(i)?Tc(void 0,i.useValue):Tc(G_(i),Nl)}(s);if(xl(s)||!0!==s.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Tc(void 0,Nl,!0),c.factory=()=>q(c.multi),this.records.set(o,c)),o=s,c.multi.push(s)}this.records.set(o,u)}hydrate(s,o){return o.value===Nl&&(o.value=zg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Ab(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Ve(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Af(i){const s=Br(i),o=null!==s?s.factory:fr(i);if(null!==o)return o;if(i instanceof er)throw new nt(204,!1);if(i instanceof Function)return function Dc(i){const s=i.length;if(s>0)throw su(s,"?"),new nt(204,!1);const o=function ir(i){return i&&(i[Ct]||i[_i])||null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new nt(204,!1)}function G_(i,s,o){let u;if(xl(i)){const c=Ve(i);return fr(c)||Af(c)}if(Cf(i))u=()=>Ve(i.useValue);else if(function Sf(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...q(i.deps||[]));else if(function Hg(i){return!(!i||!i.useExisting)}(i))u=()=>ue(Ve(i.useExisting));else{const c=Ve(i&&(i.useClass||i.provide));if(!function Sb(i){return!!i.deps}(i))return fr(c)||Af(c);u=()=>new c(...q(i.deps))}return u}function Tc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function qg(i,s){for(const o of i)Array.isArray(o)?qg(o,s):o&&yt(o)?qg(o.\u0275providers,s):s(o)}class xb{}class z_{}class q_{resolveComponentFactory(s){throw function Nb(i){const s=Error(`No component factory found for ${Y(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Rl=(()=>{class i{}return i.NULL=new q_,i})();function Pb(){return Cc(Sn(),Oe())}function Cc(i,s){return new Ud(ur(i,s))}let Ud=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Pb,i})();function W_(i){return i instanceof Ud?i.nativeElement:i}class Wg{}let K_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Z_(){const i=Oe(),o=lr(Sn().index,i);return(vr(o)?o:i)[en]}(),i})(),Y_=(()=>{class i{}return i.\u0275prov=Nn({token:i,providedIn:"root",factory:()=>null}),i})();class Ob{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Q_=new Ob("15.2.9"),X_={},J_="ngOriginalError";function ev(i){return i[J_]}class Bd{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&ev(s);for(;o&&ev(o);)o=ev(o);return o||null}}function Mu(i){return i instanceof Function?i():i}function Vb(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=s.length;if(c+h===u||i.charCodeAt(c+h)<=32)return c}o=c+1}}const Ub="ng-template";function eT(i,s,o){let u=0,c=!0;for(;u<i.length;){let h=i[u++];if("string"==typeof h&&c){const _=i[u++];if(o&&"class"===h&&-1!==Vb(_.toLowerCase(),s,0))return!0}else{if(1===h){for(;u<i.length&&"string"==typeof(h=i[u++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function Bb(i){return 4===i.type&&i.value!==Ub}function tT(i,s,o){return s===(4!==i.type||o?i.value:Ub)}function $b(i,s,o){let u=4;const c=i.attrs||[],h=function xf(i){for(let s=0;s<i.length;s++)if(gr(i[s]))return s;return i.length}(c);let _=!1;for(let I=0;I<s.length;I++){const M=s[I];if("number"!=typeof M){if(!_)if(4&u){if(u=2|1&u,""!==M&&!tT(i,M,o)||""===M&&1===s.length){if(cs(u))return!1;_=!0}}else{const V=8&u?M:s[++I];if(8&u&&null!==i.attrs){if(!eT(i.attrs,V,o)){if(cs(u))return!1;_=!0}continue}const te=jt(8&u?"class":M,c,Bb(i),o);if(-1===te){if(cs(u))return!1;_=!0;continue}if(""!==V){let de;de=te>h?"":c[te+1].toLowerCase();const be=8&u?de:null;if(be&&-1!==Vb(be,V,0)||2&u&&V!==de){if(cs(u))return!1;_=!0}}}}else{if(!_&&!cs(u)&&!cs(M))return!1;if(_&&cs(M))continue;_=!1,u=M|1&u}}return cs(u)||_}function cs(i){return 0==(1&i)}function jt(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let h=!1;for(;c<s.length;){const _=s[c];if(_===i)return c;if(3===_||6===_)h=!0;else{if(1===_||2===_){let I=s[++c];for(;"string"==typeof I;)I=s[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=h?1:2}return-1}return function Nf(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Mf(i,s,o=!1){for(let u=0;u<s.length;u++)if($b(i,s[u],o))return!0;return!1}function jd(i,s){e:for(let o=0;o<s.length;o++){const u=s[o];if(i.length===u.length){for(let c=0;c<i.length;c++)if(i[c]!==u[c])continue e;return!0}}return!1}function iv(i,s){return i?":not("+s.trim()+")":s}function Qg(i){let s=i[0],o=1,u=2,c="",h=!1;for(;o<i.length;){let _=i[o];if("string"==typeof _)if(2&u){const I=i[++o];c+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&u?c+="."+_:4&u&&(c+=" "+_);else""!==c&&!cs(_)&&(s+=iv(h,c),c=""),u=_,h=h||!cs(u);o++}return""!==c&&(s+=iv(h,c)),s}const mn={};function Ks(i){Hd(Kt(),Oe(),bi()+i,!1)}function Hd(i,s,o,u){if(!u)if(3==(3&s[qt])){const h=i.preOrderCheckHooks;null!==h&&p(s,h,o)}else{const h=i.preOrderHooks;null!==h&&m(s,h,0,o)}Hs(o)}function nm(i,s=null,o=null,u){const c=Rf(i,s,o,u);return c.resolveInjectorInitializers(),c}function Rf(i,s=null,o=null,u,c=new Set){const h=[o||W,U_(i)];return u=u||("object"==typeof i?void 0:Y(i)),new j_(h,s||Ic(),u||null,c)}let uu=(()=>{class i{static create(o,u){if(Array.isArray(o))return nm({name:""},u,o,"");{const c=o.name??"";return nm({name:c},o.parent,o.providers,c)}}}return i.THROW_IF_NOT_FOUND=En,i.NULL=new Ug,i.\u0275prov=Nn({token:i,providedIn:"any",factory:()=>ue(Vg)}),i.__NG_ELEMENT_ID__=-1,i})();function rl(i,s=xt.Default){const o=Oe();return null===o?ue(i,s):kr(Sn(),o,Ve(i),s)}function $f(){throw new Error("invalid")}function om(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const _=i.data[h];na(o[u]),_.contentQueries(2,s[h],h)}}}function Zd(i,s,o,u,c,h,_,I,M,V,G){const te=s.blueprint.slice();return te[ri]=c,te[qt]=76|u,(null!==G||i&&1024&i[qt])&&(te[qt]|=1024),ss(te),te[un]=te[Bi]=i,te[Xn]=o,te[Ai]=_||i&&i[Ai],te[en]=I||i&&i[en],te[ts]=M||i&&i[ts]||null,te[vi]=V||i&&i[vi]||null,te[Rn]=h,te[Dn]=function zw(){return pg++}(),te[Mi]=G,te[or]=2==s.type?i[or]:te,te}function Pl(i,s,o,u,c){let h=i.data[s];if(null===h)h=function Yd(i,s,o,u,c){const h=Rr(),_=jo(),M=i.data[s]=function r0(i,s,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=M),null!==h&&(_?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M,M.prev=h)),M}(i,s,o,u,c),function va(){return $t.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const _=function Hi(){const i=$t.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return ai(h,!0),h}function Sc(i,s,o,u){if(0===o)return-1;const c=s.length;for(let h=0;h<o;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function am(i,s,o){Eo(s);try{const u=i.viewQuery;null!==u&&ih(1,u,o);const c=i.template;null!==c&&jf(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&om(i,s),i.staticViewQueries&&ih(2,i.viewQuery,o);const h=i.components;null!==h&&function e0(i,s){for(let o=0;o<s.length;o++)qf(i,s[o])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[qt]&=-5,Qa()}}function Ac(i,s,o,u){const c=s[qt];if(128!=(128&c)){Eo(s);try{ss(s),function js(i){return $t.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&jf(i,s,o,2,u);const _=3==(3&c);if(_){const V=i.preOrderCheckHooks;null!==V&&p(s,V,null)}else{const V=i.preOrderHooks;null!==V&&m(s,V,0,null),T(s,0)}if(function To(i){for(let s=vg(i);null!==s;s=_f(s)){if(!s[xi])continue;const o=s[ms];for(let u=0;u<o.length;u++){const c=o[u];512&c[qt]||_o(c[un],1),c[qt]|=512}}}(s),function _v(i){for(let s=vg(i);null!==s;s=_f(s))for(let o=Vn;o<s.length;o++){const u=s[o],c=u[ht];uo(u)&&Ac(c,u,c.template,u[Xn])}}(s),null!==i.contentQueries&&om(i,s),_){const V=i.contentCheckHooks;null!==V&&p(s,V)}else{const V=i.contentHooks;null!==V&&m(s,V,1),T(s,1)}!function sm(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Hs(~c);else{const h=c,_=o[++u],I=o[++u];vu(_,h),I(2,s[h])}}}finally{Hs(-1)}}(i,s);const I=i.components;null!==I&&function dv(i,s){for(let o=0;o<s.length;o++)vv(i,s[o])}(s,I);const M=i.viewQuery;if(null!==M&&ih(2,M,u),_){const V=i.viewCheckHooks;null!==V&&p(s,V)}else{const V=i.viewHooks;null!==V&&m(s,V,2),T(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[qt]&=-41,512&s[qt]&&(s[qt]&=-513,_o(s[un],-1))}finally{Qa()}}}function jf(i,s,o,u,c){const h=bi(),_=2&u;try{Hs(-1),_&&s.length>Cn&&Hd(i,s,Cn,!1),xr(_?2:0,c),o(u,c)}finally{Hs(h),xr(_?3:1,c)}}function Qd(i,s,o){if(si(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const _=i.data[h];_.contentQueries&&_.contentQueries(1,o[h],h)}}}function Wi(i,s,o){j()&&(function th(i,s,o,u){const c=o.directiveStart,h=o.directiveEnd;Yr(o)&&function d0(i,s,o){const u=ur(s,i),c=Xd(o),h=i[Ai],_=Rc(i,Zd(i,c,null,o.onPush?32:16,u,s,h,h.createRenderer(u,o),null,null,null));i[s.index]=_}(s,o,i.data[c+o.componentOffset]),i.firstCreatePass||gn(o,s),go(u,s);const _=o.initialInputs;for(let I=c;I<h;I++){const M=i.data[I],V=ci(s,i,I,o);go(V,s),null!==_&&zf(0,I-c,V,M,0,_),ar(M)&&(lr(o.index,s)[Xn]=ci(s,i,I,o))}}(i,s,o,ur(o,s)),64==(64&o.flags)&&hm(i,s,o))}function ds(i,s,o=ur){const u=s.localNames;if(null!==u){let c=s.index+1;for(let h=0;h<u.length;h+=2){const _=u[h+1],I=-1===_?o(s,i):i[_];i[c++]=I}}}function Xd(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Jd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Jd(i,s,o,u,c,h,_,I,M,V){const G=Cn+u,te=G+c,de=function t0(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:mn);return o}(G,te),be="function"==typeof V?V():V;return de[ht]={type:i,blueprint:de,template:o,queries:null,viewQuery:I,declTNode:s,data:de.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:M,consts:be,incompleteFirstPass:!1}}function um(i,s,o,u){const c=Kf(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&sh(i).push(u,c.length-1))}function hv(i,s,o,u){for(let c in i)if(i.hasOwnProperty(c)){o=null===o?{}:o;const h=i[c];null===u?lm(o,s,c,h):u.hasOwnProperty(c)&&lm(o,s,u[c],h)}return o}function lm(i,s,o,u){i.hasOwnProperty(o)?i[o].push(s,u):i[o]=[s,u]}function Do(i,s,o,u,c,h,_,I){const M=ur(s,o);let G,V=s.inputs;!I&&null!=V&&(G=V[u])?(pm(i,o,G,u,c),Yr(s)&&function fv(i,s){const o=lr(s,i);16&o[qt]||(o[qt]|=32)}(o,s.index)):3&s.type&&(u=function s0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=_?_(c,s.value||"",u):c,h.setProperty(M,u,c))}function eh(i,s,o,u){if(j()){const c=null===u?null:{"":-1},h=function mv(i,s){const o=i.directiveRegistry;let u=null,c=null;if(o)for(let h=0;h<o.length;h++){const _=o[h];if(Mf(s,_.selectors,!1))if(u||(u=[]),ar(_))if(null!==_.findHostDirectiveDefs){const I=[];c=c||new Map,_.findHostDirectiveDefs(_,I,c),u.unshift(...I,_),Mc(i,s,I.length)}else u.unshift(_),Mc(i,s,0);else c=c||new Map,_.findHostDirectiveDefs?.(_,u,c),u.push(_)}return null===u?null:[u,c]}(i,o);let _,I;null===h?_=I=null:[_,I]=h,null!==_&&Hf(i,s,o,_,c,I),c&&function u0(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const h=o[s[c+1]];if(null==h)throw new nt(-301,!1);u.push(s[c],h)}}}(o,u,c)}o.mergedAttrs=li(o.mergedAttrs,o.attrs)}function Hf(i,s,o,u,c,h){for(let V=0;V<u.length;V++)zs(gn(o,s),i,u[V].type);!function xc(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}(o,i.data.length,u.length);for(let V=0;V<u.length;V++){const G=u[V];G.providersResolver&&G.providersResolver(G)}let _=!1,I=!1,M=Sc(i,s,u.length,null);for(let V=0;V<u.length;V++){const G=u[V];o.mergedAttrs=li(o.mergedAttrs,G.hostAttrs),c0(i,o,s,M,G),l0(M,G,c),null!==G.contentQueries&&(o.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(o.flags|=64);const te=G.type.prototype;!_&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(o.index),_=!0),!I&&(te.ngOnChanges||te.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(o.index),I=!0),M++}!function cm(i,s,o){const c=s.directiveEnd,h=i.data,_=s.attrs,I=[];let M=null,V=null;for(let G=s.directiveStart;G<c;G++){const te=h[G],de=o?o.get(te):null,Ue=de?de.outputs:null;M=hv(te.inputs,G,M,de?de.inputs:null),V=hv(te.outputs,G,V,Ue);const ut=null===M||null===_||Bb(s)?null:yv(M,G,_);I.push(ut)}null!==M&&(M.hasOwnProperty("class")&&(s.flags|=8),M.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=I,s.inputs=M,s.outputs=V}(i,o,h)}function hm(i,s,o){const u=o.directiveStart,c=o.directiveEnd,h=o.index,_=function Fa(){return $t.lFrame.currentDirectiveIndex}();try{Hs(h);for(let I=u;I<c;I++){const M=i.data[I],V=s[I];Ea(I),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&gv(M,V)}}finally{Hs(-1),Ea(_)}}function gv(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Mc(i,s,o){s.componentOffset=o,(i.components??(i.components=[])).push(s.index)}function l0(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;ar(s)&&(o[""]=i)}}function c0(i,s,o,u,c){i.data[u]=c;const h=c.factory||(c.factory=fr(c.type)),_=new fe(h,ar(c),rl);i.blueprint[u]=_,o[u]=_,function pv(i,s,o,u,c){const h=c.hostBindings;if(h){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const I=~s.index;(function a0(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=I&&_.push(I),_.push(o,u,h)}}(i,s,u,Sc(i,o,c.hostVars,mn),c)}function yo(i,s,o,u,c,h){const _=ur(i,s);!function Gf(i,s,o,u,c,h,_){if(null==h)i.removeAttribute(s,c,o);else{const I=null==_?qe(h):_(h,u||"",c);i.setAttribute(s,c,I,o)}}(s[en],_,h,i.value,o,u,c)}function zf(i,s,o,u,c,h){const _=h[s];if(null!==_){const I=u.setInput;for(let M=0;M<_.length;){const V=_[M++],G=_[M++],te=_[M++];null!==I?u.setInput(o,te,V,G):o[G]=te}}}function yv(i,s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===u&&(u=[]);const _=i[h];for(let I=0;I<_.length;I+=2)if(_[I]===s){u.push(h,_[I+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function Nc(i,s,o,u){return[i,!0,!1,s,null,0,u,o,null,null]}function vv(i,s){const o=lr(s,i);if(uo(o)){const u=o[ht];48&o[qt]?Ac(u,o,u.template,o[Xn]):o[ii]>0&&Ol(o)}}function Ol(i){for(let u=vg(i);null!==u;u=_f(u))for(let c=Vn;c<u.length;c++){const h=u[c];if(uo(h))if(512&h[qt]){const _=h[ht];Ac(_,h,_.template,h[Xn])}else h[ii]>0&&Ol(h)}const o=i[ht].components;if(null!==o)for(let u=0;u<o.length;u++){const c=lr(o[u],i);uo(c)&&c[ii]>0&&Ol(c)}}function qf(i,s){const o=lr(s,i),u=o[ht];(function Ev(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),am(u,o,o[Xn])}function Rc(i,s){return i[eo]?i[_u][Gr]=s:i[eo]=s,i[_u]=s,s}function nh(i){for(;i;){i[qt]|=32;const s=xd(i);if(ns(i)&&!s)return i;i=s}return null}function rh(i,s,o,u=!0){const c=s[Ai];c.begin&&c.begin();try{Ac(i,s,i.template,o)}catch(_){throw u&&fm(s,_),_}finally{c.end&&c.end()}}function ih(i,s,o){na(0),s(i,o)}function Kf(i){return i[zr]||(i[zr]=[])}function sh(i){return i.cleanup||(i.cleanup=[])}function fm(i,s){const o=i[vi],u=o?o.get(Bd,null):null;u&&u.handleError(s)}function pm(i,s,o,u,c){for(let h=0;h<o.length;){const _=o[h++],I=o[h++],M=s[_],V=i.data[_];null!==V.setInput?V.setInput(M,c,u,I):M[I]=c}}function kl(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,h=0;if(null!==s)for(let _=0;_<s.length;_++){const I=s[_];"number"==typeof I?h=I:1==h?c=le(c,I):2==h&&(u=le(u,I+": "+s[++_]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}function Oc(i,s,o,u,c=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&u.push(Mn(h)),qr(h))for(let I=Vn;I<h.length;I++){const M=h[I],V=M[ht].firstChild;null!==V&&Oc(M[ht],M,V,u)}const _=o.type;if(8&_)Oc(i,s,o.child,u);else if(32&_){const I=_g(o,s);let M;for(;M=I();)u.push(M)}else if(16&_){const I=lb(s,o);if(Array.isArray(I))u.push(...I);else{const M=xd(s[or]);Oc(M[ht],M,I,u,!0)}}o=c?o.projectionNext:o.next}return u}class kc{get rootNodes(){const s=this._lView,o=s[ht];return Oc(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xn]}set context(s){this._lView[Xn]=s}get destroyed(){return 128==(128&this._lView[qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[un];if(qr(s)){const o=s[Fs],u=o?o.indexOf(this):-1;u>-1&&(Eg(s,u),mc(o,u))}this._attachedToViewContainer=!1}wg(this._lView[ht],this._lView)}onDestroy(s){um(this._lView[ht],this._lView,null,s)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[qt]&=-65}reattach(){this._lView[qt]|=64}detectChanges(){rh(this._lView[ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function b_(i,s){bf(i,s,s[en],2,null,null)}(this._lView[ht],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=s}}class bv extends kc{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;rh(s[ht],s,s[Xn],!1)}checkNoChanges(){}get context(){return null}}class gm extends Rl{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=on(s);return new il(o,this.ngModule)}}function Iv(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class Dv{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,u){u=xe(u);const c=this.injector.get(s,X_,u);return c!==X_||o===X_?c:this.parentInjector.get(s,o,u)}}class il extends z_{get inputs(){return Iv(this.componentDef.inputs)}get outputs(){return Iv(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function jb(i){return i.map(Qg).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,u,c){let h=(c=c||this.ngModule)instanceof el?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new Dv(s,h):s,I=_.get(Wg,null);if(null===I)throw new nt(407,!1);const M=_.get(Y_,null),V=I.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",te=u?function n0(i,s,o){return i.selectRootElement(s,o===ce.ShadowDom)}(V,u,this.componentDef.encapsulation):vf(V,G,function oh(i){const s=i.toLowerCase();return"svg"===s?Qr:"math"===s?"math":null}(G)),de=this.componentDef.onPush?288:272,be=Jd(0,null,null,1,0,null,null,null,null,null),Ue=Zd(null,be,null,de,null,null,I,V,M,_,null);let ut,Tt;Eo(Ue);try{const Ot=this.componentDef;let Xt,Ze=null;Ot.findHostDirectiveDefs?(Xt=[],Ze=new Map,Ot.findHostDirectiveDefs(Ot,Xt,Ze),Xt.push(Ot)):Xt=[Ot];const hn=function mm(i,s){const o=i[ht],u=Cn;return i[u]=s,Pl(o,u,2,"#host",null)}(Ue,te),Ur=function h0(i,s,o,u,c,h,_,I){const M=c[ht];!function f0(i,s,o,u){for(const c of i)s.mergedAttrs=li(s.mergedAttrs,c.hostAttrs);null!==s.mergedAttrs&&(kl(s,s.mergedAttrs,!0),null!==o&&hb(u,o,s))}(u,i,s,_);const V=h.createRenderer(s,o),G=Zd(c,Xd(o),null,o.onPush?32:16,c[i.index],i,h,V,I||null,null,null);return M.firstCreatePass&&Mc(M,i,u.length-1),Rc(c,G),c[i.index]=G}(hn,te,Ot,Xt,Ue,I,V);Tt=ao(be,Cn),te&&function Cv(i,s,o,u){if(u)An(i,o,["ng-version",Q_.full]);else{const{attrs:c,classes:h}=function Hb(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===c?""!==h&&s.push(h,i[++u]):8===c&&o.push(h);else{if(!cs(c))break;c=h}u++}return{attrs:s,classes:o}}(s.selectors[0]);c&&An(i,o,c),h&&h.length>0&&db(i,o,h.join(" "))}}(V,Ot,te,u),void 0!==o&&function p0(i,s,o){const u=i.projection=[];for(let c=0;c<s.length;c++){const h=o[c];u.push(null!=h?Array.from(h):null)}}(Tt,this.ngContentSelectors,o),ut=function Tv(i,s,o,u,c,h){const _=Sn(),I=c[ht],M=ur(_,c);Hf(I,c,_,o,null,u);for(let G=0;G<o.length;G++)go(ci(c,I,_.directiveStart+G,_),c);hm(I,c,_),M&&go(M,c);const V=ci(c,I,_.directiveStart+_.componentOffset,_);if(i[Xn]=c[Xn]=V,null!==h)for(const G of h)G(V,s);return Qd(I,_,i),V}(Ur,Ot,Xt,Ze,Ue,[Fl]),am(be,Ue,null)}finally{Qa()}return new ah(this.componentType,ut,Cc(Tt,Ue),Ue,Tt)}}class ah extends xb{constructor(s,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new bv(c),this.componentType=s}setInput(s,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[s])){const h=this._rootLView;pm(h[ht],h,c,s,o),nh(lr(this._tNode.index,h))}}get injector(){return new tu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Fl(){const i=Sn();d(Oe()[ht],i)}function Lc(i){let s=function cu(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(ar(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new nt(903,!1);c=s.\u0275dir}if(c){if(o){u.push(c);const _=i;_.inputs=Yf(i.inputs),_.declaredInputs=Yf(i.declaredInputs),_.outputs=Yf(i.outputs);const I=c.hostBindings;I&&uh(i,I);const M=c.viewQuery,V=c.contentQueries;if(M&&Jr(i,M),V&&Qf(i,V),X(i.inputs,c.inputs),X(i.declaredInputs,c.declaredInputs),X(i.outputs,c.outputs),ar(c)&&c.data.animation){const G=i.data;G.animation=(G.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let _=0;_<h.length;_++){const I=h[_];I&&I.ngInherit&&I(i),I===Lc&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Zf(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=li(c.hostAttrs,o=li(o,c.hostAttrs))}}(u)}function Yf(i){return i===se?{}:i===W?[]:i}function Jr(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function Qf(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,h)=>{s(u,c,h),o(u,c,h)}:s}function uh(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}function ch(i){return!!ym(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function ym(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ja(i,s,o){return i[s]=o}function Zs(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Jf(i,s,o,u){const c=Oe();return Zs(c,os(),s)&&(Kt(),yo(ln(),c,i,s,o,u)),Jf}function ol(i,s,o,u){return Zs(i,os(),o)?s+qe(o)+u:mn}function Em(i,s,o,u,c,h,_,I){const M=Oe(),V=Kt(),G=i+Cn,te=V.firstCreatePass?function Fv(i,s,o,u,c,h,_,I,M){const V=s.consts,G=Pl(s,i,4,_||null,pr(V,I));eh(s,o,G,pr(V,M)),d(s,G);const te=G.tView=Jd(2,G,u,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V);return null!==s.queries&&(s.queries.template(s,G),te.queries=s.queries.embeddedTView(G)),G}(G,V,M,s,o,u,c,h,_):V.data[G];ai(te,!1);const de=M[en].createComment("");Tg(V,M,de,te),go(de,M),Rc(M,M[G]=Nc(de,M,de,te)),Ni(te)&&Wi(V,M,te),null!=_&&ds(M,te,I)}function Ha(i,s,o){const u=Oe();return Zs(u,os(),s)&&Do(Kt(),ln(),u,i,s,u[en],o,!1),Ha}function tp(i,s,o,u,c){const _=c?"class":"style";pm(i,o,s.inputs[_],_,u)}function zc(i,s,o,u){const c=Oe(),h=Kt(),_=Cn+i,I=c[en],M=h.firstCreatePass?function Vv(i,s,o,u,c,h){const _=s.consts,M=Pl(s,i,2,u,pr(_,c));return eh(s,o,M,pr(_,h)),null!==M.attrs&&kl(M,M.attrs,!1),null!==M.mergedAttrs&&kl(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(_,h,c,s,o,u):h.data[_],V=c[_]=vf(I,s,function L(){return $t.lFrame.currentNamespace}()),G=Ni(M);return ai(M,!0),hb(I,V,M),32!=(32&M.flags)&&Tg(h,c,V,M),0===function P(){return $t.lFrame.elementDepthCount}()&&go(V,c),function N(){$t.lFrame.elementDepthCount++}(),G&&(Wi(h,c,M),Qd(h,M,c)),null!==u&&ds(c,M),zc}function ul(){let i=Sn();jo()?ta():(i=i.parent,ai(i,!1));const s=i;!function S(){$t.lFrame.elementDepthCount--}();const o=Kt();return o.firstCreatePass&&(d(o,i),si(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function gt(i){return 0!=(8&i.flags)}(s)&&tp(o,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function vt(i){return 0!=(16&i.flags)}(s)&&tp(o,s,Oe(),s.stylesWithoutHost,!1),ul}function np(i,s,o,u){return zc(i,s,o,u),ul(),np}function ip(i){return!!i&&"function"==typeof i.then}function Wc(i){return!!i&&"function"==typeof i.subscribe}const bm=Wc;function sp(i,s,o,u){const c=Oe(),h=Kt(),_=Sn();return function Dm(i,s,o,u,c,h,_){const I=Ni(u),V=i.firstCreatePass&&sh(i),G=s[Xn],te=Kf(s);let de=!0;if(3&u.type||_){const ut=ur(u,s),Tt=_?_(ut):ut,Ot=te.length,Xt=_?hn=>_(Mn(hn[u.index])):u.index;let Ze=null;if(!_&&I&&(Ze=function Im(i,s,o,u){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const _=c[h];if(_===o&&c[h+1]===u){const I=s[zr],M=c[h+2];return I.length>M?I[M]:null}"string"==typeof _&&(h+=2)}return null}(i,s,c,u.index)),null!==Ze)(Ze.__ngLastListenerFn__||Ze).__ngNextListenerFn__=h,Ze.__ngLastListenerFn__=h,de=!1;else{h=Tm(u,s,G,h,!1);const hn=o.listen(Tt,c,h);te.push(h,hn),V&&V.push(c,Xt,Ot,Ot+1)}}else h=Tm(u,s,G,h,!1);const be=u.outputs;let Ue;if(de&&null!==be&&(Ue=be[c])){const ut=Ue.length;if(ut)for(let Tt=0;Tt<ut;Tt+=2){const Ur=s[Ue[Tt]][Ue[Tt+1]].subscribe(h),Vi=te.length;te.push(h,Ur),V&&V.push(c,u.index,Vi,-(Vi+1))}}}(h,c,c[en],_,i,s,u),sp}function fh(i,s,o,u){try{return xr(6,s,o),!1!==o(u)}catch(c){return fm(i,c),!1}finally{xr(7,s,o)}}function Tm(i,s,o,u,c){return function h(_){if(_===Function)return u;nh(i.componentOffset>-1?lr(i.index,s):s);let M=fh(s,o,u,_),V=h.__ngNextListenerFn__;for(;V;)M=fh(s,o,V,_)&&M,V=V.__ngNextListenerFn__;return c&&!1===M&&(_.preventDefault(),_.returnValue=!1),M}}function Cm(i=1){return function Gu(i){return($t.lFrame.contextLView=function Xa(i,s){for(;i>0;)s=s[Bi],i--;return s}(i,$t.lFrame.contextLView))[Xn]}(i)}function Vl(i,s){let o=null;const u=function cn(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(!(1&o))return s[o+1]}return null}(i);for(let c=0;c<s.length;c++){const h=s[c];if("*"!==h){if(null===u?Mf(i,h,!0):jd(u,h))return c}else o=c}return o}function Sm(i){const s=Oe()[or][Rn];if(!s.projection){const u=s.projection=su(i?i.length:1,null),c=u.slice();let h=s.child;for(;null!==h;){const _=i?Vl(h,i):0;null!==_&&(c[_]?c[_].projectionNext=h:u[_]=h,c[_]=h),h=h.next}}}function Am(i,s=0,o){const u=Oe(),c=Kt(),h=Pl(c,Cn+i,16,null,o||null);null===h.projection&&(h.projection=s),ta(),32!=(32&h.flags)&&function AD(i,s,o){cb(s[en],0,s,o,Ef(i,o,s),sb(o.parent||s[Rn],o,s))}(c,u,h)}function ap(i,s,o){return up(i,"",s,"",o),ap}function up(i,s,o,u,c){const h=Oe(),_=ol(h,s,o,u);return _!==mn&&Do(Kt(),ln(),h,i,_,h[en],c,!1),up}function cp(i,s){return i<<17|s<<2}function ll(i){return i>>17&32767}function Kc(i){return 2|i}function Bl(i){return(131068&i)>>2}function dp(i,s){return-131069&i|s<<2}function cl(i){return 1|i}function Ti(i,s,o,u,c){const h=i[o+1],_=null===s;let I=u?ll(h):Bl(h),M=!1;for(;0!==I&&(!1===M||_);){const G=i[I+1];Zc(i[I],s)&&(M=!0,i[I+1]=u?cl(G):Kc(G)),I=u?ll(G):Bl(G)}M&&(i[o+1]=u?Kc(h):cl(h))}function Zc(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ma(i,s)>=0}const ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Pt(i){return i.substring(ki.key,ki.keyEnd)}function wt(i,s){const o=ki.textEnd;return o===s?-1:(s=ki.keyEnd=function b0(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,ki.key=s,o),jl(i,s,o))}function jl(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function qv(i,s){return function Na(i,s,o,u){const c=Oe(),h=Kt(),_=Gi(2);h.firstUpdatePass&&Yc(h,i,_,u),s!==mn&&Zs(c,_,s)&&Xc(h,h.data[bi()],c,c[en],i,c[_+1]=function ca(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Y(Al(i)))),i}(s,o),u,_)}(i,s,null,!0),qv}function Co(i,s){for(let o=function rT(i){return function Ki(i){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=i.length}(i),wt(i,jl(i,0,ki.textEnd))}(s);o>=0;o=wt(s,o))Ws(i,Pt(s),!0)}function Wt(i,s){return s>=i.expandoStartIndex}function Yc(i,s,o,u){const c=i.data;if(null===c[o+1]){const h=c[bi()],_=Wt(i,o);fp(h,u)&&null===s&&!_&&(s=!1),s=function jn(i,s,o,u){const c=function vo(i){const s=$t.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=Hl(o=Qc(null,i,s,o,u),s.attrs,u),h=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==c)if(o=Qc(c,i,s,o,u),null===h){let M=function C0(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==Bl(u))return i[ll(u)]}(i,s,u);void 0!==M&&Array.isArray(M)&&(M=Qc(null,i,s,M[1],u),M=Hl(M,s.attrs,u),function Fi(i,s,o,u){i[ll(o?s.classBindings:s.styleBindings)]=u}(i,s,u,M))}else h=function bt(i,s,o){let u;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)u=Hl(u,i[h].hostAttrs,o);return Hl(u,s.attrs,o)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(c,h,s,u),function nT(i,s,o,u,c,h){let _=h?s.classBindings:s.styleBindings,I=ll(_),M=Bl(_);i[u]=o;let G,V=!1;if(Array.isArray(o)?(G=o[1],(null===G||Ma(o,G)>0)&&(V=!0)):G=o,c)if(0!==M){const de=ll(i[I+1]);i[u+1]=cp(de,I),0!==de&&(i[de+1]=dp(i[de+1],u)),i[I+1]=function w0(i,s){return 131071&i|s<<17}(i[I+1],u)}else i[u+1]=cp(I,0),0!==I&&(i[I+1]=dp(i[I+1],u)),I=u;else i[u+1]=cp(M,0),0===I?I=u:i[M+1]=dp(i[M+1],u),M=u;V&&(i[u+1]=Kc(i[u+1])),Ti(i,G,u,!0),Ti(i,G,u,!1),function it(i,s,o,u,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Ma(h,s)>=0&&(o[u+1]=cl(o[u+1]))}(s,G,i,u,h),_=cp(I,M),h?s.classBindings=_:s.styleBindings=_}(c,h,s,o,_,u)}}function Qc(i,s,o,u,c){let h=null;const _=o.directiveEnd;let I=o.directiveStylingLast;for(-1===I?I=o.directiveStart:I++;I<_&&(h=s[I],u=Hl(u,h.hostAttrs,c),h!==i);)I++;return null!==i&&(o.directiveStylingLast=I),u}function Hl(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const _=s[h];"number"==typeof _?c=_:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ws(i,_,!!o||s[++h]))}return void 0===i?null:i}function Xc(i,s,o,u,c,h,_,I){if(!(3&s.type))return;const M=i.data,V=M[I+1],G=function Ss(i){return 1==(1&i)}(V)?Nm(M,s,o,c,Bl(V),_):void 0;gh(G)||(gh(h)||function $v(i){return 2==(2&i)}(V)&&(h=Nm(M,null,o,c,I,_)),function xD(i,s,o,u,c){if(s)c?i.addClass(o,u):i.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:ls.DashCase;null==c?i.removeStyle(o,u,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ls.Important),i.setStyle(o,u,c,h))}}(u,_,vs(bi(),o),c,h))}function Nm(i,s,o,u,c,h){const _=null===s;let I;for(;c>0;){const M=i[c],V=Array.isArray(M),G=V?M[1]:M,te=null===G;let de=o[c+1];de===mn&&(de=te?W:void 0);let be=te?La(de,u):G===u?de:void 0;if(V&&!gh(be)&&(be=La(M,u)),gh(be)&&(I=be,_))return I;const Ue=i[c+1];c=_?ll(Ue):Bl(Ue)}if(null!==s){let M=h?s.residualClasses:s.residualStyles;null!=M&&(I=La(M,u))}return I}function gh(i){return void 0!==i}function fp(i,s){return 0!=(i.flags&(s?8:16))}function Rm(i,s=""){const o=Oe(),u=Kt(),c=i+Cn,h=u.firstCreatePass?Pl(u,c,1,s,null):u.data[c],_=o[c]=function v_(i,s){return i.createText(s)}(o[en],s);Tg(u,o,_,h),ai(h,!1)}function Pm(i){return Ga("",i,""),Pm}function Ga(i,s,o){const u=Oe(),c=ol(u,i,s,o);return c!==mn&&function $a(i,s,o){const u=vs(s,i);!function E_(i,s,o){i.setValue(s,o)}(i[en],u,o)}(u,bi(),c),Ga}function dl(i,s,o){!function Gn(i,s,o,u){const c=Kt(),h=Gi(2);c.firstUpdatePass&&Yc(c,null,h,u);const _=Oe();if(o!==mn&&Zs(_,h,o)){const I=c.data[bi()];if(fp(I,u)&&!Wt(c,h)){let M=u?I.classesWithoutHost:I.stylesWithoutHost;null!==M&&(o=le(M,o||"")),tp(c,I,_,o,u)}else!function S0(i,s,o,u,c,h,_,I){c===mn&&(c=W);let M=0,V=0,G=0<c.length?c[0]:null,te=0<h.length?h[0]:null;for(;null!==G||null!==te;){const de=M<c.length?c[M+1]:void 0,be=V<h.length?h[V+1]:void 0;let ut,Ue=null;G===te?(M+=2,V+=2,de!==be&&(Ue=te,ut=be)):null===te||null!==G&&G<te?(M+=2,Ue=G):(V+=2,Ue=te,ut=be),null!==Ue&&Xc(i,s,o,u,Ue,ut,_,I),G=M<c.length?c[M]:null,te=V<h.length?h[V]:null}}(c,I,_,_[en],_[h+1],_[h+1]=function Gl(i,s,o){if(null==o||""===o)return W;const u=[],c=Al(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)i(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&i(u,h,c[h]);else"string"==typeof c&&s(u,c);return u}(i,s,o),u,h)}}(Ws,Co,ol(Oe(),i,s,o),!0)}const gl=void 0;var Fm=["en",[["a","p"],["AM","PM"],gl],[["AM","PM"],gl,gl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gl,"{1} 'at' {0}",gl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nd(i){const o=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Pa={};function Wl(i){const s=function P0(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=Eh(s);if(o)return o;const u=s.split("-")[0];if(o=Eh(u),o)return o;if("en"===u)return Fm;throw new nt(701,!1)}function Lm(i){return Wl(i)[Qt.PluralCase]}function Eh(i){return i in Pa||(Pa[i]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[i]),Pa[i]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const Kl="en-US";let cr=Kl;function bp(i,s,o,u,c){if(i=Ve(i),Array.isArray(i))for(let h=0;h<i.length;h++)bp(i[h],s,o,u,c);else{const h=Kt(),_=Oe();let I=xl(i)?i:Ve(i.provide),M=G_(i);const V=Sn(),G=1048575&V.providerIndexes,te=V.directiveStart,de=V.providerIndexes>>20;if(xl(i)||!i.multi){const be=new fe(M,c,rl),Ue=Nh(I,s,c?G:G+de,te);-1===Ue?(zs(gn(V,_),h,I),Ip(h,i,s.length),s.push(I),V.directiveStart++,V.directiveEnd++,c&&(V.providerIndexes+=1048576),o.push(be),_.push(be)):(o[Ue]=be,_[Ue]=be)}else{const be=Nh(I,s,G+de,te),Ue=Nh(I,s,G,G+de),Tt=Ue>=0&&o[Ue];if(c&&!Tt||!c&&!(be>=0&&o[be])){zs(gn(V,_),h,I);const Ot=function IE(i,s,o,u,c){const h=new fe(i,o,rl);return h.multi=[],h.index=s,h.componentProviders=0,rc(h,c,u&&!o),h}(c?Zi:G0,o.length,c,u,M);!c&&Tt&&(o[Ue].providerFactory=Ot),Ip(h,i,s.length,0),s.push(I),V.directiveStart++,V.directiveEnd++,c&&(V.providerIndexes+=1048576),o.push(Ot),_.push(Ot)}else Ip(h,i,be>-1?be:Ue,rc(o[c?Ue:be],M,!c&&u));!c&&u&&Tt&&o[Ue].componentProviders++}}}function Ip(i,s,o,u){const c=xl(s),h=function Cb(i){return!!i.useClass}(s);if(c||h){const M=(h?Ve(s.useClass):s).prototype.ngOnDestroy;if(M){const V=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const G=V.indexOf(o);-1===G?V.push(o,[u,M]):V[G+1].push(u,M)}else V.push(o,M)}}}function rc(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Nh(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function G0(i,s,o,u){return kn(this.multi,[])}function Zi(i,s,o,u){const c=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=ci(o,o[ht],this.providerFactory.index,u);h=I.slice(0,_),kn(c,h);for(let M=_;M<I.length;M++)h.push(I[M])}else h=[],kn(c,h);return h}function kn(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function ey(i,s=[]){return o=>{o.providersResolver=(u,c)=>function bE(i,s,o){const u=Kt();if(u.firstCreatePass){const c=ar(i);bp(o,u.data,u.blueprint,c,!0),bp(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class ha{}class DE{}function Qo(i,s){return new ud(i,s??null)}class ud extends ha{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gm(this);const u=$n(s);this._bootstrapComponents=Mu(u.bootstrap),this._r3Injector=Rf(s,o,[{provide:ha,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],Y(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Dp extends DE{constructor(s){super(),this.moduleType=s}create(s){return new ud(this.moduleType,s)}}class fu extends ha{constructor(s,o,u){super(),this.componentFactoryResolver=new gm(this),this.instance=null;const c=new j_([...s,{provide:ha,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],o||Ic(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Tp(i,s,o=null){return new fu(i,s,o).injector}let Rh=(()=>{class i{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=bc(0,o.type),c=u.length>0?Tp([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Nn({token:i,providedIn:"environment",factory:()=>new i(ue(el))}),i})();function TE(i){i.getStandaloneInjector=s=>s.get(Rh).getOrCreateStandaloneInjector(i)}function ic(i,s,o){const u=ui()+i,c=Oe();return c[u]===mn?ja(c,u,o?s.call(o):s()):function dh(i,s){return i[s]}(c,u)}function iy(i,s,o,u){return function ay(i,s,o,u,c,h){const _=s+o;return Zs(i,_,c)?ja(i,_+1,h?u.call(h,c):u(c)):Uu(i,_+1)}(Oe(),ui(),i,s,o,u)}function Uu(i,s){const o=i[s];return o===mn?void 0:o}function uy(i,s,o,u,c,h,_){const I=s+o;return function sl(i,s,o,u){const c=Zs(i,s,o);return Zs(i,s+1,u)||c}(i,I,c,h)?ja(i,I+2,_?u.call(_,c,h):u(c,h)):Uu(i,I+2)}function cd(i,s){const o=Kt();let u;const c=i+Cn;o.firstCreatePass?(u=function cy(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const h=u.factory||(u.factory=fr(u.type)),_=fn(rl);try{const I=ho(!1),M=h();return ho(I),function ep(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}(o,Oe(),c,M),M}finally{fn(_)}}function Sp(i,s,o,u){const c=i+Cn,h=Oe(),_=function is(i,s){return i[s]}(h,c);return function Fh(i,s){return i[ht].data[s].pure}(h,c)?uy(h,ui(),s,_.transform,o,u,_):_.transform(o,u)}function dy(i){return s=>{setTimeout(i,void 0,s)}}const Ao=class Q0 extends b.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){let c=s,h=o||(()=>null),_=u;if(s&&"object"==typeof s){const M=s;c=M.next?.bind(M),h=M.error?.bind(M),_=M.complete?.bind(M)}this.__isAsync&&(h=dy(h),c&&(c=dy(c)),_&&(_=dy(_)));const I=super.subscribe({next:c,error:h,complete:_});return s instanceof R.w&&s.add(I),I}};function dd(){return this._results[Symbol.iterator]()}class Ap{get changes(){return this._changes||(this._changes=new Ao)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ap.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=dd)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=function mr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function gc(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],h=s[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lh=(()=>{class i{}return i.__NG_ELEMENT_ID__=X0,i})();const LE=Lh,Mo=class extends LE{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s,o){const u=this._declarationTContainer.tView,c=Zd(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,o||null);c[Ei]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[wi];return null!==_&&(c[wi]=_.createEmbeddedView(u)),am(u,c,s),new kc(c)}};function X0(){return Vh(Sn(),Oe())}function Vh(i,s){return 4&i.type?new Mo(s,i,Cc(i,s)):null}let fa=(()=>{class i{}return i.__NG_ELEMENT_ID__=VE,i})();function VE(){return BE(Sn(),Oe())}const Mp=fa,hy=class extends Mp{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new tu(this._hostTNode,this._hostLView)}get parentInjector(){const s=zi(this._hostTNode,this._hostLView);if(Er(s)){const o=Or(s,this._hostLView),u=as(s);return new tu(o[ht].data[u+8],o)}return new tu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=UE(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(s,o,u){let c,h;"number"==typeof u?c=u:null!=u&&(c=u.index,h=u.injector);const _=s.createEmbeddedView(o||{},h);return this.insert(_,c),_}createComponent(s,o,u,c,h){const _=s&&!function Zu(i){return"function"==typeof i}(s);let I;if(_)I=o;else{const te=o||{};I=te.index,u=te.injector,c=te.projectableNodes,h=te.environmentInjector||te.ngModuleRef}const M=_?s:new il(on(s)),V=u||this.parentInjector;if(!h&&null==M.ngModule){const de=(_?V:this.parentInjector).get(el,null);de&&(h=de)}const G=M.create(V,c,void 0,h);return this.insert(G.hostView,I),G}insert(s,o){const u=s._lView,c=u[ht];if(function ji(i){return qr(i[un])}(u)){const G=this.indexOf(s);if(-1!==G)this.detach(G);else{const te=u[un],de=new hy(te,te[Rn],te[un]);de.detach(de.indexOf(s))}}const h=this._adjustIndex(o),_=this._lContainer;!function tb(i,s,o,u){const c=Vn+u,h=o.length;u>0&&(o[c-1][Gr]=s),u<h-Vn?(s[Gr]=o[c],Cl(o,Vn+u,s)):(o.push(s),s[Gr]=null),s[un]=o;const _=s[Ei];null!==_&&o!==_&&function nb(i,s){const o=i[ms];s[or]!==s[un][un][or]&&(i[xi]=!0),null===o?i[ms]=[s]:o.push(s)}(_,s);const I=s[wi];null!==I&&I.insertView(i),s[qt]|=64}(c,u,_,h);const I=S_(h,_),M=u[en],V=Dg(M,_[to]);return null!==V&&function w_(i,s,o,u,c,h){u[ri]=c,u[Rn]=s,bf(i,u,o,1,c,h)}(c,_[Rn],M,u,V,I),s.attachToViewContainerRef(),Cl(fy(_),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=UE(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=Eg(this._lContainer,o);u&&(mc(fy(this._lContainer),o),wg(u[ht],u))}detach(s){const o=this._adjustIndex(s,-1),u=Eg(this._lContainer,o);return u&&null!=mc(fy(this._lContainer),o)?new kc(u):null}_adjustIndex(s,o=0){return s??this.length+o}};function UE(i){return i[Fs]}function fy(i){return i[Fs]||(i[Fs]=[])}function BE(i,s){let o;const u=s[i.index];if(qr(u))o=u;else{let c;if(8&i.type)c=Mn(u);else{const h=s[en];c=h.createComment("");const _=ur(i,s);Ec(h,Dg(h,_),c,function ib(i,s){return i.nextSibling(s)}(h,_),!1)}s[i.index]=o=Nc(u,s,c,i),Rc(s,o)}return new hy(o,i,s)}class py{constructor(s){this.queryList=s,this.matches=null}clone(){return new py(this.queryList)}setDirty(){this.queryList.setDirty()}}class gy{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const _=o.getByIndex(h);c.push(this.queries[_.indexInDeclarationView].clone())}return new gy(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Np(s,o).matches&&this.queries[o].setDirty()}}class $E{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class my{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new my(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class yy{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new yy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(s,o,J0(o,h)),this.matchTNodeWithReadOption(s,o,fo(o,s,h,!1,!1))}else u===Lh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,fo(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Ud||c===fa||c===Lh&&4&o.type)this.addMatch(o.index,-2);else{const h=fo(o,s,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function J0(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function tI(i,s,o,u){return-1===o?function eI(i,s){return 11&i.type?Cc(i,s):4&i.type?Vh(i,s):null}(s,i):-2===o?function nI(i,s,o){return o===Ud?Cc(s,i):o===Lh?Vh(s,i):o===fa?BE(s,i):void 0}(i,s,u):ci(i,i[ht],o,s)}function jE(i,s,o,u){const c=s[wi].queries[u];if(null===c.matches){const h=i.data,_=o.matches,I=[];for(let M=0;M<_.length;M+=2){const V=_[M];I.push(V<0?null:tI(s,h[V],_[M+1],o.metadata.read))}c.matches=I}return c.matches}function _y(i,s,o,u){const c=i.queries.getByIndex(o),h=c.matches;if(null!==h){const _=jE(i,s,c,o);for(let I=0;I<h.length;I+=2){const M=h[I];if(M>0)u.push(_[I/2]);else{const V=h[I+1],G=s[-M];for(let te=Vn;te<G.length;te++){const de=G[te];de[Ei]===de[un]&&_y(de[ht],de,V,u)}if(null!==G[ms]){const te=G[ms];for(let de=0;de<te.length;de++){const be=te[de];_y(be[ht],be,V,u)}}}}}return u}function HE(i){const s=Oe(),o=Kt(),u=Eu();na(u+1);const c=Np(o,u);if(i.dirty&&function ka(i){return 4==(4&i[qt])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?_y(o,s,u,[]):jE(o,s,c,u);i.reset(h,W_),i.notifyOnChanges()}return!0}return!1}function zE(i,s,o,u){const c=Kt();if(c.firstCreatePass){const h=Sn();(function xp(i,s,o){null===i.queries&&(i.queries=new my),i.queries.track(new yy(s,o))})(c,new $E(s,o,u),h.index),function Ms(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}!function WE(i,s,o){const u=new Ap(4==(4&o));um(i,s,u,u.destroy),null===s[wi]&&(s[wi]=new gy),s[wi].queries.push(new py(u))}(c,Oe(),o)}function vy(){return function qE(i,s){return i[wi].queries[s].queryList}(Oe(),Eu())}function Np(i,s){return i.queries.getByIndex(s)}function Bu(i){return!!$n(i)}function ju(...i){}const Hu=new er("Application Initializer");let qh=(()=>{class i{constructor(o){this.appInits=o,this.resolve=ju,this.reject=ju,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(ip(h))o.push(h);else if(bm(h)){const _=new Promise((I,M)=>{h.subscribe({complete:I,error:M})});o.push(_)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(ue(Hu,8))},i.\u0275prov=Nn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ew=new er("AppId",{providedIn:"root",factory:function tw(){return`${ky()}${ky()}${ky()}`}});function ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wh=new er("Platform Initializer"),mI=new er("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nw=new er("AnimationModuleType");let yI=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Nn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const mu=new er("LocaleId",{providedIn:"root",factory:()=>ie(mu,xt.Optional|xt.SkipSelf)||function rw(){return typeof $localize<"u"&&$localize.locale||Kl}()}),Kh=new er("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class iw{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let EI=(()=>{class i{compileModuleSync(o){return new Dp(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Mu($n(o).declarations).reduce((_,I)=>{const M=on(I);return M&&_.push(new il(M)),_},[]);return new iw(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Nn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uw=(()=>Promise.resolve(0))();function Fy(i){typeof Zone>"u"?uw.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ma{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ao(!1),this.onMicrotaskEmpty=new Ao(!1),this.onStable=new Ao(!1),this.onError=new Ao(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Fp(){let i=We.requestAnimationFrame,s=We.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Lp(i){const s=()=>{!function Yh(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(We,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Qh(i),i.isCheckStableRunning=!0,Zh(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Qh(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,_,I)=>{try{return Vp(i),o.invokeTask(c,h,_,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),Vy(i)}},onInvoke:(o,u,c,h,_,I,M)=>{try{return Vp(i),o.invoke(c,h,_,I,M)}finally{i.shouldCoalesceRunChangeDetection&&s(),Vy(i)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,Qh(i),Zh(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ma.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(ma.isInAngularZone())throw new nt(909,!1)}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+c,s,Ly,ju,ju);try{return h.runTask(_,o,u)}finally{h.cancelTask(_)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const Ly={};function Zh(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Qh(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Vp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Vy(i){i._nesting--,Zh(i)}class bI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ao,this.onMicrotaskEmpty=new Ao,this.onStable=new Ao,this.onError=new Ao}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}const Uy=new er(""),By=new er("");let jy,$y=(()=>{class i{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jy||(function cw(i){jy=i}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ma.assertNotInAngularZone(),Fy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(ue(ma),ue(lw),ue(By))},i.\u0275prov=Nn({token:i,factory:i.\u0275fac}),i})(),lw=(()=>{class i{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return jy?.findTestabilityInTree(this,o,u)??null}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Nn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const yu=!1;let wl=null;const oc=new er("AllowMultipleToken"),bl=new er("PlatformDestroyListeners"),Up=new er("appBootstrapListener");class hw{constructor(s,o){this.name=s,this.token=o}}function Gy(i,s,o=[]){const u=`Platform: ${s}`,c=new er(u);return(h=[])=>{let _=ac();if(!_||_.injector.get(oc,!1)){const I=[...o,...h,{provide:c,useValue:!0}];i?i(I):function DI(i){if(wl&&!wl.get(oc,!1))throw new nt(400,!1);wl=i;const s=i.get(Xh);(function fw(i){const s=i.get(Wh,null);s&&s.forEach(o=>o())})(i)}(function $p(i=[],s){return uu.create({name:s,providers:[{provide:Gg,useValue:"platform"},{provide:bl,useValue:new Set([()=>wl=null])},...i]})}(I,u))}return function gw(i){const s=ac();if(!s)throw new nt(401,!1);return s}()}}function ac(){return wl?.get(Xh)??null}let Xh=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function Hp(i,s){let o;return o="noop"===i?new bI:("zone.js"===i?void 0:i)||new ma(s),o}(u?.ngZone,function jp(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:ma,useValue:c}];return c.run(()=>{const _=uu.create({providers:h,parent:this.injector,name:o.moduleType.name}),I=o.create(_),M=I.injector.get(Bd,null);if(!M)throw new nt(402,!1);return c.runOutsideAngular(()=>{const V=c.onError.subscribe({next:G=>{M.handleError(G)}});I.onDestroy(()=>{Jh(this._modules,I),V.unsubscribe()})}),function Gp(i,s,o){try{const u=o();return ip(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(M,c,()=>{const V=I.injector.get(qh);return V.runInitializers(),V.donePromise.then(()=>(function Zl(i){Kn(i,"Expected localeId to be defined"),"string"==typeof i&&(cr=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(mu,Kl)||Kl),this._moduleDoBootstrap(I),I))})})}bootstrapModule(o,u=[]){const c=qy({},u);return function Bp(i,s,o){const u=new Dp(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(zp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new nt(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(bl,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(ue(uu))},i.\u0275prov=Nn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function qy(i,s){return Array.isArray(s)?s.reduce(qy,i):{...i,...s}}let zp=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ae.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),_=new ae.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{ma.assertNotInAngularZone(),Fy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{ma.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),V.unsubscribe()}});this.isStable=function Ne(...i){let s=Number.POSITIVE_INFINITY,o=null,u=i[i.length-1];return(0,Ee.K)(u)?(o=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(s=i.pop())):"number"==typeof u&&(s=i.pop()),null===o&&1===i.length&&i[0]instanceof ae.y?i[0]:(0,re.J)(s)((0,me.n)(i,o))}(h,_.pipe((0,Ce.B)()))}bootstrap(o,u){const c=o instanceof z_;if(!this._injector.get(qh).done){!c&&Qn(o);throw new nt(405,yu)}let _;_=c?o:this._injector.get(Rl).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const I=function dw(i){return i.isBoundToModule}(_)?void 0:this._injector.get(ha),V=_.create(uu.NULL,[],u||_.selector,I),G=V.location.nativeElement,te=V.injector.get(Uy,null);return te?.registerApplication(G),V.onDestroy(()=>{this.detachView(V.hostView),Jh(this.components,V),te?.unregisterApplication(G)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Jh(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Up,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Jh(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new nt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(o){return new(o||i)(ue(ma),ue(el),ue(Bd))},i.\u0275prov=Nn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Jh(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let SI=(()=>{class i{}return i.__NG_ELEMENT_ID__=AI,i})();function AI(i){return function MI(i,s,o){if(Yr(i)&&!o){const u=lr(i.index,s);return new kc(u,u)}return 47&i.type?new kc(s[or],s):null}(Sn(),Oe(),16==(16&i))}class Xp{constructor(){}supports(s){return ch(s)}create(s){return new Yy(s)}}const Jp=(i,s)=>s;class Yy{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Jp}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const _=!u||o&&o.currentIndex<ww(u,c,h)?o:u,I=ww(_,c,h),M=_.currentIndex;if(_===u)c--,u=u._nextRemoved;else if(o=o._next,null==_.previousIndex)c++;else{h||(h=[]);const V=I-c,G=M-c;if(V!=G){for(let de=0;de<V;de++){const be=de<h.length?h[de]:h[de]=0,Ue=be+de;G<=Ue&&Ue<V&&(h[de]=be+1)}h[_.previousIndex]=G-V}}I!==M&&s(_,I,M)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!ch(s))throw new nt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,_,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)h=s[I],_=this._trackByFn(I,h),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,h,_,I)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,I),u=!0),o=o._next}else c=0,function Vc(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Symbol.iterator]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,I=>{_=this._trackByFn(c,I),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,I,_,c)),Object.is(o.item,I)||this._addIdentityChange(o,I)):(o=this._mismatch(o,I,_,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,c)):s=this._addAfter(new Ew(o,u),h,c),s}_verifyReinsertion(s,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new eg),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eg),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Ew{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _d{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class eg{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new _d,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ww(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class bw{constructor(){}supports(s){return s instanceof Map||ym(s)}create(){return new Iw}}class Iw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||ym(s)))throw new nt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const h=c._prev,_=c._next;return h&&(h._next=_),_&&(_._prev=h),c._next=null,c._prev=null,c}const u=new Dw(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class Dw{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tw(){return new rf([new Xp])}let rf=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Tw()),deps:[[i,new au,new Yu]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new nt(901,!1)}}return i.\u0275prov=Nn({token:i,providedIn:"root",factory:Tw}),i})();function tg(){return new Qy([new bw])}let Qy=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||tg()),deps:[[i,new au,new Yu]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new nt(901,!1)}}return i.\u0275prov=Nn({token:i,providedIn:"root",factory:tg}),i})();const Jy=Gy(null,"core",[]);let e_=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(ue(zp))},i.\u0275mod=Ar({type:i}),i.\u0275inj=mi({}),i})();function t_(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},4719:(Ht,je,Q)=>{Q.d(je,{Fj:()=>St,qu:()=>pr,u:()=>Po,cw:()=>se,sg:()=>ns,u5:()=>Nr,JJ:()=>xt,JL:()=>Ye,On:()=>Cn,YN:()=>ko,wV:()=>xi,UX:()=>Es,EJ:()=>Oo,kI:()=>kt,_Y:()=>ya,Kr:()=>Ya});var b=Q(5675),R=Q(6895),ae=Q(5254),Ee=Q(6498),re=Q(6688),me=Q(4850),Ne=Q(7830);function ye(P,N){return new Ee.y(S=>{const j=P.length;if(0===j)return void S.complete();const Te=new Array(j);let _t=0,Oe=0;for(let Kt=0;Kt<j;Kt++){const Pi=(0,ae.D)(P[Kt]);let Bs=!1;S.add(Pi.subscribe({next:Sn=>{Bs||(Bs=!0,Oe++),Te[Kt]=Sn},error:Sn=>S.error(Sn),complete:()=>{_t++,(_t===j||!Bs)&&(Oe===j&&S.next(N?N.reduce((Sn,Rr,Hi)=>(Sn[Rr]=Te[Hi],Sn),{}):Te),S.complete())}}))}})}let X=(()=>{class P{constructor(S,j){this._renderer=S,this._elementRef=j,this.onChange=Te=>{},this.onTouched=()=>{}}setProperty(S,j){this._renderer.setProperty(this._elementRef.nativeElement,S,j)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(b.Qsj),b.Y36(b.SBq))},P.\u0275dir=b.lG2({type:P}),P})(),Y=(()=>{class P extends X{}return P.\u0275fac=function(){let N;return function(j){return(N||(N=b.n5z(P)))(j||P)}}(),P.\u0275dir=b.lG2({type:P,features:[b.qOj]}),P})();const le=new b.OlP("NgValueAccessor"),Ve={provide:le,useExisting:(0,b.Gpc)(()=>St),multi:!0},yt=new b.OlP("CompositionEventMode");let St=(()=>{class P extends X{constructor(S,j,Te){super(S,j),this._compositionMode=Te,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lt(){const P=(0,R.q)()?(0,R.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(yt,8))},P.\u0275dir=b.lG2({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,j){1&S&&b.NdJ("input",function(_t){return j._handleInput(_t.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(_t){return j._compositionEnd(_t.target.value)})},features:[b._Bn([Ve]),b.qOj]}),P})();const zt=!1;function nt(P){return null==P||("string"==typeof P||Array.isArray(P))&&0===P.length}function dt(P){return null!=P&&"number"==typeof P.length}const qe=new b.OlP("NgValidators"),we=new b.OlP("NgAsyncValidators"),Ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kt{static min(N){return function Fe(P){return N=>{if(nt(N.value)||nt(P))return null;const S=parseFloat(N.value);return!isNaN(S)&&S<P?{min:{min:P,actual:N.value}}:null}}(N)}static max(N){return function ke(P){return N=>{if(nt(N.value)||nt(P))return null;const S=parseFloat(N.value);return!isNaN(S)&&S>P?{max:{max:P,actual:N.value}}:null}}(N)}static required(N){return function rt(P){return nt(P.value)?{required:!0}:null}(N)}static requiredTrue(N){return function It(P){return!0===P.value?null:{required:!0}}(N)}static email(N){return function Ft(P){return nt(P.value)||Ke.test(P.value)?null:{email:!0}}(N)}static minLength(N){return function He(P){return N=>nt(N.value)||!dt(N.value)?null:N.value.length<P?{minlength:{requiredLength:P,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function nn(P){return N=>dt(N.value)&&N.value.length>P?{maxlength:{requiredLength:P,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Fn(P){if(!P)return Wn;let N,S;return"string"==typeof P?(S="","^"!==P.charAt(0)&&(S+="^"),S+=P,"$"!==P.charAt(P.length-1)&&(S+="$"),N=new RegExp(S)):(S=P.toString(),N=P),j=>{if(nt(j.value))return null;const Te=j.value;return N.test(Te)?null:{pattern:{requiredPattern:S,actualValue:Te}}}}(N)}static nullValidator(N){return null}static compose(N){return Kn(N)}static composeAsync(N){return _n(N)}}function Wn(P){return null}function Ci(P){return null!=P}function Sr(P){const N=(0,b.QGY)(P)?(0,ae.D)(P):P;if(zt&&!(0,b.CqO)(N)){let S="Expected async validator to return Promise or Observable.";throw"object"==typeof P&&(S+=" Are you using a synchronous validator where an async validator is expected?"),new b.vHH(-1101,S)}return N}function gi(P){let N={};return P.forEach(S=>{N=null!=S?{...N,...S}:N}),0===Object.keys(N).length?null:N}function Hn(P,N){return N.map(S=>S(P))}function Bn(P){return P.map(N=>function yr(P){return!P.validate}(N)?N:S=>N.validate(S))}function Kn(P){if(!P)return null;const N=P.filter(Ci);return 0==N.length?null:function(S){return gi(Hn(S,N))}}function Ut(P){return null!=P?Kn(Bn(P)):null}function _n(P){if(!P)return null;const N=P.filter(Ci);return 0==N.length?null:function(S){return function Ce(...P){if(1===P.length){const N=P[0];if((0,re.k)(N))return ye(N,null);if((0,Ne.K)(N)&&Object.getPrototypeOf(N)===Object.prototype){const S=Object.keys(N);return ye(S.map(j=>N[j]),S)}}if("function"==typeof P[P.length-1]){const N=P.pop();return ye(P=1===P.length&&(0,re.k)(P[0])?P[0]:P,null).pipe((0,me.U)(S=>N(...S)))}return ye(P,null)}(Hn(S,N).map(Sr)).pipe((0,me.U)(gi))}}function Zr(P){return null!=P?_n(Bn(P)):null}function Ps(P,N){return null===P?[N]:Array.isArray(P)?[...P,N]:[P,N]}function Nn(P){return P._rawValidators}function dr(P){return P._rawAsyncValidators}function mi(P){return P?Array.isArray(P)?P:[P]:[]}function Br(P,N){return Array.isArray(P)?P.includes(N):P===N}function yi(P,N){const S=mi(N);return mi(P).forEach(Te=>{Br(S,Te)||S.push(Te)}),S}function $r(P,N){return mi(N).filter(S=>!Br(P,S))}class ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Ut(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Zr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,S){return!!this.control&&this.control.hasError(N,S)}getError(N,S){return this.control?this.control.getError(N,S):null}}class vn extends ir{get formDirective(){return null}get path(){return null}}class Ct extends ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rn{constructor(N){this._cd=N}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xt=(()=>{class P extends rn{constructor(S){super(S)}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(Ct,2))},P.\u0275dir=b.lG2({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,j){2&S&&b.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)},features:[b.qOj]}),P})(),Ye=(()=>{class P extends rn{constructor(S){super(S)}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(vn,10))},P.\u0275dir=b.lG2({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,j){2&S&&b.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)("ng-submitted",j.isSubmitted)},features:[b.qOj]}),P})();function tn(P,N){return P?`with name: '${N}'`:`at index: ${N}`}const Pe=!1,ue="VALID",ne="INVALID",ie="PENDING",xe="DISABLED";function q(P){return(pe(P)?P.validators:P)||null}function oe(P,N){return(pe(N)?N.asyncValidators:P)||null}function pe(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}function et(P,N,S){const j=P.controls;if(!(N?Object.keys(j):j).length)throw new b.vHH(1e3,Pe?function Ui(P){return`\n    There are no form controls registered with this ${P?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(N):"");if(!j[S])throw new b.vHH(1001,Pe?function Yn(P,N){return`Cannot find form control ${tn(P,N)}`}(N,S):"")}function Nt(P,N,S){P._forEachChild((j,Te)=>{if(void 0===S[Te])throw new b.vHH(1002,Pe?function Qe(P,N){return`Must supply a value for form control ${tn(P,N)}`}(N,Te):"")})}class ce{constructor(N,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===ue}get invalid(){return this.status===ne}get pending(){return this.status==ie}get disabled(){return this.status===xe}get enabled(){return this.status!==xe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(yi(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(yi(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators($r(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators($r(N,this._rawAsyncValidators))}hasValidator(N){return Br(this._rawValidators,N)}hasAsyncValidator(N){return Br(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=ie,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const S=this._parentMarkedDirty(N.onlySelf);this.status=xe,this.errors=null,this._forEachChild(j=>{j.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:S}),this._onDisabledChange.forEach(j=>j(!0))}enable(N={}){const S=this._parentMarkedDirty(N.onlySelf);this.status=ue,this._forEachChild(j=>{j.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:S}),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ue||this.status===ie)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xe:ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=ie,this._hasOwnPendingAsyncValidator=!0;const S=Sr(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,S={}){this.errors=N,this._updateControlsErrors(!1!==S.emitEvent)}get(N){let S=N;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((j,Te)=>j&&j._find(Te),this)}getError(N,S){const j=S?this.get(S):this;return j&&j.errors?j.errors[N]:null}hasError(N,S){return!!this.getError(N,S)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?xe:this.errors?ne:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ie)?ie:this._anyControlsHaveStatus(ne)?ne:ue}_anyControlsHaveStatus(N){return this._anyControls(S=>S.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){pe(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function Z(P){return Array.isArray(P)?Ut(P):P||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function Se(P){return Array.isArray(P)?Zr(P):P||null}(this._rawAsyncValidators)}}class se extends ce{constructor(N,S,j){super(q(S),oe(j,S)),this.controls=N,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,S){return this.controls[N]?this.controls[N]:(this.controls[N]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(N,S,j={}){this.registerControl(N,S),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(N,S={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(N,S,j={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],S&&this.registerControl(N,S),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,S={}){Nt(this,!0,N),Object.keys(N).forEach(j=>{et(this,!0,j),this.controls[j].setValue(N[j],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(N,S={}){null!=N&&(Object.keys(N).forEach(j=>{const Te=this.controls[j];Te&&Te.patchValue(N[j],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(N={},S={}){this._forEachChild((j,Te)=>{j.reset(N[Te],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(N,S,j)=>(N[j]=S.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(S,j)=>!!j._syncPendingControls()||S);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(S=>{const j=this.controls[S];j&&N(j,S)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[S,j]of Object.entries(this.controls))if(this.contains(S)&&N(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,j,Te)=>((j.enabled||this.disabled)&&(S[Te]=j.value),S))}_reduceChildren(N,S){let j=N;return this._forEachChild((Te,_t)=>{j=S(j,Te,_t)}),j}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}class De extends se{}const at=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ot}),ot="always";function an(P,N){return[...N.path,P]}function Yi(P,N,S=ot){Js(P,N),N.valueAccessor.writeValue(P.value),(P.disabled||"always"===S)&&N.valueAccessor.setDisabledState?.(P.disabled),function Xi(P,N){N.valueAccessor.registerOnChange(S=>{P._pendingValue=S,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&Hr(P,N)})}(P,N),function Mr(P,N){const S=(j,Te)=>{N.valueAccessor.writeValue(j),Te&&N.viewToModelUpdate(j)};P.registerOnChange(S),N._registerOnDestroy(()=>{P._unregisterOnChange(S)})}(P,N),function Ji(P,N){N.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&Hr(P,N),"submit"!==P.updateOn&&P.markAsTouched()})}(P,N),function Xs(P,N){if(N.valueAccessor.setDisabledState){const S=j=>{N.valueAccessor.setDisabledState(j)};P.registerOnDisabledChange(S),N._registerOnDestroy(()=>{P._unregisterOnDisabledChange(S)})}}(P,N)}function Tn(P,N,S=!0){const j=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(j),N.valueAccessor.registerOnTouched(j)),Ar(P,N),P&&(N._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function Qi(P,N){P.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(N)})}function Js(P,N){const S=Nn(P);null!==N.validator?P.setValidators(Ps(S,N.validator)):"function"==typeof S&&P.setValidators([S]);const j=dr(P);null!==N.asyncValidator?P.setAsyncValidators(Ps(j,N.asyncValidator)):"function"==typeof j&&P.setAsyncValidators([j]);const Te=()=>P.updateValueAndValidity();Qi(N._rawValidators,Te),Qi(N._rawAsyncValidators,Te)}function Ar(P,N){let S=!1;if(null!==P){if(null!==N.validator){const Te=Nn(P);if(Array.isArray(Te)&&Te.length>0){const _t=Te.filter(Oe=>Oe!==N.validator);_t.length!==Te.length&&(S=!0,P.setValidators(_t))}}if(null!==N.asyncValidator){const Te=dr(P);if(Array.isArray(Te)&&Te.length>0){const _t=Te.filter(Oe=>Oe!==N.asyncValidator);_t.length!==Te.length&&(S=!0,P.setAsyncValidators(_t))}}}const j=()=>{};return Qi(N._rawValidators,j),Qi(N._rawAsyncValidators,j),S}function Hr(P,N){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function es(P,N){if(!P.hasOwnProperty("model"))return!1;const S=P.model;return!!S.isFirstChange()||!Object.is(N,S.currentValue)}function qt(P,N){if(!N)return null;let S,j,Te;return Array.isArray(N),N.forEach(_t=>{_t.constructor===St?S=_t:function ri(P){return Object.getPrototypeOf(P.constructor)===Y}(_t)?j=_t:Te=_t}),Te||j||S||null}function Xn(P,N){const S=P.indexOf(N);S>-1&&P.splice(S,1)}function vi(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}const Ai=class extends ce{constructor(N=null,S,j){super(q(S),oe(j,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pe(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=vi(N)?N.value:N)}setValue(N,S={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(N,S={}){this.setValue(N,S)}reset(N=this.defaultValue,S={}){this._applyFormState(N),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Xn(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Xn(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){vi(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}},Dn={provide:Ct,useExisting:(0,b.Gpc)(()=>Cn)},Mi=(()=>Promise.resolve())();let Cn=(()=>{class P extends Ct{constructor(S,j,Te,_t,Oe,Kt){super(),this._changeDetectorRef=Oe,this.callSetDisabledState=Kt,this.control=new Ai,this._registered=!1,this.update=new b.vpe,this._parent=S,this._setValidators(j),this._setAsyncValidators(Te),this.valueAccessor=qt(0,_t)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const j=S.name.previousValue;this.formDirective.removeControl({name:j,path:this._getPath(j)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),es(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){Mi.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const j=S.isDisabled.currentValue,Te=0!==j&&(0,b.D6c)(j);Mi.then(()=>{Te&&!this.control.disabled?this.control.disable():!Te&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?an(S,this._parent):[S]}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(vn,9),b.Y36(qe,10),b.Y36(we,10),b.Y36(le,10),b.Y36(b.sBO,8),b.Y36(at,8))},P.\u0275dir=b.lG2({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b._Bn([Dn]),b.qOj,b.TTD]}),P})(),ya=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275dir=b.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})();const ks={provide:le,useExisting:(0,b.Gpc)(()=>xi),multi:!0};let xi=(()=>{class P extends Y{writeValue(S){this.setProperty("value",S??"")}registerOnChange(S){this.onChange=j=>{S(""==j?null:parseFloat(j))}}}return P.\u0275fac=function(){let N;return function(j){return(N||(N=b.n5z(P)))(j||P)}}(),P.\u0275dir=b.lG2({type:P,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(S,j){1&S&&b.NdJ("input",function(_t){return j.onChange(_t.target.value)})("blur",function(){return j.onTouched()})},features:[b._Bn([ks]),b.qOj]}),P})(),ms=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({}),P})();const si=new b.OlP("NgModelWithFormControlWarning"),ar={provide:vn,useExisting:(0,b.Gpc)(()=>ns)};let ns=(()=>{class P extends vn{constructor(S,j,Te){super(),this.callSetDisabledState=Te,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(S),this._setAsyncValidators(j)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ar(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const j=this.form.get(S.path);return Yi(j,S,this.callSetDisabledState),j.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),j}getControl(S){return this.form.get(S.path)}removeControl(S){Tn(S.control||null,S,!1),function un(P,N){const S=P.indexOf(N);S>-1&&P.splice(S,1)}(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,j){this.form.get(S.path).setValue(j)}onSubmit(S){return this.submitted=!0,function ht(P,N){P._syncPendingControls(),N.forEach(S=>{const j=S.control;"submit"===j.updateOn&&j._pendingChange&&(S.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const j=S.control,Te=this.form.get(S.path);j!==Te&&(Tn(j||null,S),(P=>P instanceof Ai)(Te)&&(Yi(Te,S,this.callSetDisabledState),S.control=Te))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const j=this.form.get(S.path);(function on(P,N){Js(P,N)})(j,S),j.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const j=this.form.get(S.path);j&&function sr(P,N){return Ar(P,N)}(j,S)&&j.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Js(this.form,this),this._oldForm&&Ar(this._oldForm,this)}_checkFormPresent(){}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(qe,10),b.Y36(we,10),b.Y36(at,8))},P.\u0275dir=b.lG2({type:P,selectors:[["","formGroup",""]],hostBindings:function(S,j){1&S&&b.NdJ("submit",function(_t){return j.onSubmit(_t)})("reset",function(){return j.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([ar]),b.qOj,b.TTD]}),P})();const _a={provide:Ct,useExisting:(0,b.Gpc)(()=>Po)};let Po=(()=>{class P extends Ct{set isDisabled(S){}constructor(S,j,Te,_t,Oe){super(),this._ngModelWarningConfig=Oe,this._added=!1,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(j),this._setAsyncValidators(Te),this.valueAccessor=qt(0,_t)}ngOnChanges(S){this._added||this._setUpControl(),es(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return an(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return P._ngModelWarningSentOnce=!1,P.\u0275fac=function(S){return new(S||P)(b.Y36(vn,13),b.Y36(qe,10),b.Y36(we,10),b.Y36(le,10),b.Y36(si,8))},P.\u0275dir=b.lG2({type:P,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([_a]),b.qOj,b.TTD]}),P})();const rs={provide:le,useExisting:(0,b.Gpc)(()=>Oo),multi:!0};function Us(P,N){return null==P?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${P}: ${N}`.slice(0,50))}let Oo=(()=>{class P extends Y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){this.value=S;const Te=Us(this._getOptionId(S),S);this.setProperty("value",Te)}registerOnChange(S){this.onChange=j=>{this.value=this._getOptionValue(j),S(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(S){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j),S))return j;return null}_getOptionValue(S){const j=function Xo(P){return P.split(":")[0]}(S);return this._optionMap.has(j)?this._optionMap.get(j):S}}return P.\u0275fac=function(){let N;return function(j){return(N||(N=b.n5z(P)))(j||P)}}(),P.\u0275dir=b.lG2({type:P,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(S,j){1&S&&b.NdJ("change",function(_t){return j.onChange(_t.target.value)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([rs]),b.qOj]}),P})(),ko=(()=>{class P{constructor(S,j,Te){this._element=S,this._renderer=j,this._select=Te,this._select&&(this.id=this._select._registerOption())}set ngValue(S){null!=this._select&&(this._select._optionMap.set(this.id,S),this._setElementValue(Us(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._setElementValue(S),this._select&&this._select.writeValue(this._select.value)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(Oo,9))},P.\u0275dir=b.lG2({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),P})();const Jo={provide:le,useExisting:(0,b.Gpc)(()=>so),multi:!0};function Ri(P,N){return null==P?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${P}: ${N}`.slice(0,50))}let so=(()=>{class P extends Y{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(S){this._compareWith=S}writeValue(S){let j;if(this.value=S,Array.isArray(S)){const Te=S.map(_t=>this._getOptionId(_t));j=(_t,Oe)=>{_t._setSelected(Te.indexOf(Oe.toString())>-1)}}else j=(Te,_t)=>{Te._setSelected(!1)};this._optionMap.forEach(j)}registerOnChange(S){this.onChange=j=>{const Te=[],_t=j.selectedOptions;if(void 0!==_t){const Oe=_t;for(let Kt=0;Kt<Oe.length;Kt++){const Bs=this._getOptionValue(Oe[Kt].value);Te.push(Bs)}}else{const Oe=j.options;for(let Kt=0;Kt<Oe.length;Kt++){const Pi=Oe[Kt];if(Pi.selected){const Bs=this._getOptionValue(Pi.value);Te.push(Bs)}}}this.value=Te,S(Te)}}_registerOption(S){const j=(this._idCounter++).toString();return this._optionMap.set(j,S),j}_getOptionId(S){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j)._value,S))return j;return null}_getOptionValue(S){const j=function io(P){return P.split(":")[0]}(S);return this._optionMap.has(j)?this._optionMap.get(j)._value:S}}return P.\u0275fac=function(){let N;return function(j){return(N||(N=b.n5z(P)))(j||P)}}(),P.\u0275dir=b.lG2({type:P,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(S,j){1&S&&b.NdJ("change",function(_t){return j.onChange(_t.target)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[b._Bn([Jo]),b.qOj]}),P})(),Ya=(()=>{class P{constructor(S,j,Te){this._element=S,this._renderer=j,this._select=Te,this._select&&(this.id=this._select._registerOption(this))}set ngValue(S){null!=this._select&&(this._value=S,this._setElementValue(Ri(this.id,S)),this._select.writeValue(this._select.value))}set value(S){this._select?(this._value=S,this._setElementValue(Ri(this.id,S)),this._select.writeValue(this._select.value)):this._setElementValue(S)}_setElementValue(S){this._renderer.setProperty(this._element.nativeElement,"value",S)}_setSelected(S){this._renderer.setProperty(this._element.nativeElement,"selected",S)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return P.\u0275fac=function(S){return new(S||P)(b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(so,9))},P.\u0275dir=b.lG2({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),P})(),is=(()=>{class P{}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({imports:[ms]}),P})();class lr extends ce{constructor(N,S,j){super(q(S),oe(j,S)),this.controls=N,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[this._adjustIndex(N)]}push(N,S={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(N,S,j={}){this.controls.splice(N,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(N,S={}){let j=this._adjustIndex(N);j<0&&(j=0),this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),this.controls.splice(j,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(N,S,j={}){let Te=this._adjustIndex(N);Te<0&&(Te=0),this.controls[Te]&&this.controls[Te]._registerOnCollectionChange(()=>{}),this.controls.splice(Te,1),S&&(this.controls.splice(Te,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,S={}){Nt(this,!1,N),N.forEach((j,Te)=>{et(this,!1,Te),this.at(Te).setValue(j,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(N,S={}){null!=N&&(N.forEach((j,Te)=>{this.at(Te)&&this.at(Te).patchValue(j,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(N=[],S={}){this._forEachChild((j,Te)=>{j.reset(N[Te],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(N=>N.getRawValue())}clear(N={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_adjustIndex(N){return N<0?N+this.length:N}_syncPendingControls(){let N=this.controls.reduce((S,j)=>!!j._syncPendingControls()||S,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((S,j)=>{N(S,j)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(S=>S.enabled&&N(S))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}_find(N){return this.at(N)??null}}function ji(P){return!!P&&(void 0!==P.asyncValidators||void 0!==P.validators||void 0!==P.updateOn)}let pr=(()=>{class P{constructor(){this.useNonNullable=!1}get nonNullable(){const S=new P;return S.useNonNullable=!0,S}group(S,j=null){const Te=this._reduceControls(S);let _t={};return ji(j)?_t=j:null!==j&&(_t.validators=j.validator,_t.asyncValidators=j.asyncValidator),new se(Te,_t)}record(S,j=null){const Te=this._reduceControls(S);return new De(Te,j)}control(S,j,Te){let _t={};return this.useNonNullable?(ji(j)?_t=j:(_t.validators=j,_t.asyncValidators=Te),new Ai(S,{..._t,nonNullable:!0})):new Ai(S,j,Te)}array(S,j,Te){const _t=S.map(Oe=>this._createControl(Oe));return new lr(_t,j,Te)}_reduceControls(S){const j={};return Object.keys(S).forEach(Te=>{j[Te]=this._createControl(S[Te])}),j}_createControl(S){return S instanceof Ai||S instanceof ce?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275prov=b.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),Nr=(()=>{class P{static withConfig(S){return{ngModule:P,providers:[{provide:at,useValue:S.callSetDisabledState??ot}]}}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({imports:[is]}),P})(),Es=(()=>{class P{static withConfig(S){return{ngModule:P,providers:[{provide:si,useValue:S.warnOnNgModelWithFormControl??"always"},{provide:at,useValue:S.callSetDisabledState??ot}]}}}return P.\u0275fac=function(S){return new(S||P)},P.\u0275mod=b.oAB({type:P}),P.\u0275inj=b.cJS({imports:[is]}),P})()},1481:(Ht,je,Q)=>{Q.d(je,{Dx:()=>pn,b2:()=>jr,q6:()=>vn,se:()=>He});var b=Q(6895),R=Q(5675);class ae extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends ae{static makeCurrent(){(0,b.HT)(new Ee)}onAndCancel(se,W,he){return se.addEventListener(W,he,!1),()=>{se.removeEventListener(W,he,!1)}}dispatchEvent(se,W){se.dispatchEvent(W)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,W){return(W=W||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,W){return"window"===W?window:"document"===W?se:"body"===W?se.body:null}getBaseHref(se){const W=function me(){return re=re||document.querySelector("base"),re?re.getAttribute("href"):null}();return null==W?null:function Ce(ce){Ne=Ne||document.createElement("a"),Ne.setAttribute("href",ce);const se=Ne.pathname;return"/"===se.charAt(0)?se:`/${se}`}(W)}resetBaseElement(){re=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,b.Mx)(document.cookie,se)}}let Ne,re=null;const ye=new R.OlP("TRANSITION_ID"),Y=[{provide:R.ip1,useFactory:function X(ce,se,W){return()=>{W.get(R.CZH).donePromise.then(()=>{const he=(0,b.q)(),De=se.querySelectorAll(`style[ng-transition="${ce}"]`);for(let st=0;st<De.length;st++)he.remove(De[st])})}},deps:[ye,b.K0,R.zs3],multi:!0}];let Me=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(W){return new(W||ce)},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Be=new R.OlP("EventManagerPlugins");let Ve=(()=>{class ce{constructor(W,he){this._zone=he,this._eventNameToPlugin=new Map,W.forEach(De=>{De.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,he,De){return this._findPluginFor(he).addEventListener(W,he,De)}addGlobalEventListener(W,he,De){return this._findPluginFor(he).addGlobalEventListener(W,he,De)}getZone(){return this._zone}_findPluginFor(W){const he=this._eventNameToPlugin.get(W);if(he)return he;const De=this._plugins;for(let st=0;st<De.length;st++){const at=De[st];if(at.supports(W))return this._eventNameToPlugin.set(W,at),at}throw new Error(`No event manager plugin found for event ${W}`)}}return ce.\u0275fac=function(W){return new(W||ce)(R.LFG(Be),R.LFG(R.R0b))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class lt{constructor(se){this._doc=se}addGlobalEventListener(se,W,he){const De=(0,b.q)().getGlobalEventTarget(this._doc,se);if(!De)throw new Error(`Unsupported event target ${De} for event ${W}`);return this.addEventListener(De,W,he)}}let yt=(()=>{class ce{constructor(){this.usageCount=new Map}addStyles(W){for(const he of W)1===this.changeUsageCount(he,1)&&this.onStyleAdded(he)}removeStyles(W){for(const he of W)0===this.changeUsageCount(he,-1)&&this.onStyleRemoved(he)}onStyleRemoved(W){}onStyleAdded(W){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(W,he){const De=this.usageCount;let st=De.get(W)??0;return st+=he,st>0?De.set(W,st):De.delete(W),st}ngOnDestroy(){for(const W of this.getAllStyles())this.onStyleRemoved(W);this.usageCount.clear()}}return ce.\u0275fac=function(W){return new(W||ce)},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),St=(()=>{class ce extends yt{constructor(W){super(),this.doc=W,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(W){for(const he of this.hostNodes)this.addStyleToHost(he,W)}onStyleRemoved(W){const he=this.styleRef;he.get(W)?.forEach(st=>st.remove()),he.delete(W)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const he of this.getAllStyles())this.addStyleToHost(W,he)}removeHost(W){this.hostNodes.delete(W)}addStyleToHost(W,he){const De=this.doc.createElement("style");De.textContent=he,W.appendChild(De);const st=this.styleRef.get(he);st?st.push(De):this.styleRef.set(he,[De])}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}}return ce.\u0275fac=function(W){return new(W||ce)(R.LFG(b.K0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nt=/%COMP%/g,Fe=new R.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function It(ce,se){return se.flat(100).map(W=>W.replace(nt,ce))}function Ft(ce){return se=>{if("__ngUnwrap__"===se)return ce;!1===ce(se)&&(se.preventDefault(),se.returnValue=!1)}}let He=(()=>{class ce{constructor(W,he,De,st){this.eventManager=W,this.sharedStylesHost=he,this.appId=De,this.removeStylesOnCompDestory=st,this.rendererByCompId=new Map,this.defaultRenderer=new nn(W)}createRenderer(W,he){if(!W||!he)return this.defaultRenderer;const De=this.getOrCreateRenderer(W,he);return De instanceof Hn?De.applyToHost(W):De instanceof gi&&De.applyStyles(),De}getOrCreateRenderer(W,he){const De=this.rendererByCompId;let st=De.get(he.id);if(!st){const at=this.eventManager,ot=this.sharedStylesHost,an=this.removeStylesOnCompDestory;switch(he.encapsulation){case R.ifc.Emulated:st=new Hn(at,ot,he,this.appId,an);break;case R.ifc.ShadowDom:return new Sr(at,ot,W,he);default:st=new gi(at,ot,he,an)}st.onDestroy=()=>De.delete(he.id),De.set(he.id,st)}return st}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ce.\u0275fac=function(W){return new(W||ce)(R.LFG(Ve),R.LFG(St),R.LFG(R.AFp),R.LFG(Fe))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class nn{constructor(se){this.eventManager=se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,W){return W?document.createElementNS(zt[W]||W,se):document.createElement(se)}createComment(se){return document.createComment(se)}createText(se){return document.createTextNode(se)}appendChild(se,W){(Ci(se)?se.content:se).appendChild(W)}insertBefore(se,W,he){se&&(Ci(se)?se.content:se).insertBefore(W,he)}removeChild(se,W){se&&se.removeChild(W)}selectRootElement(se,W){let he="string"==typeof se?document.querySelector(se):se;if(!he)throw new Error(`The selector "${se}" did not match any elements`);return W||(he.textContent=""),he}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,W,he,De){if(De){W=De+":"+W;const st=zt[De];st?se.setAttributeNS(st,W,he):se.setAttribute(W,he)}else se.setAttribute(W,he)}removeAttribute(se,W,he){if(he){const De=zt[he];De?se.removeAttributeNS(De,W):se.removeAttribute(`${he}:${W}`)}else se.removeAttribute(W)}addClass(se,W){se.classList.add(W)}removeClass(se,W){se.classList.remove(W)}setStyle(se,W,he,De){De&(R.JOm.DashCase|R.JOm.Important)?se.style.setProperty(W,he,De&R.JOm.Important?"important":""):se.style[W]=he}removeStyle(se,W,he){he&R.JOm.DashCase?se.style.removeProperty(W):se.style[W]=""}setProperty(se,W,he){se[W]=he}setValue(se,W){se.nodeValue=W}listen(se,W,he){return"string"==typeof se?this.eventManager.addGlobalEventListener(se,W,Ft(he)):this.eventManager.addEventListener(se,W,Ft(he))}}function Ci(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Sr extends nn{constructor(se,W,he,De){super(se),this.sharedStylesHost=W,this.hostEl=he,this.shadowRoot=he.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const st=It(De.id,De.styles);for(const at of st){const ot=document.createElement("style");ot.textContent=at,this.shadowRoot.appendChild(ot)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,W){return super.appendChild(this.nodeOrShadowRoot(se),W)}insertBefore(se,W,he){return super.insertBefore(this.nodeOrShadowRoot(se),W,he)}removeChild(se,W){return super.removeChild(this.nodeOrShadowRoot(se),W)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gi extends nn{constructor(se,W,he,De,st=he.id){super(se),this.sharedStylesHost=W,this.removeStylesOnCompDestory=De,this.rendererUsageCount=0,this.styles=It(st,he.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Hn extends gi{constructor(se,W,he,De,st){const at=De+"-"+he.id;super(se,W,he,st,at),this.contentAttr=function ke(ce){return"_ngcontent-%COMP%".replace(nt,ce)}(at),this.hostAttr=function rt(ce){return"_nghost-%COMP%".replace(nt,ce)}(at)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,W){const he=super.createElement(se,W);return super.setAttribute(he,this.contentAttr,""),he}}let yr=(()=>{class ce extends lt{constructor(W){super(W)}supports(W){return!0}addEventListener(W,he,De){return W.addEventListener(he,De,!1),()=>this.removeEventListener(W,he,De)}removeEventListener(W,he,De){return W.removeEventListener(he,De)}}return ce.\u0275fac=function(W){return new(W||ce)(R.LFG(b.K0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Bn=["alt","control","meta","shift"],Kn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ut={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let _n=(()=>{class ce extends lt{constructor(W){super(W)}supports(W){return null!=ce.parseEventName(W)}addEventListener(W,he,De){const st=ce.parseEventName(he),at=ce.eventCallback(st.fullKey,De,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(W,st.domEventName,at))}static parseEventName(W){const he=W.toLowerCase().split("."),De=he.shift();if(0===he.length||"keydown"!==De&&"keyup"!==De)return null;const st=ce._normalizeKey(he.pop());let at="",ot=he.indexOf("code");if(ot>-1&&(he.splice(ot,1),at="code."),Bn.forEach(Yi=>{const Tn=he.indexOf(Yi);Tn>-1&&(he.splice(Tn,1),at+=Yi+".")}),at+=st,0!=he.length||0===st.length)return null;const an={};return an.domEventName=De,an.fullKey=at,an}static matchEventFullKeyCode(W,he){let De=Kn[W.key]||W.key,st="";return he.indexOf("code.")>-1&&(De=W.code,st="code."),!(null==De||!De)&&(De=De.toLowerCase()," "===De?De="space":"."===De&&(De="dot"),Bn.forEach(at=>{at!==De&&(0,Ut[at])(W)&&(st+=at+".")}),st+=De,st===he)}static eventCallback(W,he,De){return st=>{ce.matchEventFullKeyCode(st,W)&&De.runGuarded(()=>he(st))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return ce.\u0275fac=function(W){return new(W||ce)(R.LFG(b.K0))},ce.\u0275prov=R.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const vn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:b.bD},{provide:R.g9A,useValue:function Br(){Ee.makeCurrent()},multi:!0},{provide:b.K0,useFactory:function $r(){return(0,R.RDi)(document),document},deps:[]}]),Ct=new R.OlP(""),rn=[{provide:R.rWj,useClass:class le{addToWindow(se){R.dqk.getAngularTestability=(he,De=!0)=>{const st=se.findTestabilityInTree(he,De);if(null==st)throw new Error("Could not find testability for element.");return st},R.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(he=>{const De=R.dqk.getAllAngularTestabilities();let st=De.length,at=!1;const ot=function(an){at=at||an,st--,0==st&&he(at)};De.forEach(function(an){an.whenStable(ot)})})}findTestabilityInTree(se,W,he){return null==W?null:se.getTestability(W)??(he?(0,b.q)().isShadowRoot(W)?this.findTestabilityInTree(se,W.host,!0):this.findTestabilityInTree(se,W.parentElement,!0):null)}},deps:[]},{provide:R.lri,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b,R.eoX,R.rWj]}],_i=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function yi(){return new R.qLn},deps:[]},{provide:Be,useClass:yr,multi:!0,deps:[b.K0,R.R0b,R.Lbi]},{provide:Be,useClass:_n,multi:!0,deps:[b.K0]},{provide:He,useClass:He,deps:[Ve,St,R.AFp,Fe]},{provide:R.FYo,useExisting:He},{provide:yt,useExisting:St},{provide:St,useClass:St,deps:[b.K0]},{provide:Ve,useClass:Ve,deps:[Be,R.R0b]},{provide:b.JF,useClass:Me,deps:[]},[]];let jr=(()=>{class ce{constructor(W){}static withServerTransition(W){return{ngModule:ce,providers:[{provide:R.AFp,useValue:W.appId},{provide:ye,useExisting:R.AFp},Y]}}}return ce.\u0275fac=function(W){return new(W||ce)(R.LFG(Ct,12))},ce.\u0275mod=R.oAB({type:ce}),ce.\u0275inj=R.cJS({providers:[..._i,...rn],imports:[b.ez,R.hGG]}),ce})(),pn=(()=>{class ce{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return ce.\u0275fac=function(W){return new(W||ce)(R.LFG(b.K0))},ce.\u0275prov=R.Yz7({token:ce,factory:function(W){let he=null;return he=W?new W:function fn(){return new pn((0,R.LFG)(b.K0))}(),he},providedIn:"root"}),ce})();typeof window<"u"&&window},5720:(Ht,je,Q)=>{Q.d(je,{F0:()=>qs,rH:()=>pc,Bz:()=>xa,lC:()=>$t});var b=Q(5675),R=Q(5254),ae=Q(1086),Ee=Q(5529),re=Q(5279);class me extends Ee.xQ{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const g=super._subscribe(E);return g&&!g.closed&&E.next(this._value),g}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new re.N;return this._value}next(E){super.next(this._value=E)}}const Ce=(()=>{function v(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return v.prototype=Object.create(Error.prototype),v})();var ye=Q(2866),X=Q(6688),Y=Q(3489);class le extends Y.L{notifyNext(E,g,D,O,$){this.destination.next(g)}notifyError(E,g){this.destination.error(E)}notifyComplete(E){this.destination.complete()}}class Me extends Y.L{constructor(E,g,D){super(),this.parent=E,this.outerValue=g,this.outerIndex=D,this.index=0}_next(E){this.parent.notifyNext(this.outerValue,E,this.outerIndex,this.index++,this)}_error(E){this.parent.notifyError(E,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Be=Q(9249),Ve=Q(6498);function lt(v,E,g,D,O=new Me(v,g,D)){if(!O.closed)return E instanceof Ve.y?E.subscribe(O):(0,Be.s)(E)(O)}var yt=Q(3009);const St={};function zt(...v){let E,g;return(0,ye.K)(v[v.length-1])&&(g=v.pop()),"function"==typeof v[v.length-1]&&(E=v.pop()),1===v.length&&(0,X.k)(v[0])&&(v=v[0]),(0,yt.n)(v,g).lift(new nt(E))}class nt{constructor(E){this.resultSelector=E}call(E,g){return g.subscribe(new dt(E,this.resultSelector))}}class dt extends le{constructor(E,g){super(E),this.resultSelector=g,this.active=0,this.values=[],this.observables=[]}_next(E){this.values.push(St),this.observables.push(E)}_complete(){const E=this.observables,g=E.length;if(0===g)this.destination.complete();else{this.active=g,this.toRespond=g;for(let D=0;D<g;D++)this.add(lt(this,E[D],void 0,D))}}notifyComplete(E){0==(this.active-=1)&&this.destination.complete()}notifyNext(E,g,D){const O=this.values,z=this.toRespond?O[D]===St?--this.toRespond:this.toRespond:0;O[D]=g,0===z&&(this.resultSelector?this._tryResultSelector(O):this.destination.next(O.slice()))}_tryResultSelector(E){let g;try{g=this.resultSelector.apply(this,E)}catch(D){return void this.destination.error(D)}this.destination.next(g)}}var qe=Q(9146);function Ke(...v){return function we(){return(0,qe.J)(1)}()((0,ae.of)(...v))}var kt=Q(8896);function Fe(v){return new Ve.y(E=>{let g;try{g=v()}catch(O){return void E.error(O)}return(g?(0,R.D)(g):(0,kt.c)()).subscribe(E)})}var ke=Q(4843),rt=Q(1737),It=Q(1762),Ft=Q(6895),He=Q(4850),nn=Q(1177);function Fn(v,E){return"function"==typeof E?g=>g.pipe(Fn((D,O)=>(0,R.D)(v(D,O)).pipe((0,He.U)(($,z)=>E(D,$,O,z))))):g=>g.lift(new Wn(v))}class Wn{constructor(E){this.project=E}call(E,g){return g.subscribe(new Ci(E,this.project))}}class Ci extends nn.Ds{constructor(E,g){super(E),this.project=g,this.index=0}_next(E){let g;const D=this.index++;try{g=this.project(E,D)}catch(O){return void this.destination.error(O)}this._innerSub(g)}_innerSub(E){const g=this.innerSubscription;g&&g.unsubscribe();const D=new nn.IY(this),O=this.destination;O.add(D),this.innerSubscription=(0,nn.ft)(E,D),this.innerSubscription!==D&&O.add(this.innerSubscription)}_complete(){const{innerSubscription:E}=this;(!E||E.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(E){this.destination.next(E)}}const gi=(()=>{function v(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return v.prototype=Object.create(Error.prototype),v})();function Hn(v){return E=>0===v?(0,kt.c)():E.lift(new yr(v))}class yr{constructor(E){if(this.total=E,this.total<0)throw new gi}call(E,g){return g.subscribe(new Bn(E,this.total))}}class Bn extends Y.L{constructor(E,g){super(E),this.total=g,this.count=0}_next(E){const g=this.total,D=++this.count;D<=g&&(this.destination.next(E),D===g&&(this.destination.complete(),this.unsubscribe()))}}var Ut=Q(2198),_n=Q(1709);function Zr(v=null){return E=>E.lift(new Ps(v))}class Ps{constructor(E){this.defaultValue=E}call(E,g){return g.subscribe(new Nn(E,this.defaultValue))}}class Nn extends Y.L{constructor(E,g){super(E),this.defaultValue=g,this.isEmpty=!0}_next(E){this.isEmpty=!1,this.destination.next(E)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function dr(v=yi){return E=>E.lift(new mi(v))}class mi{constructor(E){this.errorFactory=E}call(E,g){return g.subscribe(new Br(E,this.errorFactory))}}class Br extends Y.L{constructor(E,g){super(E),this.errorFactory=g,this.hasValue=!1}_next(E){this.hasValue=!0,this.destination.next(E)}_complete(){if(this.hasValue)return this.destination.complete();{let E;try{E=this.errorFactory()}catch(g){E=g}this.destination.error(E)}}}function yi(){return new Ce}var $r=Q(5379);function ir(v,E){const g=arguments.length>=2;return D=>D.pipe(v?(0,Ut.h)((O,$)=>v(O,$,D)):$r.y,Hn(1),g?Zr(E):dr(()=>new Ce))}var vn=Q(1406),Ct=Q(2868),rn=Q(7221);function _i(v,E){let g=!1;return arguments.length>=2&&(g=!0),function(O){return O.lift(new jr(v,E,g))}}class jr{constructor(E,g,D=!1){this.accumulator=E,this.seed=g,this.hasSeed=D}call(E,g){return g.subscribe(new xt(E,this.accumulator,this.seed,this.hasSeed))}}class xt extends Y.L{constructor(E,g,D,O){super(E),this.accumulator=g,this._seed=D,this.hasSeed=O,this.index=0}get seed(){return this._seed}set seed(E){this.hasSeed=!0,this._seed=E}_next(E){if(this.hasSeed)return this._tryNext(E);this.seed=E,this.destination.next(E)}_tryNext(E){const g=this.index++;let D;try{D=this.accumulator(this.seed,E,g)}catch(O){this.destination.error(O)}this.seed=D,this.destination.next(D)}}function Ye(v){return function(g){return 0===v?(0,kt.c)():g.lift(new In(v))}}class In{constructor(E){if(this.total=E,this.total<0)throw new gi}call(E,g){return g.subscribe(new fn(E,this.total))}}class fn extends Y.L{constructor(E,g){super(E),this.total=g,this.ring=new Array,this.count=0}_next(E){const g=this.ring,D=this.total,O=this.count++;g.length<D?g.push(E):g[O%D]=E}_complete(){const E=this.destination;let g=this.count;if(g>0){const D=this.count>=this.total?this.total:this.count,O=this.ring;for(let $=0;$<D;$++){const z=g++%D;E.next(O[z])}}E.complete()}}function pn(v,E){const g=arguments.length>=2;return D=>D.pipe(v?(0,Ut.h)((O,$)=>v(O,$,D)):$r.y,Ye(1),g?Zr(E):dr(()=>new Ce))}class We{constructor(E,g){this.predicate=E,this.inclusive=g}call(E,g){return g.subscribe(new hr(E,this.predicate,this.inclusive))}}class hr extends Y.L{constructor(E,g,D){super(E),this.predicate=g,this.inclusive=D,this.index=0}_next(E){const g=this.destination;let D;try{D=this.predicate(E,this.index++)}catch(O){return void g.error(O)}this.nextOrComplete(E,D)}nextOrComplete(E,g){const D=this.destination;Boolean(g)?D.next(E):(this.inclusive&&D.next(E),D.complete())}}class Ln{constructor(E){this.value=E}call(E,g){return g.subscribe(new En(E,this.value))}}class En extends Y.L{constructor(E,g){super(E),this.value=g}_next(E){this.destination.next(this.value)}}var Zn=Q(537),Si=Q(4327),wn=Q(1481);const Vt="primary",tn=Symbol("RouteTitle");class Ui{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const g=this.params[E];return Array.isArray(g)?g[0]:g}return null}getAll(E){if(this.has(E)){const g=this.params[E];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Yn(v){return new Ui(v)}function Qe(v,E,g){const D=g.path.split("/");if(D.length>v.length||"full"===g.pathMatch&&(E.hasChildren()||D.length<v.length))return null;const O={};for(let $=0;$<D.length;$++){const z=D[$],ve=v[$];if(z.startsWith(":"))O[z.substring(1)]=ve;else if(z!==ve.path)return null}return{consumed:v.slice(0,D.length),posParams:O}}function ue(v,E){const g=v?Object.keys(v):void 0,D=E?Object.keys(E):void 0;if(!g||!D||g.length!=D.length)return!1;let O;for(let $=0;$<g.length;$++)if(O=g[$],!ne(v[O],E[O]))return!1;return!0}function ne(v,E){if(Array.isArray(v)&&Array.isArray(E)){if(v.length!==E.length)return!1;const g=[...v].sort(),D=[...E].sort();return g.every((O,$)=>D[$]===O)}return v===E}function ie(v){return Array.prototype.concat.apply([],v)}function xe(v){return v.length>0?v[v.length-1]:null}function Z(v,E){for(const g in v)v.hasOwnProperty(g)&&E(v[g],g)}function oe(v){return(0,b.CqO)(v)?v:(0,b.QGY)(v)?(0,R.D)(Promise.resolve(v)):(0,ae.of)(v)}const Se=!1,pe={exact:function se(v,E,g){if(!Tn(v.segments,E.segments)||!st(v.segments,E.segments,g)||v.numberOfChildren!==E.numberOfChildren)return!1;for(const D in E.children)if(!v.children[D]||!se(v.children[D],E.children[D],g))return!1;return!0},subset:he},et={exact:function ce(v,E){return ue(v,E)},subset:function W(v,E){return Object.keys(E).length<=Object.keys(v).length&&Object.keys(E).every(g=>ne(v[g],E[g]))},ignored:()=>!0};function Nt(v,E,g){return pe[g.paths](v.root,E.root,g.matrixParams)&&et[g.queryParams](v.queryParams,E.queryParams)&&!("exact"===g.fragment&&v.fragment!==E.fragment)}function he(v,E,g){return De(v,E,E.segments,g)}function De(v,E,g,D){if(v.segments.length>g.length){const O=v.segments.slice(0,g.length);return!(!Tn(O,g)||E.hasChildren()||!st(O,g,D))}if(v.segments.length===g.length){if(!Tn(v.segments,g)||!st(v.segments,g,D))return!1;for(const O in E.children)if(!v.children[O]||!he(v.children[O],E.children[O],D))return!1;return!0}{const O=g.slice(0,v.segments.length),$=g.slice(v.segments.length);return!!(Tn(v.segments,O)&&st(v.segments,O,D)&&v.children[Vt])&&De(v.children[Vt],E,$,D)}}function st(v,E,g){return E.every((D,O)=>et[g](v[O].parameters,D.parameters))}class at{constructor(E=new ot([],{}),g={},D=null){this.root=E,this.queryParams=g,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return Ar.serialize(this)}}class ot{constructor(E,g){this.segments=E,this.children=g,this.parent=null,Z(g,(D,O)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xi(this)}}class an{constructor(E,g){this.path=E,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return $n(this)}}function Tn(v,E){return v.length===E.length&&v.every((g,D)=>g.path===E[D].path)}let Xs=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:function(){return new Js},providedIn:"root"}),v})();class Js{parse(E){const g=new ii(E);return new at(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(E){const g=`/${Ji(E.root,!0)}`,D=function gs(v){const E=Object.keys(v).map(g=>{const D=v[g];return Array.isArray(D)?D.map(O=>`${Mr(g)}=${Mr(O)}`).join("&"):`${Mr(g)}=${Mr(D)}`}).filter(g=>!!g);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${g}${D}${"string"==typeof E.fragment?`#${function on(v){return encodeURI(v)}(E.fragment)}`:""}`}}const Ar=new Js;function Xi(v){return v.segments.map(E=>$n(E)).join("/")}function Ji(v,E){if(!v.hasChildren())return Xi(v);if(E){const g=v.children[Vt]?Ji(v.children[Vt],!1):"",D=[];return Z(v.children,(O,$)=>{$!==Vt&&D.push(`${$}:${Ji(O,!1)}`)}),D.length>0?`${g}(${D.join("//")})`:g}{const g=function Qi(v,E){let g=[];return Z(v.children,(D,O)=>{O===Vt&&(g=g.concat(E(D,O)))}),Z(v.children,(D,O)=>{O!==Vt&&(g=g.concat(E(D,O)))}),g}(v,(D,O)=>O===Vt?[Ji(v.children[Vt],!1)]:[`${O}:${Ji(D,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Vt]?`${Xi(v)}/${g[0]}`:`${Xi(v)}/(${g.join("//")})`}}function Hr(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mr(v){return Hr(v).replace(/%3B/gi,";")}function sr(v){return Hr(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _r(v){return decodeURIComponent(v)}function Qn(v){return _r(v.replace(/\+/g,"%20"))}function $n(v){return`${sr(v.path)}${function ni(v){return Object.keys(v).map(E=>`;${sr(E)}=${sr(v[E])}`).join("")}(v.parameters)}`}const es=/^[^\/()?;=#]+/;function ri(v){const E=v.match(es);return E?E[0]:""}const ht=/^[^=?&#]+/,un=/^[^&#]+/;class ii{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(E.length>0||Object.keys(g).length>0)&&(D[Vt]=new ot(E,g)),D}parseSegment(){const E=ri(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new b.vHH(4009,Se);return this.capture(E),new an(_r(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const g=ri(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const O=ri(this.remaining);O&&(D=O,this.capture(D))}E[_r(g)]=_r(D)}parseQueryParam(E){const g=function qt(v){const E=v.match(ht);return E?E[0]:""}(this.remaining);if(!g)return;this.capture(g);let D="";if(this.consumeOptional("=")){const z=function Gr(v){const E=v.match(un);return E?E[0]:""}(this.remaining);z&&(D=z,this.capture(D))}const O=Qn(g),$=Qn(D);if(E.hasOwnProperty(O)){let z=E[O];Array.isArray(z)||(z=[z],E[O]=z),z.push($)}else E[O]=$}parseParens(E){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=ri(this.remaining),O=this.remaining[D.length];if("/"!==O&&")"!==O&&";"!==O)throw new b.vHH(4010,Se);let $;D.indexOf(":")>-1?($=D.slice(0,D.indexOf(":")),this.capture($),this.capture(":")):E&&($=Vt);const z=this.parseChildren();g[$]=1===Object.keys(z).length?z[Vt]:new ot([],z),this.consumeOptional("//")}return g}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new b.vHH(4011,Se)}}function Rn(v){return v.segments.length>0?new ot([],{[Vt]:v}):v}function zr(v){const E={};for(const D of Object.keys(v.children)){const $=zr(v.children[D]);($.segments.length>0||$.hasChildren())&&(E[D]=$)}return function Xn(v){if(1===v.numberOfChildren&&v.children[Vt]){const E=v.children[Vt];return new ot(v.segments.concat(E.segments),E.children)}return v}(new ot(v.segments,E))}function vi(v){return v instanceof at}const Ai=!1;function _u(v,E,g,D,O){if(0===g.length)return Ei(E.root,E.root,E.root,D,O);const $=function Dn(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new wi(!0,0,v);let E=0,g=!1;const D=v.reduce((O,$,z)=>{if("object"==typeof $&&null!=$){if($.outlets){const ve={};return Z($.outlets,($e,Et)=>{ve[Et]="string"==typeof $e?$e.split("/"):$e}),[...O,{outlets:ve}]}if($.segmentPath)return[...O,$.segmentPath]}return"string"!=typeof $?[...O,$]:0===z?($.split("/").forEach((ve,$e)=>{0==$e&&"."===ve||(0==$e&&""===ve?g=!0:".."===ve?E++:""!=ve&&O.push(ve))}),O):[...O,$]},[]);return new wi(g,E,D)}(g);return $.toRoot()?Ei(E.root,E.root,new ot([],{}),D,O):function z($e){const Et=function ya(v,E,g,D){if(v.isAbsolute)return new Mi(E.root,!0,0);if(-1===D)return new Mi(g,g===E.root,0);return function ks(v,E,g){let D=v,O=E,$=g;for(;$>O;){if($-=O,D=D.parent,!D)throw new b.vHH(4005,Ai&&"Invalid number of '../'");O=D.segments.length}return new Mi(D,!1,O-$)}(g,D+(Bi(v.commands[0])?0:1),v.numberOfDoubleDots)}($,E,v.snapshot?._urlSegment,$e),mt=Et.processChildren?Fs(Et.segmentGroup,Et.index,$.commands):to(Et.segmentGroup,Et.index,$.commands);return Ei(E.root,Et.segmentGroup,mt,D,O)}(v.snapshot?._lastPathIndex)}function Bi(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function or(v){return"object"==typeof v&&null!=v&&v.outlets}function Ei(v,E,g,D,O){let z,$={};D&&Z(D,($e,Et)=>{$[Et]=Array.isArray($e)?$e.map(mt=>`${mt}`):`${$e}`}),z=v===E?g:Os(v,E,g);const ve=Rn(zr(z));return new at(ve,$,O)}function Os(v,E,g){const D={};return Z(v.children,(O,$)=>{D[$]=O===E?g:Os(O,E,g)}),new ot(v.segments,D)}class wi{constructor(E,g,D){if(this.isAbsolute=E,this.numberOfDoubleDots=g,this.commands=D,E&&D.length>0&&Bi(D[0]))throw new b.vHH(4003,Ai&&"Root segment cannot have matrix parameters");const O=D.find(or);if(O&&O!==xe(D))throw new b.vHH(4004,Ai&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mi{constructor(E,g,D){this.segmentGroup=E,this.processChildren=g,this.index=D}}function to(v,E,g){if(v||(v=new ot([],{})),0===v.segments.length&&v.hasChildren())return Fs(v,E,g);const D=function ms(v,E,g){let D=0,O=E;const $={match:!1,pathIndex:0,commandIndex:0};for(;O<v.segments.length;){if(D>=g.length)return $;const z=v.segments[O],ve=g[D];if(or(ve))break;const $e=`${ve}`,Et=D<g.length-1?g[D+1]:null;if(O>0&&void 0===$e)break;if($e&&Et&&"object"==typeof Et&&void 0===Et.outlets){if(!qr($e,Et,z))return $;D+=2}else{if(!qr($e,{},z))return $;D++}O++}return{match:!0,pathIndex:O,commandIndex:D}}(v,E,g),O=g.slice(D.commandIndex);if(D.match&&D.pathIndex<v.segments.length){const $=new ot(v.segments.slice(0,D.pathIndex),{});return $.children[Vt]=new ot(v.segments.slice(D.pathIndex),v.children),Fs($,0,O)}return D.match&&0===O.length?new ot(v.segments,{}):D.match&&!v.hasChildren()?Vn(v,E,g):D.match?Fs(v,0,O):Vn(v,E,g)}function Fs(v,E,g){if(0===g.length)return new ot(v.segments,{});{const D=function xi(v){return or(v[0])?v[0].outlets:{[Vt]:v}}(g),O={};if(!D[Vt]&&v.children[Vt]&&1===v.numberOfChildren&&0===v.children[Vt].segments.length){const $=Fs(v.children[Vt],E,g);return new ot(v.segments,$.children)}return Z(D,($,z)=>{"string"==typeof $&&($=[$]),null!==$&&(O[z]=to(v.children[z],E,$))}),Z(v.children,($,z)=>{void 0===D[z]&&(O[z]=$)}),new ot(v.segments,O)}}function Vn(v,E,g){const D=v.segments.slice(0,E);let O=0;for(;O<g.length;){const $=g[O];if(or($)){const $e=No($.outlets);return new ot(D,$e)}if(0===O&&Bi(g[0])){D.push(new an(v.segments[E].path,vr(g[0]))),O++;continue}const z=or($)?$.outlets[Vt]:`${$}`,ve=O<g.length-1?g[O+1]:null;z&&ve&&Bi(ve)?(D.push(new an(z,vr(ve))),O+=2):(D.push(new an(z,{})),O++)}return new ot(D,{})}function No(v){const E={};return Z(v,(g,D)=>{"string"==typeof g&&(g=[g]),null!==g&&(E[D]=Vn(new ot([],{}),0,g))}),E}function vr(v){const E={};return Z(v,(g,D)=>E[D]=`${g}`),E}function qr(v,E,g){return v==g.path&&ue(E,g.parameters)}const si="imperative";class Yr{constructor(E,g){this.id=E,this.url=g}}class Ni extends Yr{constructor(E,g,D="imperative",O=null){super(E,g),this.type=0,this.navigationTrigger=D,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ar extends Yr{constructor(E,g,D){super(E,g),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ns extends Yr{constructor(E,g,D,O){super(E,g),this.reason=D,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class no extends Yr{constructor(E,g,D,O){super(E,g),this.reason=D,this.code=O,this.type=16}}class Ls extends Yr{constructor(E,g,D,O){super(E,g),this.error=D,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ro extends Yr{constructor(E,g,D,O){super(E,g),this.urlAfterRedirects=D,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs extends Yr{constructor(E,g,D,O){super(E,g),this.urlAfterRedirects=D,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro extends Yr{constructor(E,g,D,O,$){super(E,g),this.urlAfterRedirects=D,this.state=O,this.shouldActivate=$,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _a extends Yr{constructor(E,g,D,O){super(E,g),this.urlAfterRedirects=D,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po extends Yr{constructor(E,g,D,O){super(E,g),this.urlAfterRedirects=D,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Us{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xo{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ko{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(E,g,D){this.routerEvent=E,this.position=g,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let so=(()=>{class v{createUrlTree(g,D,O,$,z,ve){return _u(g||D.root,O,$,z,ve)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})(),ys=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:function(E){return so.\u0275fac(E)},providedIn:"root"}),v})();class ea{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const g=this.pathFromRoot(E);return g.length>1?g[g.length-2]:null}children(E){const g=fr(E,this._root);return g?g.children.map(D=>D.value):[]}firstChild(E){const g=fr(E,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(E){const g=Fo(E,this._root);return g.length<2?[]:g[g.length-2].children.map(O=>O.value).filter(O=>O!==E)}pathFromRoot(E){return Fo(E,this._root).map(g=>g.value)}}function fr(v,E){if(v===E.value)return E;for(const g of E.children){const D=fr(v,g);if(D)return D}return null}function Fo(v,E){if(v===E.value)return[E];for(const g of E.children){const D=Fo(v,g);if(D.length)return D.unshift(E),D}return[]}class Cr{constructor(E,g){this.value=E,this.children=g}toString(){return`TreeNode(${this.value})`}}function $i(v){const E={};return v&&v.children.forEach(g=>E[g.value.outlet]=g),E}class Lo extends ea{constructor(E,g){super(E),this.snapshot=g,Qr(this,E)}toString(){return this.snapshot.toString()}}function Vo(v,E){const g=function _s(v,E){const z=new Bo([],{},{},"",{},Vt,E,null,v.root,-1,{});return new xr("",new Cr(z,[]))}(v,E),D=new me([new an("",{})]),O=new me({}),$=new me({}),z=new me({}),ve=new me(""),$e=new oi(D,O,z,ve,$,Vt,E,g.root);return $e.snapshot=g.root,new Lo(new Cr($e,[]),g)}class oi{constructor(E,g,D,O,$,z,ve,$e){this.url=E,this.params=g,this.queryParams=D,this.fragment=O,this.data=$,this.outlet=z,this.component=ve,this.title=this.data?.pipe((0,He.U)(Et=>Et[tn]))??(0,ae.of)(void 0),this._futureSnapshot=$e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(E=>Yn(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(E=>Yn(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uo(v,E="emptyOnly"){const g=v.pathFromRoot;let D=0;if("always"!==E)for(D=g.length-1;D>=1;){const O=g[D],$=g[D-1];if(O.routeConfig&&""===O.routeConfig.path)D--;else{if($.component)break;D--}}return function Jn(v){return v.reduce((E,g)=>({params:{...E.params,...g.params},data:{...E.data,...g.data},resolve:{...g.data,...E.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(D))}class Bo{get title(){return this.data?.[tn]}constructor(E,g,D,O,$,z,ve,$e,Et,mt,On){this.url=E,this.params=g,this.queryParams=D,this.fragment=O,this.data=$,this.outlet=z,this.component=ve,this.routeConfig=$e,this._urlSegment=Et,this._lastPathIndex=mt,this._resolve=On}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xr extends ea{constructor(E,g){super(g),this.url=E,Qr(this,g)}toString(){return oo(this._root)}}function Qr(v,E){E.value._routerState=v,E.children.forEach(g=>Qr(v,g))}function oo(v){const E=v.children.length>0?` { ${v.children.map(oo).join(", ")} } `:"";return`${v.value}${E}`}function Mn(v){if(v.snapshot){const E=v.snapshot,g=v._futureSnapshot;v.snapshot=g,ue(E.queryParams,g.queryParams)||v.queryParams.next(g.queryParams),E.fragment!==g.fragment&&v.fragment.next(g.fragment),ue(E.params,g.params)||v.params.next(g.params),function Pe(v,E){if(v.length!==E.length)return!1;for(let g=0;g<v.length;++g)if(!ue(v[g],E[g]))return!1;return!0}(E.url,g.url)||v.url.next(g.url),ue(E.data,g.data)||v.data.next(g.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Wr(v,E){const g=ue(v.params,E.params)&&function Yi(v,E){return Tn(v,E)&&v.every((g,D)=>ue(g.parameters,E[D].parameters))}(v.url,E.url);return g&&!(!v.parent!=!E.parent)&&(!v.parent||Wr(v.parent,E.parent))}function ur(v,E,g){if(g&&v.shouldReuseRoute(E.value,g.value.snapshot)){const D=g.value;D._futureSnapshot=E.value;const O=function $o(v,E,g){return E.children.map(D=>{for(const O of g.children)if(v.shouldReuseRoute(D.value,O.value.snapshot))return ur(v,D,O);return ur(v,D)})}(v,E,g);return new Cr(D,O)}{if(v.shouldAttach(E.value)){const $=v.retrieve(E.value);if(null!==$){const z=$.route;return z.value._futureSnapshot=E.value,z.children=E.children.map(ve=>ur(v,ve)),z}}const D=function ao(v){return new oi(new me(v.url),new me(v.params),new me(v.queryParams),new me(v.fragment),new me(v.data),v.outlet,v.component,v)}(E.value),O=E.children.map($=>ur(v,$));return new Cr(D,O)}}const is="ngNavigationCancelingError";function lr(v,E){const{redirectTo:g,navigationBehaviorOptions:D}=vi(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,O=ka(!1,0,E);return O.url=g,O.navigationBehaviorOptions=D,O}function ka(v,E,g){const D=new Error("NavigationCancelingError: "+(v||""));return D[is]=!0,D.cancellationCode=E,g&&(D.url=g),D}function uo(v){return ji(v)&&vi(v.url)}function ji(v){return v&&v[is]}class pr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ss,this.attachRef=null}}let ss=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(g,D){const O=this.getOrCreateContext(g);O.outlet=D,this.contexts.set(g,O)}onChildOutletDestroyed(g){const D=this.getContext(g);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let D=this.getContext(g);return D||(D=new pr,this.contexts.set(g,D)),D}getContext(g){return this.contexts.get(g)||null}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const _o=!1;let $t=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(ss),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb)}ngOnChanges(g){if(g.name){const{firstChange:D,previousValue:O}=g.name;if(D)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,_o);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,_o);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,_o);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,D){this.activated=g,this._activatedRoute=D,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,D){if(this.isActivated)throw new b.vHH(4013,_o);this._activatedRoute=g;const O=this.location,z=g.snapshot.component,ve=this.parentContexts.getOrCreateContext(this.name).children,$e=new Nr(g,ve,O.injector);if(D&&function Es(v){return!!v.resolveComponentFactory}(D)){const Et=D.resolveComponentFactory(z);this.activated=O.createComponent(Et,O.length,$e)}else this.activated=O.createComponent(z,{index:O.length,injector:$e,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275dir=b.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]}),v})();class Nr{constructor(E,g,D){this.route=E,this.childContexts=g,this.parent=D}get(E,g){return E===oi?this.route:E===ss?this.childContexts:this.parent.get(E,g)}}let P=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275cmp=b.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(g,D){1&g&&b._UZ(0,"router-outlet")},dependencies:[$t],encapsulation:2}),v})();function N(v,E){return v.providers&&!v._injector&&(v._injector=(0,b.MMx)(v.providers,E,`Route: ${v.path}`)),v._injector??E}function Sn(v){const E=v.children&&v.children.map(Sn),g=E?{...v,children:E}:{...v};return!g.component&&!g.loadComponent&&(E||g.loadChildren)&&g.outlet&&g.outlet!==Vt&&(g.component=P),g}function Rr(v){return v.outlet||Vt}function Hi(v,E){const g=v.filter(D=>Rr(D)===E);return g.push(...v.filter(D=>Rr(D)!==E)),g}function ai(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let E=v.parent;E;E=E.parent){const g=E.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class ta{constructor(E,g,D,O){this.routeReuseStrategy=E,this.futureState=g,this.currState=D,this.forwardEvent=O}activate(E){const g=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,D,E),Mn(this.futureState.root),this.activateChildRoutes(g,D,E)}deactivateChildRoutes(E,g,D){const O=$i(g);E.children.forEach($=>{const z=$.value.outlet;this.deactivateRoutes($,O[z],D),delete O[z]}),Z(O,($,z)=>{this.deactivateRouteAndItsChildren($,D)})}deactivateRoutes(E,g,D){const O=E.value,$=g?g.value:null;if(O===$)if(O.component){const z=D.getContext(O.outlet);z&&this.deactivateChildRoutes(E,g,z.children)}else this.deactivateChildRoutes(E,g,D);else $&&this.deactivateRouteAndItsChildren(g,D)}deactivateRouteAndItsChildren(E,g){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,g):this.deactivateRouteAndOutlet(E,g)}detachAndStoreRouteSubtree(E,g){const D=g.getContext(E.value.outlet),O=D&&E.value.component?D.children:g,$=$i(E);for(const z of Object.keys($))this.deactivateRouteAndItsChildren($[z],O);if(D&&D.outlet){const z=D.outlet.detach(),ve=D.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:z,route:E,contexts:ve})}}deactivateRouteAndOutlet(E,g){const D=g.getContext(E.value.outlet),O=D&&E.value.component?D.children:g,$=$i(E);for(const z of Object.keys($))this.deactivateRouteAndItsChildren($[z],O);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(E,g,D){const O=$i(g);E.children.forEach($=>{this.activateRoutes($,O[$.value.outlet],D),this.forwardEvent(new Jo($.value.snapshot))}),E.children.length&&this.forwardEvent(new Oo(E.value.snapshot))}activateRoutes(E,g,D){const O=E.value,$=g?g.value:null;if(Mn(O),O===$)if(O.component){const z=D.getOrCreateContext(O.outlet);this.activateChildRoutes(E,g,z.children)}else this.activateChildRoutes(E,g,D);else if(O.component){const z=D.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ve=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),z.children.onOutletReAttached(ve.contexts),z.attachRef=ve.componentRef,z.route=ve.route.value,z.outlet&&z.outlet.attach(ve.componentRef,ve.route.value),Mn(ve.route.value),this.activateChildRoutes(E,null,z.children)}else{const ve=ai(O.snapshot),$e=ve?.get(b._Vd)??null;z.attachRef=null,z.route=O,z.resolver=$e,z.injector=ve,z.outlet&&z.outlet.activateWith(O,z.injector),this.activateChildRoutes(E,null,z.children)}}else this.activateChildRoutes(E,null,D)}}class Ho{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class ws{constructor(E,g){this.component=E,this.route=g}}function $s(v,E,g){const D=v._root;return js(D,E?E._root:null,g,[D.value])}function Xr(v,E){const g=Symbol(),D=E.get(v,g);return D===g?"function"!=typeof v||(0,b.Z0I)(v)?E.get(v):v:D}function js(v,E,g,D,O={canDeactivateChecks:[],canActivateChecks:[]}){const $=$i(E);return v.children.forEach(z=>{(function os(v,E,g,D,O={canDeactivateChecks:[],canActivateChecks:[]}){const $=v.value,z=E?E.value:null,ve=g?g.getContext(v.value.outlet):null;if(z&&$.routeConfig===z.routeConfig){const $e=function Gi(v,E,g){if("function"==typeof g)return g(v,E);switch(g){case"pathParamsChange":return!Tn(v.url,E.url);case"pathParamsOrQueryParamsChange":return!Tn(v.url,E.url)||!ue(v.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wr(v,E)||!ue(v.queryParams,E.queryParams);default:return!Wr(v,E)}}(z,$,$.routeConfig.runGuardsAndResolvers);$e?O.canActivateChecks.push(new Ho(D)):($.data=z.data,$._resolvedData=z._resolvedData),js(v,E,$.component?ve?ve.children:null:g,D,O),$e&&ve&&ve.outlet&&ve.outlet.isActivated&&O.canDeactivateChecks.push(new ws(ve.outlet.component,z))}else z&&va(E,ve,O),O.canActivateChecks.push(new Ho(D)),js(v,null,$.component?ve?ve.children:null:g,D,O)})(z,$[z.value.outlet],g,D.concat([z.value]),O),delete $[z.value.outlet]}),Z($,(z,ve)=>va(z,g.getContext(ve),O)),O}function va(v,E,g){const D=$i(v),O=v.value;Z(D,($,z)=>{va($,O.component?E?E.children.getContext(z):null:E,g)}),g.canDeactivateChecks.push(new ws(O.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,O))}function lo(v){return"function"==typeof v}function Eo(v){return v instanceof Ce||"EmptyError"===v?.name}const co=Symbol("INITIAL_VALUE");function wa(){return Fn(v=>zt(v.map(E=>E.pipe(Hn(1),function Kn(...v){const E=v[v.length-1];return(0,ye.K)(E)?(v.pop(),g=>Ke(v,g,E)):g=>Ke(v,g)}(co)))).pipe((0,He.U)(E=>{for(const g of E)if(!0!==g){if(g===co)return co;if(!1===g||g instanceof at)return g}return!0}),(0,Ut.h)(E=>E!==co),Hn(1)))}function zu(v){return(0,ke.z)((0,Ct.b)(E=>{if(vi(E))throw lr(0,E)}),(0,He.U)(E=>!0===E))}const bu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L(v,E,g,D,O){const $=y(v,E,g);return $.matched?function ba(v,E,g,D){const O=E.canMatch;if(!O||0===O.length)return(0,ae.of)(!0);const $=O.map(z=>{const ve=Xr(z,v);return oe(function na(v){return v&&lo(v.canMatch)}(ve)?ve.canMatch(E,g):v.runInContext(()=>ve(E,g)))});return(0,ae.of)($).pipe(wa(),zu())}(D=N(E,D),E,g).pipe((0,He.U)(z=>!0===z?$:{...bu})):(0,ae.of)($)}function y(v,E,g){if(""===E.path)return"full"===E.pathMatch&&(v.hasChildren()||g.length>0)?{...bu}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const O=(E.matcher||Qe)(g,v,E);if(!O)return{...bu};const $={};Z(O.posParams,(ve,$e)=>{$[$e]=ve.path});const z=O.consumed.length>0?{...$,...O.consumed[O.consumed.length-1].parameters}:$;return{matched:!0,consumedSegments:O.consumed,remainingSegments:g.slice(O.consumed.length),parameters:z,positionalParamSegments:O.posParams??{}}}function d(v,E,g,D){if(g.length>0&&function T(v,E,g){return g.some(D=>H(v,E,D)&&Rr(D)!==Vt)}(v,g,D)){const $=new ot(E,function m(v,E,g,D){const O={};O[Vt]=D,D._sourceSegment=v,D._segmentIndexShift=E.length;for(const $ of g)if(""===$.path&&Rr($)!==Vt){const z=new ot([],{});z._sourceSegment=v,z._segmentIndexShift=E.length,O[Rr($)]=z}return O}(v,E,D,new ot(g,v.children)));return $._sourceSegment=v,$._segmentIndexShift=E.length,{segmentGroup:$,slicedSegments:[]}}if(0===g.length&&function F(v,E,g){return g.some(D=>H(v,E,D))}(v,g,D)){const $=new ot(v.segments,function p(v,E,g,D,O){const $={};for(const z of D)if(H(v,g,z)&&!O[Rr(z)]){const ve=new ot([],{});ve._sourceSegment=v,ve._segmentIndexShift=E.length,$[Rr(z)]=ve}return{...O,...$}}(v,E,g,D,v.children));return $._sourceSegment=v,$._segmentIndexShift=E.length,{segmentGroup:$,slicedSegments:g}}const O=new ot(v.segments,v.children);return O._sourceSegment=v,O._segmentIndexShift=E.length,{segmentGroup:O,slicedSegments:g}}function H(v,E,g){return(!(v.hasChildren()||E.length>0)||"full"!==g.pathMatch)&&""===g.path}function J(v,E,g,D){return!!(Rr(v)===D||D!==Vt&&H(E,g,v))&&("**"===v.path||y(E,v,g).matched)}function fe(v,E,g){return 0===E.length&&!v.children[g]}const ze=!1;class Je{constructor(E){this.segmentGroup=E||null}}class Dt{constructor(E){this.urlTree=E}}function ct(v){return(0,rt._)(new Je(v))}function gt(v){return(0,rt._)(new Dt(v))}class An{constructor(E,g,D,O,$){this.injector=E,this.configLoader=g,this.urlSerializer=D,this.urlTree=O,this.config=$,this.allowRedirects=!0}apply(){const E=d(this.urlTree.root,[],[],this.config).segmentGroup,g=new ot(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,g,Vt).pipe((0,He.U)($=>this.createUrlTree(zr($),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,rn.K)($=>{if($ instanceof Dt)return this.allowRedirects=!1,this.match($.urlTree);throw $ instanceof Je?this.noMatchError($):$}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Vt).pipe((0,He.U)(O=>this.createUrlTree(zr(O),E.queryParams,E.fragment))).pipe((0,rn.K)(O=>{throw O instanceof Je?this.noMatchError(O):O}))}noMatchError(E){return new b.vHH(4002,ze)}createUrlTree(E,g,D){const O=Rn(E);return new at(O,g,D)}expandSegmentGroup(E,g,D,O){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(E,g,D).pipe((0,He.U)($=>new ot([],$))):this.expandSegment(E,D,g,D.segments,O,!0)}expandChildren(E,g,D){const O=[];for(const $ of Object.keys(D.children))"primary"===$?O.unshift($):O.push($);return(0,R.D)(O).pipe((0,vn.b)($=>{const z=D.children[$],ve=Hi(g,$);return this.expandSegmentGroup(E,ve,z,$).pipe((0,He.U)($e=>({segment:$e,outlet:$})))}),_i(($,z)=>($[z.outlet]=z.segment,$),{}),pn())}expandSegment(E,g,D,O,$,z){return(0,R.D)(D).pipe((0,vn.b)(ve=>this.expandSegmentAgainstRoute(E,g,D,ve,O,$,z).pipe((0,rn.K)(Et=>{if(Et instanceof Je)return(0,ae.of)(null);throw Et}))),ir(ve=>!!ve),(0,rn.K)((ve,$e)=>{if(Eo(ve))return fe(g,O,$)?(0,ae.of)(new ot([],{})):ct(g);throw ve}))}expandSegmentAgainstRoute(E,g,D,O,$,z,ve){return J(O,g,$,z)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(E,g,O,$,z):ve&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,g,D,O,$,z):ct(g):ct(g)}expandSegmentAgainstRouteUsingRedirect(E,g,D,O,$,z){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,D,O,z):this.expandRegularSegmentAgainstRouteUsingRedirect(E,g,D,O,$,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,g,D,O){const $=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?gt($):this.lineralizeSegments(D,$).pipe((0,_n.zg)(z=>{const ve=new ot(z,{});return this.expandSegment(E,ve,g,z,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,g,D,O,$,z){const{matched:ve,consumedSegments:$e,remainingSegments:Et,positionalParamSegments:mt}=y(g,O,$);if(!ve)return ct(g);const On=this.applyRedirectCommands($e,O.redirectTo,mt);return O.redirectTo.startsWith("/")?gt(On):this.lineralizeSegments(O,On).pipe((0,_n.zg)(tr=>this.expandSegment(E,g,D,tr.concat(Et),z,!1)))}matchSegmentAgainstRoute(E,g,D,O,$){return"**"===D.path?(E=N(D,E),D.loadChildren?(D._loadedRoutes?(0,ae.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(E,D)).pipe((0,He.U)(ve=>(D._loadedRoutes=ve.routes,D._loadedInjector=ve.injector,new ot(O,{})))):(0,ae.of)(new ot(O,{}))):L(g,D,O,E).pipe(Fn(({matched:z,consumedSegments:ve,remainingSegments:$e})=>z?this.getChildConfig(E=D._injector??E,D,O).pipe((0,_n.zg)(mt=>{const On=mt.injector??E,tr=mt.routes,{segmentGroup:qo,slicedSegments:aa}=d(g,ve,$e,tr),ua=new ot(qo.segments,qo.children);if(0===aa.length&&ua.hasChildren())return this.expandChildren(On,tr,ua).pipe((0,He.U)(A=>new ot(ve,A)));if(0===tr.length&&0===aa.length)return(0,ae.of)(new ot(ve,{}));const Ds=Rr(D)===$;return this.expandSegment(On,ua,tr,aa,Ds?Vt:$,!0).pipe((0,He.U)(Sl=>new ot(ve.concat(Sl.segments),Sl.children)))})):ct(g)))}getChildConfig(E,g,D){return g.children?(0,ae.of)({routes:g.children,injector:E}):g.loadChildren?void 0!==g._loadedRoutes?(0,ae.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function ra(v,E,g,D){const O=E.canLoad;if(void 0===O||0===O.length)return(0,ae.of)(!0);const $=O.map(z=>{const ve=Xr(z,v);return oe(function Fa(v){return v&&lo(v.canLoad)}(ve)?ve.canLoad(E,g):v.runInContext(()=>ve(E,g)))});return(0,ae.of)($).pipe(wa(),zu())}(E,g,D).pipe((0,_n.zg)(O=>O?this.configLoader.loadChildren(E,g).pipe((0,Ct.b)($=>{g._loadedRoutes=$.routes,g._loadedInjector=$.injector})):function Yt(v){return(0,rt._)(ka(ze,3))}())):(0,ae.of)({routes:[],injector:E})}lineralizeSegments(E,g){let D=[],O=g.root;for(;;){if(D=D.concat(O.segments),0===O.numberOfChildren)return(0,ae.of)(D);if(O.numberOfChildren>1||!O.children[Vt])return E.redirectTo,(0,rt._)(new b.vHH(4e3,ze));O=O.children[Vt]}}applyRedirectCommands(E,g,D){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),E,D)}applyRedirectCreateUrlTree(E,g,D,O){const $=this.createSegmentGroup(E,g.root,D,O);return new at($,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(E,g){const D={};return Z(E,(O,$)=>{if("string"==typeof O&&O.startsWith(":")){const ve=O.substring(1);D[$]=g[ve]}else D[$]=O}),D}createSegmentGroup(E,g,D,O){const $=this.createSegments(E,g.segments,D,O);let z={};return Z(g.children,(ve,$e)=>{z[$e]=this.createSegmentGroup(E,ve,D,O)}),new ot($,z)}createSegments(E,g,D,O){return g.map($=>$.path.startsWith(":")?this.findPosParam(E,$,O):this.findOrReturn($,D))}findPosParam(E,g,D){const O=D[g.path.substring(1)];if(!O)throw new b.vHH(4001,ze);return O}findOrReturn(E,g){let D=0;for(const O of g){if(O.path===E.path)return g.splice(D),O;D++}return E}}class li{}class as{constructor(E,g,D,O,$,z,ve){this.injector=E,this.rootComponentType=g,this.config=D,this.urlTree=O,this.url=$,this.paramsInheritanceStrategy=z,this.urlSerializer=ve}recognize(){const E=d(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Vt).pipe((0,He.U)(g=>{if(null===g)return null;const D=new Bo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Cr(D,g),$=new xr(this.url,O);return this.inheritParamsAndData($._root),$}))}inheritParamsAndData(E){const g=E.value,D=Uo(g,this.paramsInheritanceStrategy);g.params=Object.freeze(D.params),g.data=Object.freeze(D.data),E.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(E,g,D,O){return 0===D.segments.length&&D.hasChildren()?this.processChildren(E,g,D):this.processSegment(E,g,D,D.segments,O)}processChildren(E,g,D){return(0,R.D)(Object.keys(D.children)).pipe((0,vn.b)(O=>{const $=D.children[O],z=Hi(g,O);return this.processSegmentGroup(E,z,$,O)}),_i((O,$)=>O&&$?(O.push(...$),O):null),function pt(v,E=!1){return g=>g.lift(new We(v,E))}(O=>null!==O),Zr(null),pn(),(0,He.U)(O=>{if(null===O)return null;const $=ho(O);return function Gs(v){v.sort((E,g)=>E.value.outlet===Vt?-1:g.value.outlet===Vt?1:E.value.outlet.localeCompare(g.value.outlet))}($),$}))}processSegment(E,g,D,O,$){return(0,R.D)(g).pipe((0,vn.b)(z=>this.processSegmentAgainstRoute(z._injector??E,z,D,O,$)),ir(z=>!!z),(0,rn.K)(z=>{if(Eo(z))return fe(D,O,$)?(0,ae.of)([]):(0,ae.of)(null);throw z}))}processSegmentAgainstRoute(E,g,D,O,$){if(g.redirectTo||!J(g,D,O,$))return(0,ae.of)(null);let z;if("**"===g.path){const ve=O.length>0?xe(O).parameters:{},$e=Ja(D)+O.length,Et=new Bo(O,ve,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,At(g),Rr(g),g.component??g._loadedComponent??null,g,Ta(D),$e,Zt(g));z=(0,ae.of)({snapshot:Et,consumedSegments:[],remainingSegments:[]})}else z=L(D,g,O,E).pipe((0,He.U)(({matched:ve,consumedSegments:$e,remainingSegments:Et,parameters:mt})=>{if(!ve)return null;const On=Ja(D)+$e.length;return{snapshot:new Bo($e,mt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,At(g),Rr(g),g.component??g._loadedComponent??null,g,Ta(D),On,Zt(g)),consumedSegments:$e,remainingSegments:Et}}));return z.pipe(Fn(ve=>{if(null===ve)return(0,ae.of)(null);const{snapshot:$e,consumedSegments:Et,remainingSegments:mt}=ve;E=g._injector??E;const On=g._loadedInjector??E,tr=function Or(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(g),{segmentGroup:qo,slicedSegments:aa}=d(D,Et,mt,tr.filter(Ds=>void 0===Ds.redirectTo));if(0===aa.length&&qo.hasChildren())return this.processChildren(On,tr,qo).pipe((0,He.U)(Ds=>null===Ds?null:[new Cr($e,Ds)]));if(0===tr.length&&0===aa.length)return(0,ae.of)([new Cr($e,[])]);const ua=Rr(g)===$;return this.processSegment(On,tr,qo,aa,ua?Vt:$).pipe((0,He.U)(Ds=>null===Ds?null:[new Cr($e,Ds)]))}))}}function Ia(v){const E=v.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function ho(v){const E=[],g=new Set;for(const D of v){if(!Ia(D)){E.push(D);continue}const O=E.find($=>D.value.routeConfig===$.value.routeConfig);void 0!==O?(O.children.push(...D.children),g.add(O)):E.push(D)}for(const D of g){const O=ho(D.children);E.push(new Cr(D.value,O))}return E.filter(D=>!g.has(D))}function Ta(v){let E=v;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Ja(v){let E=v,g=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,g+=E._segmentIndexShift??0;return g-1}function At(v){return v.data||{}}function Zt(v){return v.resolve||{}}function Is(v){return"string"==typeof v.title||null===v.title}function eu(v){return Fn(E=>{const g=v(E);return g?(0,R.D)(g).pipe((0,He.U)(()=>E)):(0,ae.of)(E)})}const Oi=new b.OlP("ROUTES");let qi=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,ae.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const D=oe(g.loadComponent()).pipe((0,He.U)(ci),(0,Ct.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=$}),(0,Zn.x)(()=>{this.componentLoaders.delete(g)})),O=new It.c(D,()=>new Ee.xQ).pipe((0,Si.x)());return this.componentLoaders.set(g,O),O}loadChildren(g,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,ae.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const $=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,He.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(D);let $e,Et,mt=!1;Array.isArray(ve)?Et=ve:($e=ve.create(g).injector,Et=ie($e.get(Oi,[],b.XFs.Self|b.XFs.Optional)));return{routes:Et.map(Sn),injector:$e}}),(0,Zn.x)(()=>{this.childrenLoaders.delete(D)})),z=new It.c($,()=>new Ee.xQ).pipe((0,Si.x)());return this.childrenLoaders.set(D,z),z}loadModuleFactoryOrRoutes(g){return oe(g()).pipe((0,He.U)(ci),(0,_n.zg)(D=>D instanceof b.YKP||Array.isArray(D)?(0,ae.of)(D):(0,R.D)(this.compiler.compileModuleAsync(D))))}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function ci(v){return function fo(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let qu=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ee.xQ,this.configLoader=(0,b.f3M)(qi),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(Xs),this.rootContexts=(0,b.f3M)(ss),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new Us(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new rs(O))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:D})}setupNavigations(g){return this.transitions=new me({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:si,restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ut.h)(D=>0!==D.id),(0,He.U)(D=>({...D,extractedUrl:g.urlHandlingStrategy.extract(D.rawUrl)})),Fn(D=>{let O=!1,$=!1;return(0,ae.of)(D).pipe((0,Ct.b)(z=>{this.currentNavigation={id:z.id,initialUrl:z.rawUrl,extractedUrl:z.extractedUrl,trigger:z.source,extras:z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(z=>{const ve=g.browserUrlTree.toString(),$e=!g.navigated||z.extractedUrl.toString()!==ve||ve!==g.currentUrlTree.toString();if(!$e&&"reload"!==(z.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const mt="";return this.events.next(new no(z.id,g.serializeUrl(D.rawUrl),mt,0)),g.rawUrlTree=z.rawUrl,z.resolve(null),kt.E}if(g.urlHandlingStrategy.shouldProcessUrl(z.rawUrl))return Wu(z.source)&&(g.browserUrlTree=z.extractedUrl),(0,ae.of)(z).pipe(Fn(mt=>{const On=this.transitions?.getValue();return this.events.next(new Ni(mt.id,this.urlSerializer.serialize(mt.extractedUrl),mt.source,mt.restoredState)),On!==this.transitions?.getValue()?kt.E:Promise.resolve(mt)}),function gr(v,E,g,D){return Fn(O=>function bn(v,E,g,D,O){return new An(v,E,g,D,O).apply()}(v,E,g,O.extractedUrl,D).pipe((0,He.U)($=>({...O,urlAfterRedirects:$}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,Ct.b)(mt=>{this.currentNavigation={...this.currentNavigation,finalUrl:mt.urlAfterRedirects},D.urlAfterRedirects=mt.urlAfterRedirects}),function gn(v,E,g,D,O){return(0,_n.zg)($=>function Er(v,E,g,D,O,$,z="emptyOnly"){return new as(v,E,g,D,O,z,$).recognize().pipe(Fn(ve=>null===ve?function Pr(v){return new Ve.y(E=>E.error(v))}(new li):(0,ae.of)(ve)))}(v,E,g,$.urlAfterRedirects,D.serialize($.urlAfterRedirects),D,O).pipe((0,He.U)(z=>({...$,targetSnapshot:z}))))}(this.environmentInjector,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,Ct.b)(mt=>{if(D.targetSnapshot=mt.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!mt.extras.skipLocationChange){const tr=g.urlHandlingStrategy.merge(mt.urlAfterRedirects,mt.rawUrl);g.setBrowserUrl(tr,mt)}g.browserUrlTree=mt.urlAfterRedirects}const On=new ro(mt.id,this.urlSerializer.serialize(mt.extractedUrl),this.urlSerializer.serialize(mt.urlAfterRedirects),mt.targetSnapshot);this.events.next(On)}));if($e&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:mt,extractedUrl:On,source:tr,restoredState:qo,extras:aa}=z,ua=new Ni(mt,this.urlSerializer.serialize(On),tr,qo);this.events.next(ua);const Ds=Vo(On,this.rootComponentType).snapshot;return D={...z,targetSnapshot:Ds,urlAfterRedirects:On,extras:{...aa,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(D)}{const mt="";return this.events.next(new no(z.id,g.serializeUrl(D.extractedUrl),mt,1)),g.rawUrlTree=z.rawUrl,z.resolve(null),kt.E}}),(0,Ct.b)(z=>{const ve=new Vs(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot);this.events.next(ve)}),(0,He.U)(z=>D={...z,guards:$s(z.targetSnapshot,z.currentSnapshot,this.rootContexts)}),function wo(v,E){return(0,_n.zg)(g=>{const{targetSnapshot:D,currentSnapshot:O,guards:{canActivateChecks:$,canDeactivateChecks:z}}=g;return 0===z.length&&0===$.length?(0,ae.of)({...g,guardsResult:!0}):function Go(v,E,g,D){return(0,R.D)(v).pipe((0,_n.zg)(O=>function ln(v,E,g,D,O){const $=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!$||0===$.length)return(0,ae.of)(!0);const z=$.map(ve=>{const $e=ai(E)??O,Et=Xr(ve,$e);return oe(function Eu(v){return v&&lo(v.canDeactivate)}(Et)?Et.canDeactivate(v,E,g,D):$e.runInContext(()=>Et(v,E,g,D))).pipe(ir())});return(0,ae.of)(z).pipe(wa())}(O.component,O.route,g,E,D)),ir(O=>!0!==O,!0))}(z,D,O,v).pipe((0,_n.zg)(ve=>ve&&function vu(v){return"boolean"==typeof v}(ve)?function Qa(v,E,g,D){return(0,R.D)(E).pipe((0,vn.b)(O=>Ke(function Xa(v,E){return null!==v&&E&&E(new Xo(v)),(0,ae.of)(!0)}(O.route.parent,D),function Gu(v,E){return null!==v&&E&&E(new ko(v)),(0,ae.of)(!0)}(O.route,D),function Hs(v,E,g){const D=E[E.length-1],$=E.slice(0,E.length-1).reverse().map(z=>function ui(v){const E=v.routeConfig?v.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:v,guards:E}:null}(z)).filter(z=>null!==z).map(z=>Fe(()=>{const ve=z.guards.map($e=>{const Et=ai(z.node)??g,mt=Xr($e,Et);return oe(function vo(v){return v&&lo(v.canActivateChild)}(mt)?mt.canActivateChild(D,v):Et.runInContext(()=>mt(D,v))).pipe(ir())});return(0,ae.of)(ve).pipe(wa())}));return(0,ae.of)($).pipe(wa())}(v,O.path,g),function bi(v,E,g){const D=E.routeConfig?E.routeConfig.canActivate:null;if(!D||0===D.length)return(0,ae.of)(!0);const O=D.map($=>Fe(()=>{const z=ai(E)??g,ve=Xr($,z);return oe(function Ea(v){return v&&lo(v.canActivate)}(ve)?ve.canActivate(E,v):z.runInContext(()=>ve(E,v))).pipe(ir())}));return(0,ae.of)(O).pipe(wa())}(v,O.route,g))),ir(O=>!0!==O,!0))}(D,$,v,E):(0,ae.of)(ve)),(0,He.U)(ve=>({...g,guardsResult:ve})))})}(this.environmentInjector,z=>this.events.next(z)),(0,Ct.b)(z=>{if(D.guardsResult=z.guardsResult,vi(z.guardsResult))throw lr(0,z.guardsResult);const ve=new Ro(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(z.urlAfterRedirects),z.targetSnapshot,!!z.guardsResult);this.events.next(ve)}),(0,Ut.h)(z=>!!z.guardsResult||(g.restoreHistory(z),this.cancelNavigationTransition(z,"",3),!1)),eu(z=>{if(z.guards.canActivateChecks.length)return(0,ae.of)(z).pipe((0,Ct.b)(ve=>{const $e=new _a(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next($e)}),Fn(ve=>{let $e=!1;return(0,ae.of)(ve).pipe(function Kr(v,E){return(0,_n.zg)(g=>{const{targetSnapshot:D,guards:{canActivateChecks:O}}=g;if(!O.length)return(0,ae.of)(g);let $=0;return(0,R.D)(O).pipe((0,vn.b)(z=>function bs(v,E,g,D){const O=v.routeConfig,$=v._resolve;return void 0!==O?.title&&!Is(O)&&($[tn]=O.title),function zi(v,E,g,D){const O=function zs(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===O.length)return(0,ae.of)({});const $={};return(0,R.D)(O).pipe((0,_n.zg)(z=>function wr(v,E,g,D){const O=ai(E)??D,$=Xr(v,O);return oe($.resolve?$.resolve(E,g):O.runInContext(()=>$(E,g)))}(v[z],E,g,D).pipe(ir(),(0,Ct.b)(ve=>{$[z]=ve}))),Ye(1),function Tr(v){return E=>E.lift(new Ln(v))}($),(0,rn.K)(z=>Eo(z)?kt.E:(0,rt._)(z)))}($,v,E,D).pipe((0,He.U)(z=>(v._resolvedData=z,v.data=Uo(v,g).resolve,O&&Is(O)&&(v.data[tn]=O.title),null)))}(z.route,D,v,E)),(0,Ct.b)(()=>$++),Ye(1),(0,_n.zg)(z=>$===O.length?(0,ae.of)(g):kt.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,Ct.b)({next:()=>$e=!0,complete:()=>{$e||(g.restoreHistory(ve),this.cancelNavigationTransition(ve,"",2))}}))}),(0,Ct.b)(ve=>{const $e=new Po(ve.id,this.urlSerializer.serialize(ve.extractedUrl),this.urlSerializer.serialize(ve.urlAfterRedirects),ve.targetSnapshot);this.events.next($e)}))}),eu(z=>{const ve=$e=>{const Et=[];$e.routeConfig?.loadComponent&&!$e.routeConfig._loadedComponent&&Et.push(this.configLoader.loadComponent($e.routeConfig).pipe((0,Ct.b)(mt=>{$e.component=mt}),(0,He.U)(()=>{})));for(const mt of $e.children)Et.push(...ve(mt));return Et};return zt(ve(z.targetSnapshot.root)).pipe(Zr(),Hn(1))}),eu(()=>this.afterPreactivation()),(0,He.U)(z=>{const ve=function vs(v,E,g){const D=ur(v,E._root,g?g._root:void 0);return new Lo(D,E)}(g.routeReuseStrategy,z.targetSnapshot,z.currentRouterState);return D={...z,targetRouterState:ve}}),(0,Ct.b)(z=>{g.currentUrlTree=z.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl),g.routerState=z.targetRouterState,"deferred"===g.urlUpdateStrategy&&(z.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,z),g.browserUrlTree=z.urlAfterRedirects)}),((v,E,g)=>(0,He.U)(D=>(new ta(E,D.targetRouterState,D.currentRouterState,g).activate(v),D)))(this.rootContexts,g.routeReuseStrategy,z=>this.events.next(z)),Hn(1),(0,Ct.b)({next:z=>{O=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new ar(z.id,this.urlSerializer.serialize(z.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(z.targetRouterState.snapshot),z.resolve(!0)},complete:()=>{O=!0}}),(0,Zn.x)(()=>{O||$||this.cancelNavigationTransition(D,"",1),this.currentNavigation?.id===D.id&&(this.currentNavigation=null)}),(0,rn.K)(z=>{if($=!0,ji(z)){uo(z)||(g.navigated=!0,g.restoreHistory(D,!0));const ve=new ns(D.id,this.urlSerializer.serialize(D.extractedUrl),z.message,z.cancellationCode);if(this.events.next(ve),uo(z)){const $e=g.urlHandlingStrategy.merge(z.url,g.rawUrlTree),Et={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||Wu(D.source)};g.scheduleNavigation($e,si,null,Et,{resolve:D.resolve,reject:D.reject,promise:D.promise})}else D.resolve(!1)}else{g.restoreHistory(D,!0);const ve=new Ls(D.id,this.urlSerializer.serialize(D.extractedUrl),z,D.targetSnapshot??void 0);this.events.next(ve);try{D.resolve(g.errorHandler(z))}catch($e){D.reject($e)}}return kt.E}))}))}cancelNavigationTransition(g,D,O){const $=new ns(g.id,this.urlSerializer.serialize(g.extractedUrl),D,O);this.events.next($),g.resolve(!1)}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Wu(v){return v!==si}let tu=(()=>{class v{buildTitle(g){let D,O=g.root;for(;void 0!==O;)D=this.getResolvedTitleForRoute(O)??D,O=O.children.find($=>$.outlet===Vt);return D}getResolvedTitleForRoute(g){return g.data[tn]}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:function(){return(0,b.f3M)(cc)},providedIn:"root"}),v})(),cc=(()=>{class v extends tu{constructor(g){super(),this.title=g}updateTitle(g){const D=this.buildTitle(g);void 0!==D&&this.title.setTitle(D)}}return v.\u0275fac=function(g){return new(g||v)(b.LFG(wn.Dx))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),bd=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:function(){return(0,b.f3M)(Ku)},providedIn:"root"}),v})();class dc{shouldDetach(E){return!1}store(E,g){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,g){return E.routeConfig===g.routeConfig}}let Ku=(()=>{class v extends dc{}return v.\u0275fac=function(){let E;return function(D){return(E||(E=b.n5z(v)))(D||v)}}(),v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Ca=new b.OlP("",{providedIn:"root",factory:()=>({})});let nu=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:function(){return(0,b.f3M)(Sa)},providedIn:"root"}),v})(),Sa=(()=>{class v{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,D){return g}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function hc(v){throw v}function fc(v,E,g){return E.parse("/")}const ru={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qs=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this.options=(0,b.f3M)(Ca,{optional:!0})||{},this.errorHandler=this.options.errorHandler||hc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||fc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(nu),this.routeReuseStrategy=(0,b.f3M)(bd),this.urlCreationStrategy=(0,b.f3M)(ys),this.titleStrategy=(0,b.f3M)(tu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ie((0,b.f3M)(Oi,{optional:!0})??[]),this.navigationTransitions=(0,b.f3M)(qu),this.urlSerializer=(0,b.f3M)(Xs),this.location=(0,b.f3M)(Ft.Ye),this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new at,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId??0},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),si,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const D="popstate"===g.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,D,g.state)},0)}))}navigateToSyncWithBrowser(g,D,O){const $={replaceUrl:!0},z=O?.navigationId?O:null;if(O){const $e={...O};delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&($.state=$e)}const ve=this.parseUrl(g);this.scheduleNavigation(ve,D,z,$)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(Sn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,D={}){const{relativeTo:O,queryParams:$,fragment:z,queryParamsHandling:ve,preserveFragment:$e}=D,Et=$e?this.currentUrlTree.fragment:z;let mt=null;switch(ve){case"merge":mt={...this.currentUrlTree.queryParams,...$};break;case"preserve":mt=this.currentUrlTree.queryParams;break;default:mt=$||null}return null!==mt&&(mt=this.removeEmptyProps(mt)),this.urlCreationStrategy.createUrlTree(O,this.routerState,this.currentUrlTree,g,mt,Et??null)}navigateByUrl(g,D={skipLocationChange:!1}){const O=vi(g)?g:this.parseUrl(g),$=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation($,si,null,D)}navigate(g,D={skipLocationChange:!1}){return function er(v){for(let E=0;E<v.length;E++){const g=v[E];if(null==g)throw new b.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,D),D)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let D;try{D=this.urlSerializer.parse(g)}catch(O){D=this.malformedUriErrorHandler(O,this.urlSerializer,g)}return D}isActive(g,D){let O;if(O=!0===D?{...ru}:!1===D?{...Dl}:D,vi(g))return Nt(this.currentUrlTree,g,O);const $=this.parseUrl(g);return Nt(this.currentUrlTree,$,O)}removeEmptyProps(g){return Object.keys(g).reduce((D,O)=>{const $=g[O];return null!=$&&(D[O]=$),D},{})}scheduleNavigation(g,D,O,$,z){if(this.disposed)return Promise.resolve(!1);let ve,$e,Et,mt;return z?(ve=z.resolve,$e=z.reject,Et=z.promise):Et=new Promise((On,tr)=>{ve=On,$e=tr}),mt="computed"===this.canceledNavigationResolution?O&&O.\u0275routerPageId?O.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:mt,source:D,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:$,resolve:ve,reject:$e,promise:Et,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Et.catch(On=>Promise.reject(On))}setBrowserUrl(g,D){const O=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(O)||D.extras.replaceUrl){const z={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(O,"",z)}else{const $={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.go(O,"",$)}}restoreHistory(g,D=!1){if("computed"===this.canceledNavigationResolution){const $=this.currentPageId-(this.browserPageId??this.currentPageId);0!==$?this.location.historyGo($):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===$&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,D){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:D}:{navigationId:g}}}return v.\u0275fac=function(g){return new(g||v)},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),pc=(()=>{class v{constructor(g,D,O,$,z,ve){this.router=g,this.route=D,this.tabIndexAttribute=O,this.renderer=$,this.el=z,this.locationStrategy=ve,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ee.xQ;const $e=z.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$e||"area"===$e,this.isAnchorElement?this.subscription=g.events.subscribe(Et=>{Et instanceof ar&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,b.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,b.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,b.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,D,O,$,z){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||D||O||$||z||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,D){const O=this.renderer,$=this.el.nativeElement;null!==D?O.setAttribute($,g,D):O.removeAttribute($,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(g){return new(g||v)(b.Y36(qs),b.Y36(oi),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(Ft.S$))},v.\u0275dir=b.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,D){1&g&&b.NdJ("click",function($){return D.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&g&&b.uIk("target",D.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[b.TTD]}),v})();class Td{}let ff=(()=>{class v{constructor(g,D,O,$,z){this.router=g,this.injector=O,this.preloadingStrategy=$,this.loader=z}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ut.h)(g=>g instanceof ar),(0,vn.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,D){const O=[];for(const $ of D){$.providers&&!$._injector&&($._injector=(0,b.MMx)($.providers,g,`Route: ${$.path}`));const z=$._injector??g,ve=$._loadedInjector??z;($.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent)&&O.push(this.preloadConfig(z,$)),($.children||$._loadedRoutes)&&O.push(this.processRoutes(ve,$.children??$._loadedRoutes))}return(0,R.D)(O).pipe((0,qe.J)())}preloadConfig(g,D){return this.preloadingStrategy.preload(D,()=>{let O;O=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(g,D):(0,ae.of)(null);const $=O.pipe((0,_n.zg)(z=>null===z?(0,ae.of)(void 0):(D._loadedRoutes=z.routes,D._loadedInjector=z.injector,this.processRoutes(z.injector??g,z.routes))));if(D.loadComponent&&!D._loadedComponent){const z=this.loader.loadComponent(D);return(0,R.D)([$,z]).pipe((0,qe.J)())}return $})}}return v.\u0275fac=function(g){return new(g||v)(b.LFG(qs),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(Td),b.LFG(qi))},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const iu=new b.OlP("");let Tl=(()=>{class v{constructor(g,D,O,$,z={}){this.urlSerializer=g,this.transitions=D,this.viewportScroller=O,this.zone=$,this.options=z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},z.scrollPositionRestoration=z.scrollPositionRestoration||"disabled",z.anchorScrolling=z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof ar&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Ri&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ri(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return v.\u0275fac=function(g){b.$Z()},v.\u0275prov=b.Yz7({token:v,factory:v.\u0275fac}),v})();var bo=(()=>((bo=bo||{})[bo.COMPLETE=0]="COMPLETE",bo[bo.FAILED=1]="FAILED",bo[bo.REDIRECTING=2]="REDIRECTING",bo))();const sa=!1;function mr(v,E){return{\u0275kind:v,\u0275providers:E}}const zo=new b.OlP("",{providedIn:"root",factory:()=>!1});function yc(){const v=(0,b.f3M)(b.zs3);return E=>{const g=v.get(b.z2F);if(E!==g.components[0])return;const D=v.get(qs),O=v.get(pf);1===v.get(Iu)&&D.initialNavigation(),v.get(Ma,null,b.XFs.Optional)?.setUpPreloading(),v.get(iu,null,b.XFs.Optional)?.init(),D.resetRootComponentType(g.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const pf=new b.OlP(sa?"bootstrap done indicator":"",{factory:()=>new Ee.xQ}),Iu=new b.OlP(sa?"initial navigation":"",{providedIn:"root",factory:()=>1});function La(){let v=[];return v=sa?[{provide:b.Xts,multi:!0,useFactory:()=>{const E=(0,b.f3M)(qs);return()=>E.events.subscribe(g=>{console.group?.(`Router Event: ${g.constructor.name}`),console.log(function io(v){if(!("type"in v))return`Unknown Router Event: ${v.constructor.name}`;switch(v.type){case 14:return`ActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${v.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${v.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state}, shouldActivate: ${v.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 2:return`NavigationCancel(id: ${v.id}, url: '${v.url}')`;case 16:return`NavigationSkipped(id: ${v.id}, url: '${v.url}')`;case 1:return`NavigationEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${v.id}, url: '${v.url}', error: ${v.error})`;case 0:return`NavigationStart(id: ${v.id}, url: '${v.url}')`;case 6:return`ResolveEnd(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 5:return`ResolveStart(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 10:return`RouteConfigLoadEnd(path: ${v.route.path})`;case 9:return`RouteConfigLoadStart(path: ${v.route.path})`;case 4:return`RoutesRecognized(id: ${v.id}, url: '${v.url}', urlAfterRedirects: '${v.urlAfterRedirects}', state: ${v.state})`;case 15:return`Scroll(anchor: '${v.anchor}', position: '${v.position?`${v.position[0]}, ${v.position[1]}`:null}')`}}(g)),console.log(g),console.groupEnd?.()})}}]:[],mr(1,v)}const Ma=new b.OlP(sa?"router preloader":"");function dg(v){return mr(0,[{provide:Ma,useExisting:ff},{provide:Td,useExisting:v}])}const Va=!1,us=new b.OlP(Va?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Sd=[Ft.Ye,{provide:Xs,useClass:Js},qs,ss,{provide:oi,useFactory:function gc(v){return v.routerState.root},deps:[qs]},qi,Va?{provide:zo,useValue:!0}:[]];function Du(){return new b.PXZ("Router",qs)}let xa=(()=>{class v{constructor(g){}static forRoot(g,D){return{ngModule:v,providers:[Sd,Va&&D?.enableTracing?La().\u0275providers:[],{provide:Oi,multi:!0,useValue:g},{provide:us,useFactory:au,deps:[[qs,new b.FiY,new b.tp0]]},{provide:Ca,useValue:D||{}},D?.useHash?{provide:Ft.S$,useClass:Ft.Do}:{provide:Ft.S$,useClass:Ft.b0},{provide:iu,useFactory:()=>{const v=(0,b.f3M)(Ft.EM),E=(0,b.f3M)(b.R0b),g=(0,b.f3M)(Ca),D=(0,b.f3M)(qu),O=(0,b.f3M)(Xs);return g.scrollOffset&&v.setOffset(g.scrollOffset),new Tl(O,D,v,E,g)}},D?.preloadingStrategy?dg(D.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:Du},D?.initialNavigation?oa(D):[],[{provide:Ua,useFactory:yc},{provide:b.tb,multi:!0,useExisting:Ua}]]}}static forChild(g){return{ngModule:v,providers:[{provide:Oi,multi:!0,useValue:g}]}}}return v.\u0275fac=function(g){return new(g||v)(b.LFG(us,8))},v.\u0275mod=b.oAB({type:v}),v.\u0275inj=b.cJS({imports:[P]}),v})();function au(v){if(Va&&v)throw new b.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function oa(v){return["disabled"===v.initialNavigation?mr(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const E=(0,b.f3M)(qs);return()=>{E.setUpLocationChangeListener()}}},{provide:Iu,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?mr(2,[{provide:Iu,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:E=>{const g=E.get(Ft.V_,Promise.resolve());return()=>g.then(()=>new Promise(D=>{const O=E.get(qs),$=E.get(pf);(function Fr(v,E){v.events.pipe((0,Ut.h)(g=>g instanceof ar||g instanceof ns||g instanceof Ls||g instanceof no),(0,He.U)(g=>g instanceof ar||g instanceof no?bo.COMPLETE:g instanceof ns&&(0===g.code||1===g.code)?bo.REDIRECTING:bo.FAILED),(0,Ut.h)(g=>g!==bo.REDIRECTING),Hn(1)).subscribe(()=>{E()})})(O,()=>{D(!0)}),E.get(qu).afterPreactivation=()=>(D(!0),$.closed?(0,ae.of)(void 0):$),O.initialNavigation()}))}}]).\u0275providers:[]]}const Ua=new b.OlP(Va?"Router Initializer":"")},9681:(Ht,je,Q)=>{Q.d(je,{C6:()=>ir,Jn:()=>Br,KN:()=>rn,Mq:()=>$r,Xd:()=>Ut,ZF:()=>yi,qX:()=>_n});var b=Q(5861),R=Q(4859),ae=Q(1877),Ee=Q(2090),re=Q(8766);class me{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(ue=>{if(function Ne(Qe){return"VERSION"===Qe.getComponent()?.type}(ue)){const ne=ue.getImmediate();return`${ne.library}/${ne.version}`}return null}).filter(ue=>ue).join(" ")}}const Ce="@firebase/app",X=new ae.Yd("@firebase/app"),Sr="[DEFAULT]",gi={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hn=new Map,yr=new Map;function Bn(Qe,Pe){try{Qe.container.addComponent(Pe)}catch(ue){X.debug(`Component ${Pe.name} failed to register with FirebaseApp ${Qe.name}`,ue)}}function Ut(Qe){const Pe=Qe.name;if(yr.has(Pe))return X.debug(`There were multiple attempts to register component ${Pe}.`),!1;yr.set(Pe,Qe);for(const ue of Hn.values())Bn(ue,Qe);return!0}function _n(Qe,Pe){const ue=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return ue&&ue.triggerHeartbeat(),Qe.container.getProvider(Pe)}const dr=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class mi{constructor(Pe,ue,ne){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},ue),this._name=ue.name,this._automaticDataCollectionEnabled=ue.automaticDataCollectionEnabled,this._container=ne,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Br="9.17.1";function yi(Qe,Pe={}){let ue=Qe;"object"!=typeof Pe&&(Pe={name:Pe});const ne=Object.assign({name:Sr,automaticDataCollectionEnabled:!1},Pe),ie=ne.name;if("string"!=typeof ie||!ie)throw dr.create("bad-app-name",{appName:String(ie)});if(ue||(ue=(0,Ee.aH)()),!ue)throw dr.create("no-options");const xe=Hn.get(ie);if(xe){if((0,Ee.vZ)(ue,xe.options)&&(0,Ee.vZ)(ne,xe.config))return xe;throw dr.create("duplicate-app",{appName:ie})}const q=new R.H0(ie);for(const oe of yr.values())q.addComponent(oe);const Z=new mi(ue,ne,q);return Hn.set(ie,Z),Z}function $r(Qe=Sr){const Pe=Hn.get(Qe);if(!Pe&&Qe===Sr)return yi();if(!Pe)throw dr.create("no-app",{appName:Qe});return Pe}function ir(){return Array.from(Hn.values())}function rn(Qe,Pe,ue){var ne;let ie=null!==(ne=gi[Qe])&&void 0!==ne?ne:Qe;ue&&(ie+=`-${ue}`);const xe=ie.match(/\s|\//),q=Pe.match(/\s|\//);if(xe||q){const Z=[`Unable to register library "${ie}" with version "${Pe}":`];return xe&&Z.push(`library name "${ie}" contains illegal characters (whitespace or "/")`),xe&&q&&Z.push("and"),q&&Z.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void X.warn(Z.join(" "))}Ut(new R.wA(`${ie}-version`,()=>({library:ie,version:Pe}),"VERSION"))}const xt="firebase-heartbeat-database",Ye=1,In="firebase-heartbeat-store";let fn=null;function pn(){return fn||(fn=(0,re.X3)(xt,Ye,{upgrade:(Qe,Pe)=>{0===Pe&&Qe.createObjectStore(In)}}).catch(Qe=>{throw dr.create("idb-open",{originalErrorMessage:Qe.message})})),fn}function We(){return(We=(0,b.Z)(function*(Qe){try{return(yield pn()).transaction(In).objectStore(In).get(Ln(Qe))}catch(Pe){if(Pe instanceof Ee.ZR)X.warn(Pe.message);else{const ue=dr.create("idb-get",{originalErrorMessage:Pe?.message});X.warn(ue.message)}}})).apply(this,arguments)}function hr(Qe,Pe){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,b.Z)(function*(Qe,Pe){try{const ne=(yield pn()).transaction(In,"readwrite");return yield ne.objectStore(In).put(Pe,Ln(Qe)),ne.done}catch(ue){if(ue instanceof Ee.ZR)X.warn(ue.message);else{const ne=dr.create("idb-set",{originalErrorMessage:ue?.message});X.warn(ne.message)}}})).apply(this,arguments)}function Ln(Qe){return`${Qe.name}!${Qe.options.appId}`}class Si{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const ue=this.container.getProvider("app").getImmediate();this._storage=new tn(ue),this._heartbeatsCachePromise=this._storage.read().then(ne=>(this._heartbeatsCache=ne,ne))}triggerHeartbeat(){var Pe=this;return(0,b.Z)(function*(){const ne=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ie=wn();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==ie&&!Pe._heartbeatsCache.heartbeats.some(xe=>xe.date===ie))return Pe._heartbeatsCache.heartbeats.push({date:ie,agent:ne}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(xe=>{const q=new Date(xe.date).valueOf();return Date.now()-q<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,b.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const ue=wn(),{heartbeatsToSend:ne,unsentEntries:ie}=function Vt(Qe,Pe=1024){const ue=[];let ne=Qe.slice();for(const ie of Qe){const xe=ue.find(q=>q.agent===ie.agent);if(xe){if(xe.dates.push(ie.date),Ui(ue)>Pe){xe.dates.pop();break}}else if(ue.push({agent:ie.agent,dates:[ie.date]}),Ui(ue)>Pe){ue.pop();break}ne=ne.slice(1)}return{heartbeatsToSend:ue,unsentEntries:ne}}(Pe._heartbeatsCache.heartbeats),xe=(0,Ee.L)(JSON.stringify({version:2,heartbeats:ne}));return Pe._heartbeatsCache.lastSentHeartbeatDate=ue,ie.length>0?(Pe._heartbeatsCache.heartbeats=ie,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),xe})()}}function wn(){return(new Date).toISOString().substring(0,10)}class tn{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,Ee.hl)()&&(0,Ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,b.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function pt(Qe){return We.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var ue=this;return(0,b.Z)(function*(){var ne;if(yield ue._canUseIndexedDBPromise){const xe=yield ue.read();return hr(ue.app,{lastSentHeartbeatDate:null!==(ne=Pe.lastSentHeartbeatDate)&&void 0!==ne?ne:xe.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var ue=this;return(0,b.Z)(function*(){var ne;if(yield ue._canUseIndexedDBPromise){const xe=yield ue.read();return hr(ue.app,{lastSentHeartbeatDate:null!==(ne=Pe.lastSentHeartbeatDate)&&void 0!==ne?ne:xe.lastSentHeartbeatDate,heartbeats:[...xe.heartbeats,...Pe.heartbeats]})}})()}}function Ui(Qe){return(0,Ee.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function Yn(Qe){Ut(new R.wA("platform-logger",Pe=>new me(Pe),"PRIVATE")),Ut(new R.wA("heartbeat",Pe=>new Si(Pe),"PRIVATE")),rn(Ce,"0.9.3",Qe),rn(Ce,"0.9.3","esm2017"),rn("fire-js","")}("")},4859:(Ht,je,Q)=>{Q.d(je,{H0:()=>Ce,wA:()=>ae});var b=Q(5861),R=Q(2090);class ae{constructor(X,Y,le){this.name=X,this.instanceFactory=Y,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Ee="[DEFAULT]";class re{constructor(X,Y){this.name=X,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const Y=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(Y)){const le=new R.BH;if(this.instancesDeferred.set(Y,le),this.isInitialized(Y)||this.shouldAutoInitialize())try{const Me=this.getOrInitializeService({instanceIdentifier:Y});Me&&le.resolve(Me)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(X){var Y;const le=this.normalizeInstanceIdentifier(X?.identifier),Me=null!==(Y=X?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(Me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Be){if(Me)return null;throw Be}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function Ne(ye){return"EAGER"===ye.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[Y,le]of this.instancesDeferred.entries()){const Me=this.normalizeInstanceIdentifier(Y);try{const Be=this.getOrInitializeService({instanceIdentifier:Me});le.resolve(Be)}catch{}}}}clearInstance(X=Ee){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,b.Z)(function*(){const Y=Array.from(X.instances.values());yield Promise.all([...Y.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...Y.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Ee){return this.instances.has(X)}getOptions(X=Ee){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:Y={}}=X,le=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Me=this.getOrInitializeService({instanceIdentifier:le,options:Y});for(const[Be,Ve]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Be)&&Ve.resolve(Me);return Me}onInit(X,Y){var le;const Me=this.normalizeInstanceIdentifier(Y),Be=null!==(le=this.onInitCallbacks.get(Me))&&void 0!==le?le:new Set;Be.add(X),this.onInitCallbacks.set(Me,Be);const Ve=this.instances.get(Me);return Ve&&X(Ve,Me),()=>{Be.delete(X)}}invokeOnInitCallbacks(X,Y){const le=this.onInitCallbacks.get(Y);if(le)for(const Me of le)try{Me(X,Y)}catch{}}getOrInitializeService({instanceIdentifier:X,options:Y={}}){let le=this.instances.get(X);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=X,ye===Ee?void 0:ye),options:Y}),this.instances.set(X,le),this.instancesOptions.set(X,Y),this.invokeOnInitCallbacks(le,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,le)}catch{}var ye;return le||null}normalizeInstanceIdentifier(X=Ee){return this.component?this.component.multipleInstances?X:Ee:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const Y=this.getProvider(X.name);if(Y.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);Y.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const Y=new re(X,this);return this.providers.set(X,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(Ht,je,Q)=>{Q.d(je,{Yd:()=>Ne,in:()=>R});const b=[];var R=(()=>{return(X=R||(R={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",R;var X})();const ae={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},Ee=R.INFO,re={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},me=(X,Y,...le)=>{if(Y<X.logLevel)return;const Me=(new Date).toISOString(),Be=re[Y];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Be](`[${Me}]  ${X.name}:`,...le)};class Ne{constructor(Y){this.name=Y,this._logLevel=Ee,this._logHandler=me,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in R))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?ae[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...Y),this._logHandler(this,R.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...Y),this._logHandler(this,R.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,R.INFO,...Y),this._logHandler(this,R.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,R.WARN,...Y),this._logHandler(this,R.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...Y),this._logHandler(this,R.ERROR,...Y)}}},577:(Ht,je,Q)=>{Q.d(je,{_J:()=>nt,bk:()=>zt});var b=Q(5675),R=Q(6895),ae=Q(1086),Ee=Q(1737),re=Q(4850),me=Q(2868),Ne=Q(7221),Ce=Q(537),ye=Q(2474),X=Q(529);const Y=["*"];class le{}let Me=(()=>{class dt extends le{constructor(we){super(),this.http=we}getSvg(we){return this.http.get(we,{responseType:"text"})}}return dt.\u0275fac=function(we){return new(we||dt)(b.LFG(X.eN))},dt.\u0275prov=b.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Be=new b.OlP("SERVER_URL");let Ve=(()=>{class dt{constructor(we,Ke,kt,Fe){this.loader=we,this.platformId=Ke,this.serverUrl=kt,this._document=Fe,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(we,Ke){if(!this.iconsByUrl.has(we)){const kt=this.document.createElement("DIV");kt.innerHTML=Ke;const Fe=kt.querySelector("svg");this.iconsByUrl.set(we,Fe)}}loadSvg(we,Ke=we){if(this.serverUrl&&null===we.match(/^(http(s)?):/)&&(Ke=we=this.serverUrl+we),this.iconsByUrl.has(Ke))return(0,ae.of)(this.iconsByUrl.get(Ke));if(this.iconsLoadingByUrl.has(Ke))return this.iconsLoadingByUrl.get(Ke);const kt=this.loader.getSvg(we).pipe((0,re.U)(Fe=>{const ke=this.document.createElement("DIV");return ke.innerHTML=Fe,ke.querySelector("svg")}),(0,me.b)(Fe=>this.iconsByUrl.set(Ke,Fe)),(0,Ne.K)(Fe=>(console.error(Fe),(0,Ee._)(Fe))),(0,Ce.x)(()=>this.iconsLoadingByUrl.delete(Ke)),(0,ye.B)());return this.iconsLoadingByUrl.set(Ke,kt),kt}getSvgByName(we){return this.iconsByUrl.has(we)?(0,ae.of)(this.iconsByUrl.get(we)):this.iconsLoadingByUrl.has(we)?this.iconsLoadingByUrl.get(we):(0,Ee._)(`No svg with name '${we}' has been loaded`)}unloadSvg(we){this.iconsByUrl.has(we)&&this.iconsByUrl.delete(we)}}return dt.\u0275fac=function(we){return new(we||dt)(b.LFG(le),b.LFG(b.Lbi),b.LFG(Be,8),b.LFG(R.K0,8))},dt.\u0275prov=b.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const yt={provide:Ve,deps:[[new b.FiY,new b.tp0,Ve],le,[b.Lbi],[new b.FiY,Be],[new b.FiY,R.K0]],useFactory:function lt(dt,qe,we,Ke,kt){return dt||new Ve(qe,we,Ke,kt)}};class St{constructor(){this.loaded=!1}}let zt=(()=>{class dt{constructor(we,Ke,kt,Fe,ke){this.element=we,this.differs=Ke,this.renderer=kt,this.iconReg=Fe,this.cdr=ke,this.stretch=!1,this.applyClass=!1,this.applyCss=!1,this.helper=new St,this._svgStyle=null}set svgStyle(we){this._svgStyle=we,!this.helper.differ&&we&&(this.helper.differ=this.differs.find(we).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(we){const Ke=this.element.nativeElement.firstChild;(we.src||we.name)&&(this.helper.loaded&&this.destroy(),this.init()),we.stretch&&this.stylize(),we.applyClass&&(this.applyClass?this.setClass(Ke,null,this.klass):this.setClass(Ke,this.klass,null)),we.svgClass&&this.setClass(Ke,we.svgClass.previousValue,we.svgClass.currentValue),we.klass&&(this.setClass(this.element.nativeElement,we.klass.previousValue,we.klass.currentValue),this.setClass(Ke,we.klass.previousValue,this.applyClass?we.klass.currentValue:null)),we.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),we.applyCss&&(console.warn("applyCss deprecated since 9.1.0, will be removed in 10.0.0"),console.warn("use applyClass instead")),we.svgAriaLabel&&this.doAria(we.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const we=this.helper.differ.diff(this._svgStyle);we&&this.applyChanges(we)}}init(){if(this.name){const we=this.iconReg.getSvgByName(this.name);we&&(this.helper.icnSub=we.subscribe(Ke=>this.initSvg(Ke)))}else if(this.src){const we=this.iconReg.loadSvg(this.src);we&&(this.helper.icnSub=we.subscribe(Ke=>this.initSvg(Ke)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(we){!this.helper.loaded&&we&&(this.setSvg(we),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new St}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(we){if(!this.helper.loaded&&we){this.helper.svg=we;const Ke=we.cloneNode(!0),kt=this.element.nativeElement;if(kt.innerHTML="",this.renderer.appendChild(kt,Ke),this.helper.loaded=!0,this.copyNgContentAttribute(kt,Ke),this.klass&&this.applyClass&&this.setClass(kt.firstChild,null,this.klass),this.svgClass&&this.setClass(kt.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const Fe=Ke.getAttribute("width"),ke=Ke.getAttribute("height");ke&&Fe&&(this.renderer.setAttribute(Ke,"viewBox",`0 0 ${Fe} ${ke}`),this.renderer.removeAttribute(Ke,"width"),this.renderer.removeAttribute(Ke,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(Ke,"viewBox",this.viewBox),this.renderer.removeAttribute(Ke,"width"),this.renderer.removeAttribute(Ke,"height"));this.stylize(),void 0===this.svgAriaLabel&&kt.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(we,Ke){const kt=we.attributes,Fe=kt.length;for(let ke=0;ke<Fe;ke+=1){const rt=kt.item(ke);if(rt&&rt.name.startsWith("_ngcontent")){this.setNgContentAttribute(Ke,rt.name);break}}}setNgContentAttribute(we,Ke){this.renderer.setAttribute(we,Ke,"");const kt=we.childNodes.length;for(let Fe=0;Fe<kt;Fe+=1){const ke=we.childNodes[Fe];ke instanceof Element&&this.setNgContentAttribute(ke,Ke)}}stylize(){if(this.helper.svg){const we=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(we,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(we,"preserveAspectRatio")}}applyChanges(we){we.forEachRemovedItem(Ke=>this.setStyle(Ke.key,null)),we.forEachAddedItem(Ke=>this.setStyle(Ke.key,Ke.currentValue)),we.forEachChangedItem(Ke=>this.setStyle(Ke.key,Ke.currentValue))}setStyle(we,Ke){const[kt,Fe]=we.split("."),ke=this.element.nativeElement.firstChild;null!==(Ke=null!==Ke&&Fe?`${Ke}${Fe}`:Ke)?this.renderer.setStyle(ke,kt,Ke):this.renderer.removeStyle(ke,kt)}setClass(we,Ke,kt){if(we){if(Ke){const Fe=(Array.isArray(Ke)?Ke:Ke.split(" ")).filter(ke=>ke);for(const ke of Fe)this.renderer.removeClass(we,ke)}if(kt){const Fe=(Array.isArray(kt)?kt:kt.split(" ")).filter(ke=>ke);for(const ke of Fe)this.renderer.addClass(we,ke)}}}doAria(we){const Ke=this.element.nativeElement.firstChild;Ke&&(""===we?(this.renderer.setAttribute(Ke,"aria-hidden","true"),this.renderer.removeAttribute(Ke,"aria-label")):(this.renderer.removeAttribute(Ke,"aria-hidden"),this.renderer.setAttribute(Ke,"aria-label",we)))}}return dt.\u0275fac=function(we){return new(we||dt)(b.Y36(b.SBq),b.Y36(b.aQg),b.Y36(b.Qsj),b.Y36(Ve),b.Y36(b.sBO))},dt.\u0275cmp=b.Xpm({type:dt,selectors:[["svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",applyCss:"applyCss",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[b.TTD],ngContentSelectors:Y,decls:1,vars:0,template:function(we,Ke){1&we&&(b.F$t(),b.Hsn(0))},encapsulation:2}),dt})(),nt=(()=>{class dt{static forRoot(we={}){return{ngModule:dt,providers:[yt,we.loader||{provide:le,useClass:Me}]}}}return dt.\u0275fac=function(we){return new(we||dt)},dt.\u0275mod=b.oAB({type:dt}),dt.\u0275inj=b.cJS({imports:[R.ez]}),dt})()},259:(Ht,je,Q)=>{Q.d(je,{C6:()=>b.C6,KN:()=>b.KN,Mq:()=>b.Mq,ZF:()=>b.ZF});var b=Q(9681);(0,b.KN)("firebase","9.17.1","app")},8766:(Ht,je,Q)=>{Q.d(je,{Lj:()=>dt,X3:()=>nt});var b=Q(5861);const R=(Fe,ke)=>ke.some(rt=>Fe instanceof rt);let ae,Ee;const Ne=new WeakMap,Ce=new WeakMap,ye=new WeakMap,X=new WeakMap,Y=new WeakMap;let Be={get(Fe,ke,rt){if(Fe instanceof IDBTransaction){if("done"===ke)return Ce.get(Fe);if("objectStoreNames"===ke)return Fe.objectStoreNames||ye.get(Fe);if("store"===ke)return rt.objectStoreNames[1]?void 0:rt.objectStore(rt.objectStoreNames[0])}return St(Fe[ke])},set:(Fe,ke,rt)=>(Fe[ke]=rt,!0),has:(Fe,ke)=>Fe instanceof IDBTransaction&&("done"===ke||"store"===ke)||ke in Fe};function yt(Fe){return"function"==typeof Fe?function lt(Fe){return Fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Fe)?function(...ke){return Fe.apply(zt(this),ke),St(Ne.get(this))}:function(...ke){return St(Fe.apply(zt(this),ke))}:function(ke,...rt){const It=Fe.call(zt(this),ke,...rt);return ye.set(It,ke.sort?ke.sort():[ke]),St(It)}}(Fe):(Fe instanceof IDBTransaction&&function Me(Fe){if(Ce.has(Fe))return;const ke=new Promise((rt,It)=>{const Ft=()=>{Fe.removeEventListener("complete",He),Fe.removeEventListener("error",nn),Fe.removeEventListener("abort",nn)},He=()=>{rt(),Ft()},nn=()=>{It(Fe.error||new DOMException("AbortError","AbortError")),Ft()};Fe.addEventListener("complete",He),Fe.addEventListener("error",nn),Fe.addEventListener("abort",nn)});Ce.set(Fe,ke)}(Fe),R(Fe,function re(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Fe,Be):Fe)}function St(Fe){if(Fe instanceof IDBRequest)return function le(Fe){const ke=new Promise((rt,It)=>{const Ft=()=>{Fe.removeEventListener("success",He),Fe.removeEventListener("error",nn)},He=()=>{rt(St(Fe.result)),Ft()},nn=()=>{It(Fe.error),Ft()};Fe.addEventListener("success",He),Fe.addEventListener("error",nn)});return ke.then(rt=>{rt instanceof IDBCursor&&Ne.set(rt,Fe)}).catch(()=>{}),Y.set(ke,Fe),ke}(Fe);if(X.has(Fe))return X.get(Fe);const ke=yt(Fe);return ke!==Fe&&(X.set(Fe,ke),Y.set(ke,Fe)),ke}const zt=Fe=>Y.get(Fe);function nt(Fe,ke,{blocked:rt,upgrade:It,blocking:Ft,terminated:He}={}){const nn=indexedDB.open(Fe,ke),Fn=St(nn);return It&&nn.addEventListener("upgradeneeded",Wn=>{It(St(nn.result),Wn.oldVersion,Wn.newVersion,St(nn.transaction))}),rt&&nn.addEventListener("blocked",()=>rt()),Fn.then(Wn=>{He&&Wn.addEventListener("close",()=>He()),Ft&&Wn.addEventListener("versionchange",()=>Ft())}).catch(()=>{}),Fn}function dt(Fe,{blocked:ke}={}){const rt=indexedDB.deleteDatabase(Fe);return ke&&rt.addEventListener("blocked",()=>ke()),St(rt).then(()=>{})}const qe=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],Ke=new Map;function kt(Fe,ke){if(!(Fe instanceof IDBDatabase)||ke in Fe||"string"!=typeof ke)return;if(Ke.get(ke))return Ke.get(ke);const rt=ke.replace(/FromIndex$/,""),It=ke!==rt,Ft=we.includes(rt);if(!(rt in(It?IDBIndex:IDBObjectStore).prototype)||!Ft&&!qe.includes(rt))return;const He=function(){var nn=(0,b.Z)(function*(Fn,...Wn){const Ci=this.transaction(Fn,Ft?"readwrite":"readonly");let Sr=Ci.store;return It&&(Sr=Sr.index(Wn.shift())),(yield Promise.all([Sr[rt](...Wn),Ft&&Ci.done]))[0]});return function(Wn){return nn.apply(this,arguments)}}();return Ke.set(ke,He),He}!function Ve(Fe){Be=Fe(Be)}(Fe=>({...Fe,get:(ke,rt,It)=>kt(ke,rt)||Fe.get(ke,rt,It),has:(ke,rt)=>!!kt(ke,rt)||Fe.has(ke,rt)}))},5861:(Ht,je,Q)=>{function b(ae,Ee,re,me,Ne,Ce,ye){try{var X=ae[Ce](ye),Y=X.value}catch(le){return void re(le)}X.done?Ee(Y):Promise.resolve(Y).then(me,Ne)}function R(ae){return function(){var Ee=this,re=arguments;return new Promise(function(me,Ne){var Ce=ae.apply(Ee,re);function ye(Y){b(Ce,me,Ne,ye,X,"next",Y)}function X(Y){b(Ce,me,Ne,ye,X,"throw",Y)}ye(void 0)})}}Q.d(je,{Z:()=>R})}},Ht=>{Ht(Ht.s=5495)}]);